[{"title":"YOLOv5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•","url":"/åˆé›†/ç¼–ç¨‹/YOLOv5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•/","content":"\n## é¢„å¤‡\n\n- pythonç¯å¢ƒå’ŒpythonçŸ¥è¯†\n- ä¸‹è½½YOLOv5ä»£ç ï¼ˆ[ultralytics/yolov5: YOLOv5 ğŸš€ in PyTorch > ONNX > CoreML > TFLite (github.com)](https://github.com/ultralytics/yolov5)\n- å®‰è£…YOLOv5çš„ä¾èµ–åº“\n  - æŒ‡ä»¤: `pip install -r requirements.txt`\n\n## è®­ç»ƒæ•°æ®é›†å‡†å¤‡\n\nå®˜æ–¹æ¨èä½¿ç”¨roboflowï¼ˆ[Roboflow: Give your software the power to see objects in images and video](https://roboflow.com/)ï¼‰è¿™ä¸ªç½‘ç«™è¿›è¡Œæ•°æ®é›†çš„æ ‡æ³¨ï¼Œ*è¯¥ç½‘ç«™éœ€è¦ç¿»å¢™æ‰èƒ½è®¿é—®*ã€‚\n\n### roboflowä½¿ç”¨\n\n1. æ³¨å†Œä¸€ä¸ªè´¦å·\n2. æ·»åŠ `Workspace`\n\n![image-20220809211233745](yolov5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•/image-20220809211233745.png)\n\n3. åˆ›å»º`Project`\n\n![image-20220809211302483](yolov5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•/image-20220809211302483.png)\n\n4. åœ¨`Project`ä¸­ä¸Šä¼ å›¾ç‰‡\n\n![image-20220809211342256](yolov5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•/image-20220809211342256.png)\n\n![image-20220809211627912](yolov5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•/image-20220809211627912.png)\n\nä¸Šä¼ å®Œæˆåç‚¹å‡»å³ä¸Šè§’ç»¿è‰²çš„`Finish Uploading`\n\n![image-20220809211658335](yolov5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•/image-20220809211658335.png)\n\n5. åˆ†é…ä»»åŠ¡\n\nç”±äºroboflowæ”¯æŒå¤šäººåˆä½œï¼Œæ‰€ä»¥è¦å°†å›¾ç‰‡æ ‡æ³¨ä»»åŠ¡åˆ†é…ç»™æŸä¸ªäººï¼Œå¦‚æœæ˜¯è‡ªå·±ä¸€ä¸ªäººåšï¼Œåˆ†é…ç»™è‡ªå·±å³å¯ã€‚\n\n![image-20220809211731031](yolov5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•/image-20220809211731031.png)\n\n6. å¼€å§‹æ ‡æ³¨\n\nç‚¹å‡»å·¦ä¾§`Annotate`ï¼Œé€‰æ‹©`ANNOTATING`ä¸­çš„ä»»åŠ¡å¼€å§‹æ ‡æ³¨ã€‚\n\n![image-20220809211914894](yolov5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•/image-20220809211914894.png)\n\n![image-20220809212031832](yolov5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•/image-20220809212031832.png)\n\nå›¾ç‰‡ä¸­å¯ä»¥æ ‡æ³¨å¤šä¸ªç±»åˆ«ã€‚\n\n**æ³¨æ„ï¼Œå›¾ä¸­æ‰€æœ‰ä½ éœ€è¦åˆ†ç±»çš„ç±»åˆ«éƒ½è¦åšå¥½æ ‡æ³¨ï¼Œä¾‹å¦‚ä¸Šå›¾ä¸­æœ‰å¤šä¸ª`rock`å›¾åƒï¼Œé‚£ä¹ˆå®ƒä»¬éƒ½åº”å½“è¢«æ ‡æ³¨å‡ºæ¥ã€‚**\n\n7. ç”Ÿæˆæ•°æ®é›†\n\næ ‡æ³¨å®Œæˆçš„å›¾ç‰‡ä¼šè¢«æ”¾å…¥`Annotated`ç›®å½•ä¸‹ï¼Œç‚¹å‡»å³ä¸Šè§’çš„`Add to Dataset`å¯ä»¥ç”Ÿæˆæ•°æ®é›†ã€‚ä½ å¯ä»¥è®¾ç½®æµ‹è¯•é›†ã€éªŒè¯é›†ã€è®­ç»ƒé›†çš„æ¯”ä¾‹ã€‚\n\n![image-20220809212337706](yolov5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•/image-20220809212337706.png)\n\n8. å¯¼å‡º\n\nç‚¹å‡»å·¦ä¾§`Generate`å‡†å¤‡å¯¼å‡ºæ•°æ®é›†ï¼Œå¯ä»¥è‡ªè¡Œå†³å®šæ˜¯å¦éœ€è¦é¢„å¤„ç†å’Œæ•°æ®å¢å¼ºã€‚YOLOè‡ªå¸¦å›¾ç‰‡å¤„ç†ï¼Œè®­ç»ƒé›†çš„å›¾ç‰‡å¯ä»¥æ˜¯ä¸åŒçš„å¤§å°ï¼Œæ‰€ä»¥å¯ä»¥ä¸ç”¨å›¾ç‰‡é¢„å¤„ç†ã€‚\n\n![image-20220809212512551](yolov5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•/image-20220809212512551.png)\n\nç‚¹å‡»`Versions`ï¼Œç‚¹å‡»å³ä¸Šè§’çš„`Export`å¯¼å‡ºï¼Œé€‰æ‹©YOLOv5ã€‚\n\n![image-20220809212601963](yolov5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•/image-20220809212601963.png)\n\n![image-20220809212636940](yolov5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•/image-20220809212636940.png)\n\n## è®­ç»ƒæ¨¡å‹\n\nè®­ç»ƒæ—¶ä½¿ç”¨å¼€å‘è€…æä¾›çš„é¢„è®­ç»ƒæ¨¡å‹ï¼Œé¢„è®­ç»ƒæ¨¡å‹åˆ†ä¸ºå¤šä¸ªå¤§å°ã€‚è¶Šå°çš„æ¨¡å‹è¿ç®—é€Ÿåº¦è¶Šå¿«ï¼Œç²¾åº¦è¶Šä½ï¼›è¶Šå¤§çš„æ¨¡å‹è¿ç®—é€Ÿåº¦è¶Šæ…¢ï¼Œç²¾åº¦è¶Šé«˜ã€‚å¦‚æœæ²¡æœ‰ä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹ï¼Œç¨‹åºä¼šè‡ªåŠ¨ä¸‹è½½`yolov5s.pt`ã€‚\n\né¢„è®­ç»ƒæ¨¡å‹åŒæ ·ä¹Ÿåœ¨githubä»“åº“ä¸­å¯ä»¥ä¸‹è½½åˆ°ã€‚\n\n![image-20220809212925936](yolov5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•/image-20220809212925936.png)\n\nåœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼Œæœ‰train.pyæ–‡ä»¶ï¼Œç›´æ¥ç”¨å®ƒå°±å¯ä»¥è®­ç»ƒäº†ï¼Œtrain.pyä¸­å‚æ•°æ¥å—ä»£ç ä¸ºï¼š\n\n```python\ndef parse_opt(known=False):\n    parser = argparse.ArgumentParser()\n    parser.add_argument('--weights', type=str, default=ROOT / 'yolov5s.pt', help='initial weights path')\n    parser.add_argument('--cfg', type=str, default='', help='model.yaml path')\n    parser.add_argument('--data', type=str, default=ROOT / 'data/coco128.yaml', help='dataset.yaml path')\n    parser.add_argument('--hyp', type=str, default=ROOT / 'data/hyps/hyp.scratch-low.yaml', help='hyperparameters path')\n    parser.add_argument('--epochs', type=int, default=300)\n    parser.add_argument('--batch-size', type=int, default=16, help='total batch size for all GPUs, -1 for autobatch')\n    parser.add_argument('--imgsz', '--img', '--img-size', type=int, default=640, help='train, val image size (pixels)')\n    parser.add_argument('--rect', action='store_true', help='rectangular training')\n    parser.add_argument('--resume', nargs='?', const=True, default=False, help='resume most recent training')\n    parser.add_argument('--nosave', action='store_true', help='only save final checkpoint')\n    parser.add_argument('--noval', action='store_true', help='only validate final epoch')\n    parser.add_argument('--noautoanchor', action='store_true', help='disable AutoAnchor')\n    parser.add_argument('--noplots', action='store_true', help='save no plot files')\n    parser.add_argument('--evolve', type=int, nargs='?', const=300, help='evolve hyperparameters for x generations')\n    parser.add_argument('--bucket', type=str, default='', help='gsutil bucket')\n    parser.add_argument('--cache', type=str, nargs='?', const='ram', help='--cache images in \"ram\" (default) or \"disk\"')\n    parser.add_argument('--image-weights', action='store_true', help='use weighted image selection for training')\n    parser.add_argument('--device', default='', help='cuda device, i.e. 0 or 0,1,2,3 or cpu')\n    parser.add_argument('--multi-scale', action='store_true', help='vary img-size +/- 50%%')\n    parser.add_argument('--single-cls', action='store_true', help='train multi-class data as single-class')\n    parser.add_argument('--optimizer', type=str, choices=['SGD', 'Adam', 'AdamW'], default='SGD', help='optimizer')\n    parser.add_argument('--sync-bn', action='store_true', help='use SyncBatchNorm, only available in DDP mode')\n    parser.add_argument('--workers', type=int, default=8, help='max dataloader workers (per RANK in DDP mode)')\n    parser.add_argument('--project', default=ROOT / 'runs/train', help='save to project/name')\n    parser.add_argument('--name', default='exp', help='save to project/name')\n    parser.add_argument('--exist-ok', action='store_true', help='existing project/name ok, do not increment')\n    parser.add_argument('--quad', action='store_true', help='quad dataloader')\n    parser.add_argument('--cos-lr', action='store_true', help='cosine LR scheduler')\n    parser.add_argument('--label-smoothing', type=float, default=0.0, help='Label smoothing epsilon')\n    parser.add_argument('--patience', type=int, default=100, help='EarlyStopping patience (epochs without improvement)')\n    parser.add_argument('--freeze', nargs='+', type=int, default=[0], help='Freeze layers: backbone=10, first3=0 1 2')\n    parser.add_argument('--save-period', type=int, default=-1, help='Save checkpoint every x epochs (disabled if < 1)')\n    parser.add_argument('--seed', type=int, default=0, help='Global training seed')\n    parser.add_argument('--local_rank', type=int, default=-1, help='Automatic DDP Multi-GPU argument, do not modify')\n\n    # Weights & Biases arguments\n    parser.add_argument('--entity', default=None, help='W&B: Entity')\n    parser.add_argument('--upload_dataset', nargs='?', const=True, default=False, help='W&B: Upload data, \"val\" option')\n    parser.add_argument('--bbox_interval', type=int, default=-1, help='W&B: Set bounding-box image logging interval')\n    parser.add_argument('--artifact_alias', type=str, default='latest', help='W&B: Version of dataset artifact to use')\n\n    opt = parser.parse_known_args()[0] if known else parser.parse_args()\n    return opt\n```\n\nå‚æ•°å¾ˆå¤šï¼Œæœ‰å…´è¶£å¯ä»¥ä¸€ä¸€é˜…è¯»å¹¶å°è¯•ï¼Œåœ¨è¿™é‡Œåªç»™å‡ºæœ€åŸºç¡€çš„ã€‚\n\nå»ºè®®æ–°å»ºä¸€ä¸ªæ‰¹å¤„ç†æ–‡ä»¶run_train.batï¼Œè¿™æ ·æ¯æ¬¡è¿è¡Œä¸éœ€è¦é‡æ–°å†™å‚æ•°ï¼Œä¹Ÿçœ‹å¾—æ›´èˆ’æœã€‚\n\n```bash\npython -m train\n--batch-size 8 ^\n--epochs 10 ^\n--data dataset/data.yml ^\n--weights yolov5s.pt ^\n--name mymodel ^\n```\n\ndataå‚æ•°æ˜¯æ•°æ®é›†çš„é…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªdata.ymlåœ¨roboflowå¯¼å‡ºæ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆï¼Œåœ¨è¿™é‡Œä¸ªæ–‡ä»¶ä¸­ä½ è¦æ³¨æ„`train`å’Œ`val`äºŒè€…çš„è·¯å¾„ï¼Œå¦‚æœä¸æ˜¯æŠŠæ•°æ®é›†ç›´æ¥æ”¾åœ¨yolov5çš„æ ¹ç›®å½•ä¸‹ï¼Œé‚£ä¹ˆä½ éœ€è¦ä¿®æ”¹è¿™ä¸¤ä¸ªè·¯å¾„è®©å®ƒä»¬æŒ‡å‘æ­£ç¡®çš„ä½ç½®ã€‚\n\nweightså‚æ•°æ˜¯åŠ è½½çš„æ¨¡å‹å‚æ•°ï¼Œå¦‚æœä½ ä¸‹è½½äº†é¢„è®­ç»ƒæ¨¡å‹ï¼Œé‚£ä¹ˆå°±æŠŠé¢„è®­ç»ƒæ¨¡å‹çš„åœ°å€å¡«è¿›å»ã€‚è¿™ä¸€é¡¹å¯ä»¥ç¼ºçœï¼Œå¦‚æœç¼ºçœä¼šè‡ªåŠ¨ä¸‹è½½yolov5s.ptã€‚æ³¨æ„ï¼Œå½“ä½ å®Œæˆè®­ç»ƒåï¼Œ**å¦‚æœå°†æ¥æƒ³ç»§ç»­åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šè®­ç»ƒæ¨¡å‹ï¼Œé‚£ä¹ˆè¦æŠŠweightsæ”¹æˆä½ æƒ³è¦ç»§ç»­è®­ç»ƒçš„é‚£ä¸ªæ¨¡å‹çš„åœ°å€**ã€‚\n\nnameå‚æ•°æ˜¯è®­ç»ƒç»“æœçš„ä¿å­˜æ–‡ä»¶å¤¹ï¼Œé»˜è®¤ä¿å­˜åˆ°åä¸ºexpçš„æ–‡ä»¶å¤¹ä¸­ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰å®ƒçš„åå­—ã€‚è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹å°†è¢«ä¿å­˜åœ¨nameæ–‡ä»¶å¤¹ä¸‹çš„weightsæ–‡ä»¶å¤¹ä¸­ï¼Œåˆ†åˆ«æ˜¯best.ptå’Œlast.ptâ€”â€”è®­ç»ƒæ—¶æ•ˆæœæœ€å¥½çš„æ¨¡å‹å’Œæœ€åä¸€æ¬¡æ›´æ–°çš„æ¨¡å‹ã€‚\n\n## æ¨¡å‹ä½¿ç”¨\n\nå¦‚æœä½ éœ€è¦ä½¿ç”¨ä½ è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œé¢„æµ‹ï¼Œè¿™é‡Œä¸æ¨èä½¿ç”¨å·¥ç¨‹ç›®å½•ä¸‹çš„evalæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å®ç°ã€‚\n\n```python\nimport numpy as np\nimport torch\ndef detect(self, img0):\n    '''\n    img0: raw img\n    return: pred [[x1, y1, x2, y2, p, cls_id], [...]] or None å¦‚æœä»€ä¹ˆéƒ½æ²¡æ£€æµ‹å‡ºæ¥\n    (x1, y1): æ–¹æ¡†å·¦ä¸Šè§’åæ ‡\n    (x2, y2): æ–¹æ¡†å³ä¸‹è§’åæ ‡\n    p: ç›®æ ‡å±äºè¿™ä¸ªåˆ†ç±»çš„æ¦‚ç‡ï¼ˆç¥ç»ç½‘ç»œè®¤ä¸ºç›®æ ‡æœ‰å¤šåƒè¿™ä¸ªåˆ†ç±»ï¼‰\n    cls_id: ç±»åˆ«idï¼Œç±»åˆ«idå¯¹åº”çš„ç±»åˆ«æ ‡ç­¾å¯ä»¥åœ¨data.ymlé…ç½®æ–‡ä»¶ä¸­æŸ¥çœ‹\n    '''\n    # 1. å°†å›¾åƒå¤„ç†æˆé€‚é…ç½‘ç»œçš„å°ºå¯¸\n    from utils.augmentations import letterbox \n    # letterboxæ˜¯yolov5çš„å›¾åƒå¤„ç†å‡½æ•°ï¼Œyolov5å¯ä»¥è¾“å‡ºå„ç§å°ºå¯¸ä¸åŒçš„å›¾åƒï¼Œå®ƒä¼šè‡ªåŠ¨è°ƒæ•´\n    img1 = letterbox(img0)[0]\n    img1 = img1.transpose((2, 0, 1))[::-1] # HWC -> CHW, BGR -> RGB\n    img1 = np.ascontiguousarray(img1) # è½¬æ¢ä¸ºå†…å­˜ä¸­è¿ç»­å­˜å‚¨çš„æ•°ç»„ï¼ŒåŠ å¿«è¿è¡Œé€Ÿåº¦\n\n    img = torch.from_numpy(img1)\n    img = img.float()        \n    img /= 255\n    img = img.unsqueeze(0)\n\n    # 2. é¢„æµ‹\n    pred = model(img)[0]\n    # pred[0]æ˜¯é¢„æµ‹ç»“æœ\n    # pred[1]æ˜¯å…¶ä»–çš„å‚æ•°\n\n    # 3. å»é™¤é‡å \n    from utils.general import non_max_suppression\n    # non_max_suppressionæ˜¯yolov5çš„å†…ç½®å‡½æ•°ï¼Œä»–ç”¨æ¥æ¶ˆé™¤éƒ¨åˆ†é‡å \n    # å¯¹äºåŒä¸€ä¸ªç›®æ ‡æ¥è¯´ï¼Œä½ å¯ä»¥ç”¨å¥½å¤šä¸ªæ¡†å°†å…¶åˆ’å‡ºï¼Œä½¿ç”¨è¿™ä¸ªå‡½æ•°å¯ä»¥æ¶ˆé™¤è¿™äº›ã€Œæ˜æ˜æ˜¯åŒä¸€ä¸ªç›®æ ‡å´ç”¨å¤šä¸ªæ–¹æ¡†æ¡†å‡ºæ¥ã€çš„ç°è±¡\n    pred = non_max_suppression(pred,\n            conf_thres=0.4, # åªæ ‡æ³¨å¯èƒ½æ€§å¤§äºè¯¥å€¼çš„ç›®æ ‡\n            iou_thres=0.2 # iouè¶Šå¤§è¶Šèƒ½æ¥å—é‡å \n            )\n\n\n    from utils.general import scale_coords\n    # 4. æ”¾å¤§è¿˜åŸ  \n    for det in pred:\n        if det is not None and len(det):  # detä¸ä¸ºç©ºè€Œä¸”é•¿åº¦ä¸ä¸º0 # ä¸€å¼ å›¾åƒä¸­çš„æ‰€æœ‰ç›®æ ‡è¿›è¡Œæ”¾å¤§\n            # scale_coordsæ˜¯yolov5ä¸­çš„å†…ç½®å‡½æ•°ï¼Œå› ä¸ºåœ¨è¾“å…¥ç¥ç»ç½‘ç»œæ—¶è¦æ±‚ç‰¹å®šçš„å°ºå¯¸ï¼Œæ‰€ä»¥å›¾ç‰‡æ—¶ç»è¿‡ç¼©æ”¾çš„ï¼ŒåŒæ—¶å›¾ç‰‡ä¸­ç›¸åº”çš„æ–¹æ¡†åæ ‡ä¹Ÿæ˜¯0-1ä¹‹é—´çš„æµ®ç‚¹æ•°\n            # é€šè¿‡è¿™ä¸ªå‡½æ•°å¯ä»¥å°†ç¥ç»ç½‘ç»œè¾“å‡ºçš„é¢„æµ‹å€¼æ˜ å°„ä¸ºåŸå›¾åƒä¸Šå¯¹åº”çš„åƒç´ åæ ‡\n            det[:, 0:4] = scale_coords(\n                img.shape[2:], # ç¼©å°åçš„å›¾åƒå¤§å°\n                det[:, 0:4], # é¢„æµ‹çš„ç›®æ ‡çš„åæ ‡\n                img0.shape  # åŸå§‹å›¾åƒå¤§å°\n                ).round()# å››èˆäº”å…¥\n\n    if pred[0] is not None:\n        return pred[0].cpu().detach().numpy() # x1, y1, x2, y2, p, cls_id\n    else:\n        return None\n```\n\nä»¥ä¸Šçš„ä»£ç ä¸evalä¸­çš„å¤„ç†æµç¨‹åŸºæœ¬ä¸€è‡´ï¼Œä¼˜ç‚¹æ˜¯å¯ä»¥ç›´æ¥è·å¾—é¢„æµ‹å€¼ï¼Œåç»­æ“ä½œæ›´åŠ çµæ´»ã€‚\n\nåç»­ä½ å¯ä»¥åœ¨å›¾ç‰‡ä¸Šç”»ä¸Šæ–¹æ¡†å’Œæ ‡ç­¾ï¼š\n\n```python\npred = self.detect(img) # è¿™ä¸ªimgæ˜¯ä½ è¾“å…¥çš„imgï¼Œæ³¨æ„imgæ ¼å¼ä¸ºHWC\nimg = cv2.cvtColor(img, cv2.COLOR_RGB2BGR) \nfor p in pred:\n    img = cv2.rectangle(img, (int(p[0]), int(p[1])), (int(p[2]), int(p[3])), (255,255,255), 10)\n    img = cv2.putText(img, classes_list[int(p[5])] + \" \" + str(int(p[4].item() * 100)) + \"%\", (int(p[0])+np.random.randint(20),int(p[1])), # classes_listæ˜¯æ ¹æ®data.ymlå®šä¹‰çš„ç±»åˆ«ç´¢å¼•\n    cv2.FONT_HERSHEY_SIMPLEX ,\n    1,\n    (240,237,133),\n    3,\n    cv2.LINE_AA)\ncv2.imwrite(\"img.jpg\", img) # å›¾ç‰‡ä¼šè¢«ä¿å­˜åˆ°æœ¬åœ°\n```\n\næ•ˆæœå¦‚ä¸‹ï¼š\n\n![19](YOLOv5ç›®æ ‡è¯†åˆ«ä½¿ç”¨æ–¹æ³•/19.jpg)\n\nå¦‚æœæ˜¯è¦åšè§†é¢‘å†…å®¹çš„é¢„æµ‹ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼ŒæŠŠæ¯ä¸€å¸§ä½œä¸ºå›¾åƒè¾“å…¥ï¼Œè·å¾—é¢„æµ‹ç»“æœååœ¨æ¯ä¸€å¸§å›¾åƒä¸Šç»˜åˆ¶æ–¹æ¡†ï¼Œå¹¶å°†å¤„ç†åçš„å›¾åƒæ˜¾ç¤ºåˆ°UIç•Œé¢ä¸Šå³å¯ã€‚\n\n## å‚è€ƒèµ„æ–™\n\n[yolov5/README.md at master Â· ultralytics/yolov5 (github.com)](https://github.com/ultralytics/yolov5/blob/master/README.md)\n[yolov5é¢„æµ‹ - ç®€ä¹¦ (jianshu.com)](https://www.jianshu.com/p/a041115002e8)\n[Detecting objects with YOLOv5, OpenCV, Python and C++ | by Luiz doleron | MLearning.ai | Medium](https://medium.com/mlearning-ai/detecting-objects-with-yolov5-opencv-python-and-c-c7cf13d1483c)\n\n","tags":["ç¼–ç¨‹","æŠ€æœ¯","AI"],"categories":["ç¼–ç¨‹"]},{"title":"2022.4åŠ¨ç”»æ¨è","url":"/åˆé›†/åŠ¨ç”»æ¨è/2022_4 åŠ¨ç”»æ¨è/","content":"\n{% note warning %} \n\n**ä¸»è§‚åˆ¤æ–­è­¦å‘Š**!\n\næœ¬æ–‡çº¯ç²¹å‡ºäºç¬”è€…ä¸ªäººä¸»è§‚ç»éªŒä¸æ„Ÿå—è€Œæˆï¼Œå¦‚æœ‰ä»»ä½•ä¸åŒæ„è§æ¬¢è¿å‹å–„äº¤æµè®¨è®º\n\næ²¡æœ‰æåˆ°çš„ä½œå“ç¬”è€…æ²¡çœ‹ï¼Œæˆ–ä¸ç¬¦åˆç¬”è€…ä¸ªäººå…´è¶£ï¼Œæˆ–è§‚çœ‹ä»·å€¼è¾ƒä½\n\nå¦å¤–ï¼Œæœ¬æ–‡ä¸æä¾›åŠ¨ç”»ç®€ä»‹ï¼Œå¯¹æ„Ÿå…´è¶£çš„åŠ¨ç”»å¯ä»¥ç‚¹å‡»ã€Œæ›´å¤šä¿¡æ¯ã€è®¿é—®[Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/)ç½‘ç«™çš„è¯¦æƒ…é¡µé¢\n\n{% endnote %}\n\n## ã§ã‚ã„ã‚‚ã‚“ï¼ˆç›¸åˆä¹‹ç‰©ï¼‰\n\n![333664_d4Py9](333664_d4Py9.jpg)\n\næ¨èåº¦ï¼š95åˆ†\n\nä»¥å’Œæœå­ä½œä¸ºçº¿ç´¢è®²è¿°äººä¸äººä¹‹é—´æƒ…æ„Ÿçš„æ•…äº‹ã€‚å…¨ç¯‡çš„æ•…äº‹æ¸©é¦¨ï¼Œæ•…äº‹å‘ç”Ÿçš„åœ°ç‚¹æ˜¯äº¬éƒ½ï¼Œå……æ»¡å¤å…¸æ°”æ¯çš„äº¬éƒ½ï¼ŒåŠ ä¸Šä¼ ç»Ÿçš„å’Œæœå­ï¼Œå†åŠ ä¸Šäººç‰©çš„äº¬éƒ½è…”ï¼Œè¥é€ äº†æ¸©é¦¨ç¥¥å’Œã€è¿œç¦»å–§åš£çš„å®é™æ„Ÿã€‚æˆ‘æƒ³ï¼Œå°±ç®—æ˜¯ä¸å–œæ¬¢å¹³æ·¡çš„æ—¥å¸¸ç•ªçš„äººï¼Œåªè¦å¬åˆ°opæ›²ã€Œè«ã€å“èµ·ï¼Œä»–é‚£é¢—ç„¦èºçš„å¿ƒä¹Ÿèƒ½ç«‹åˆ»å¹³é™ä¸‹æ¥ï¼ŒæŠ•å…¥åˆ°å‰§æƒ…ä¹‹ä¸­ã€‚\n\nå¥³ä¸»è§’ä¸€æœæ˜¯ä¸€ä¸ªå°å¥³å­©ï¼Œä½†ç”±äºå¥¹å®¶åº­çš„åŸå› ï¼Œå¥¹èº«ä¸Šæœ‰ç€è¶…å‡ºä¸€èˆ¬å­©ç«¥çš„æˆç†Ÿã€‚æˆ–è®¸æ­£æ˜¯è¿™æ ·çš„åå·®è®©ä¸€æœæ›´åŠ æƒ¹äººæ€œçˆ±ã€‚\n\nå…¨ç¯‡å……æ»¡äº†äººç±»ç¾å¥½æƒ…æ„Ÿçš„å±•ç°ï¼Œç›¸ä¿¡æœ¬ä½œèƒ½ä¸ºæ‚¨å› ä¸–é—´çš„å†·æ¼ è€Œç–²æƒ«çš„çµé­‚å¸¦æ¥ä¸€ä¸æ²»æ„ˆã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[ã§ã‚ã„ã‚‚ã‚“ | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/333664)\n\nå…³é”®è¯ï¼š`æ²»æ„ˆ`ï¼Œ`æ—¥å¸¸`\n\n## ã‹ãã‚„æ§˜ã¯å‘Šã‚‰ã›ãŸã„-ã‚¦ãƒ«ãƒˆãƒ©ãƒ­ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯-ï¼ˆè¾‰å¤œå¤§å°å§æƒ³è®©æˆ‘å‘Šç™½-è¶…çº§æµªæ¼«-ï¼‰\n\n![317613_bpGX4](317613_bpGX4.jpg)\n\næ¨èåº¦ï¼š95åˆ†\n\nè¾‰å¤œå¤§å°å§ç¬¬ä¸‰å­£ï¼Œé«˜è´¨é‡æ ¡å›­æ‹çˆ±å–œå‰§ï¼Œç¬¬ä¸‰å­£ç»“å°¾æ²¡æœ‰æ–­ç« ï¼Œåœ¨å¾ˆèˆ’æœçš„åœ°æ–¹ç»“æŸã€‚è¾‰å¤œå¤§å°å§æœ¬èº«å°±æ˜¯ä¸ä¼ ç»Ÿæ‹çˆ±æ•…äº‹ä¸åŒçš„ä½œå“ï¼Œå‰§æƒ…ç›¸å½“æœ‰è¶£ï¼Œäººè®¾ä¹Ÿè®©äººå°è±¡æ·±åˆ»ã€‚è™½ç„¶åŸä½œæ¼«ç”»è¶Šæ¥è¶Šçƒ‚äº†ï¼Œä½†åŠ¨ç”»çš„å†…å®¹ã€åˆ¶ä½œã€é…éŸ³ã€é…ä¹ç­‰æ–¹é¢éƒ½æ˜¯ä¸€æµçš„ï¼Œéå¸¸å€¼å¾—ä¸€çœ‹ã€‚\n\nåŠ¨ç”»è¡¨ç°åŠ›å¾ˆå¼ºï¼Œé…ä¹è´¨é‡é«˜ï¼Œæœ¬å­£ä¸­è¾‰å¤œå’Œä¼šé•¿çš„æ‹çˆ±è¿›ç¨‹ä¹Ÿæœ‰äº†æå¤§çš„è¿›å±•ã€‚åœ¨å„ä¸ªæ–¹é¢éƒ½å±ä¸Šä¹˜ï¼Œæ¨èè§‚çœ‹ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[ã‹ãã‚„æ§˜ã¯å‘Šã‚‰ã›ãŸã„-ã‚¦ãƒ«ãƒˆãƒ©ãƒ­ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯- | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/317613)\n\nå…³é”®è¯ï¼š`æ‹çˆ±`ï¼Œ`æç¬‘`ï¼Œ`é’æ˜¥`ï¼Œ`æ ¡å›­`\n\n## SPYxFAMILYï¼ˆé—´è°è¿‡å®¶å®¶ï¼‰\n\n![329906_hmtVD](329906_hmtVD.jpg)\n\næ¨èåº¦ï¼š90åˆ†\n\næœ¬ä½œè®²è¿°äº†é—´è°é»„æ˜ä¸ºäº†æŸä¸ªç»å¯†ä»»åŠ¡è€Œç»„å»ºå®¶åº­ï¼Œåœ¨è¿™æœŸé—´å‘ç”Ÿçš„å®¶åº­å–œå‰§æ•…äº‹ã€‚ä¸»è¦æ˜¯è¿‡å®¶å®¶ï¼Œé—´è°ã€æ€æ‰‹ã€è¶…èƒ½åŠ›è€…åªæ˜¯è®©åƒç¯‡ä¸€å¾‹çš„å®¶åº­æ—¥å¸¸å˜å¾—æ›´æœ‰è¶£çš„è°ƒå‘³å“è€Œå·²ã€‚å¦‚æœæ˜¯æƒ³çœ‹çš„æ˜¯ã€Œé—´è°ã€çš„æ•…äº‹ï¼Œé‚£æˆ–è®¸è¿™éƒ¨åŠ¨ç”»å¹¶ä¸èƒ½æ»¡è¶³æ‚¨çš„éœ€æ±‚ã€‚\n\næ€»ä¹‹æ˜¯è½»æ¾çš„æ—¥å¸¸ç±»å‹å–œå‰§ï¼Œä¸»è¦çœ‹ç‚¹æ˜¯é˜¿å°¼äºšå–èŒã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[SPYÃ—FAMILY | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/329906)\n\nå…³é”®è¯ï¼š`å®¶åº­å–œå‰§`ï¼Œ`æ—¥å¸¸`ï¼Œ`èŒ`\n\n## æœ¬å¥½ãã®ä¸‹å‰‹ä¸Šï½å¸æ›¸ã«ãªã‚‹ãŸã‚ã«ã¯æ‰‹æ®µã‚’é¸ã‚“ã§ã„ã‚‰ã‚Œã¾ã›ã‚“ï½ ç¬¬3æœŸï¼ˆå°ä¹¦ç—´çš„ä¸‹å…‹ä¸Šï½ä¸ºäº†æˆä¸ºå›¾ä¹¦ç®¡ç†å‘˜è€Œä¸æ‹©æ‰‹æ®µï½ ç¬¬3éƒ¨ï¼‰\n\n![310263_Gc74x](310263_Gc74x.jpg)\n\næ¨èåº¦ï¼š80åˆ†\n\næœ¬ä½œç¬¬ä¸€å­£è§‚æ„Ÿè¿˜æ˜¯ç›¸å½“ä¸é”™çš„ï¼Œè½¬ç”Ÿåæ¸´æœ›çœ‹ä¹¦è€Œåšå‡ºç§ç§åŠªåŠ›ï¼ŒåŒæ—¶åˆæœ‰èº«ä¸ºå¹³æ°‘å´åˆè´µæ—é­”åŠ›çš„å‡¤å‚²å¤©è®¾å®šã€‚ä½†æ˜¯æœ¬å­£åŠ¨ç”»åŸºæœ¬æ²¡ä»€ä¹ˆæœ‰è¶£çš„å‰§æƒ…ï¼Œæ²¡æœ‰è¯»è¿‡åŸä½œï¼Œä½†æ˜¯ç¬¬ä¸‰å­£çš„ç»“å±€åº”è¯¥æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§çš„è½¬æŠ˜ï¼Œåé¢çš„å‰§æƒ…æˆ–è®¸ä¼šæ›´åŠ ç²¾å½©ï¼Œå¦‚æœè¿˜æœ‰ç¬¬å››å­£æˆ‘è®¤ä¸ºå€¼å¾—æœŸå¾…ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[æœ¬å¥½ãã®ä¸‹å‰‹ä¸Šï½å¸æ›¸ã«ãªã‚‹ãŸã‚ã«ã¯æ‰‹æ®µã‚’é¸ã‚“ã§ã„ã‚‰ã‚Œã¾ã›ã‚“ï½ ç¬¬3éƒ¨ | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/310263)\n\nå…³é”®è¯ï¼š`å¼‚ä¸–ç•Œ`ï¼Œ`å¥‡å¹»`ï¼Œ`æ—¥å¸¸`ï¼Œ`ç©¿è¶Š`\n\n## ã¾ã¡ã‚«ãƒ‰ã¾ãã 2ä¸ç›®ï¼ˆè¡—è§’é­”æ— 2ä¸ç›®ï¼‰\n\n![313852_Msy6s](313852_Msy6s.jpg)\n\næ¨èåº¦ï¼š80åˆ†\n\nä¸å°ä¹¦ç—´ä¸€æ ·ï¼Œè¡—è§’é­”æ—ç¬¬äºŒå­£ä¸å¦‚ç¬¬ä¸€å­£æœ‰è¶£ã€‚åœ¨ç¬¬ä¸€å­£ä¸­ï¼Œå‡ºç°äº†å¦‚æ€ªåŠ›é­”æ³•å°‘å¥³ï¼Œè¶…é«˜é€Ÿå˜èº«è¯»ç§’ï¼Œä½“å¼±ç¬¨è›‹é­”æ—ä¹‹ç±»çš„æœ‰è¶£è®¾å®šï¼Œä½†æ˜¯åˆ°äº†ç¬¬äºŒå­£è¿˜æ˜¯åœ¨é‡å¤ç¬¬ä¸€å­£çš„è¿™äº›æ¢—ï¼Œç¼ºä¹æ–°æ„ï¼Œéš¾å…æœ‰äº›å®¡ç¾ç–²åŠ³ã€‚ä¸è¿‡å¯¹äºè½»ç™¾åˆæ¥è¯´å‰§æƒ…ä¹Ÿä¸ç®—è¿‡äºç™½å¼€æ°´ï¼Œè€ç²‰å¯ä»¥ä¸€çœ‹ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[ã¾ã¡ã‚«ãƒ‰ã¾ãã 2ä¸ç›® | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/313852)\n\nå…³é”®è¯ï¼š`æ—¥å¸¸`ï¼Œ`æç¬‘`ï¼Œ`è½»ç™¾åˆ`\n\n## ç†ç³»ãŒæ‹ã«è½ã¡ãŸã®ã§è¨¼æ˜ã—ã¦ã¿ãŸã€‚r=1-sinÎ¸ï¼ˆ ç†ç§‘ç”Ÿå å…¥æƒ…ç½‘æ•…å°è¯•è¯æ˜ r=1-sinÎ¸ ï¼‰\n\næ¨èåº¦ï¼š75åˆ†\n\nå’Œä¸Šé¢çš„ä¸¤éƒ¨ä¸€æ ·ï¼Œç¬¬äºŒå­£ä¸å¦‚ç¬¬ä¸€å­£ï¼Œé—®é¢˜åŒæ ·æ˜¯ç¼ºä¹æ–°æ„ã€‚åŸæœ¬ã€Œç†ç§‘æ€ç»´åœ¨æ‹çˆ±ç¯å¢ƒä¸‹çš„ä½¿ç”¨ï¼Œç†æ€§ä¸æ„Ÿæ€§çš„é”™ä½å¯¼è‡´çš„è’è¯è€Œå¼•å‘çš„å–œå‰§æ•ˆæœã€æ˜¯è¿™éƒ¨ä½œå“æœ‰åˆ«äºå…¶ä»–æ‹çˆ±ä½œå“çš„äº®ç‚¹ï¼Œæ¯”å¦‚è¯´æ˜æ˜æ˜¯å»æ¸¸ä¹å›­çº¦ä¼šï¼Œæ­£å¸¸äººåªæ˜¯è§„åˆ’å¥½æ—¶é—´åœ°ç‚¹ï¼Œæ‰“æ‰®å¥½è‡ªå·±å°±å»äº†ï¼Œä½†æ˜¯ä»–ä»¬å´è¦æŠŠæ¸¸ä¹å›­çš„æ¸¸ç©å½“åšNLPé—®é¢˜æ±‚è§£ï¼Œè¿™ç§åå·®æ­£æ˜¯å‰§æƒ…æœ‰è¶£çš„åœ°æ–¹ã€‚\n\nåœ¨è¿™ä¸€å­£ä¸­æ²¡æœ‰è®©æˆ‘çœ‹åˆ°è¿™äº›äº®ç‚¹ï¼Œæˆ–è€…è¯´ç›¸æ¯”ä¸Šä¸€å­£è¦å°‘å¾ˆå¤šã€‚ä¸ä»…å¦‚æ­¤ï¼Œè¿™ä¸€å­£è¿˜è«åå…¶å¦™è®²äº†å¥çš„æ•…äº‹ï¼Œå¹¶ä¸”è¿™ä¸ªæ•…äº‹å¹¶ä¸æœ‰è¶£ï¼Œå‡ºç°åœ¨è¿™ä¸ªä½œå“é‡Œæˆ‘è§‰å¾—æ˜¯ä¸ªè´¥ç¬”ã€‚\n\næ€»ä½“æ¥è¯´è¿™ä¸€å­£è™½ç„¶ä¸å‡ºå½©ï¼Œä½†ä¹Ÿæ²¡æœ‰ç‰¹åˆ«å¤§çš„é›·ï¼Œçœ‹è¿‡ç¬¬ä¸€å­£çš„åŠ¨ç”»å…šå†çœ‹ç¬¬äºŒå­£è¡¥å‰§æƒ…é—®é¢˜ä¸å¤§ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[ç†ç³»ãŒæ‹ã«è½ã¡ãŸã®ã§è¨¼æ˜ã—ã¦ã¿ãŸã€‚r=1-sinÎ¸ | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/317042)\n\nå…³é”®è¯ï¼š`æ‹çˆ±`ï¼Œ`æç¬‘`ï¼Œ`æ ¡å›­`\n\n## å‡¦åˆ‘å°‘å¥³ã®ç”Ÿãã‚‹é“ï¼ˆå¤„åˆ‘å°‘å¥³çš„ç”Ÿå­˜ä¹‹é“ï¼‰\n\n![326871_6Sp4i](326871_6Sp4i.jpg)\n\næ¨èåº¦ï¼š65åˆ†\n\nç¨æœ‰äº›çŒå¥‡çš„è½»ç™¾åˆï¼Œç¬¬ä¸€è¯çœ‹ä¸‹æ¥è¿˜æŒºæœ‰æ„æ€ï¼Œä½†æ˜¯åç»­å°±ç¨æœ‰äº›æ— èŠäº†ï¼Œä»‹äºç™¾åˆè´´è´´å’Œæˆ˜æ–—ä¹‹é—´ï¼Œåœ¨æˆ‘çœ‹æ¥æœ‰äº›ä¸çˆ½ã€‚è€Œä¸”å°±è¿™ä¸€å­£æ¥è¯´ï¼Œæ„Ÿè§‰å‰§æƒ…åŸºæœ¬æ²¡æœ‰å¤šå°‘æ¨è¿›ï¼Œä½œä¸ºåŠ¨ç”»å…šæ¥è¯´å¾ˆå¯èƒ½è§‚æ„Ÿä¼šæ¯”è¾ƒå·®ã€‚è¯è™½å¦‚æ­¤ï¼Œä½œç”»å’Œäººè®¾è¿˜ä¸é”™ï¼Œå½“åšçˆ†ç±³èŠ±åŠ¨ç”»çœ‹çœ‹å…»çœ¼ä¹Ÿä¸ç®—å·®ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[å‡¦åˆ‘å°‘å¥³ã®ç”Ÿãã‚‹é“ | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/326871)\n\nå…³é”®è¯ï¼š`å¥‡å¹»`ï¼Œ`æˆ˜æ–—`ï¼Œ`æè½»å¾®ç™¾åˆ`\n\n## å…¶ä»–é¾™å‚²å¤©\n\nçº¯ç²¹çš„çˆ†ç±³èŠ±é¾™å‚²å¤©ï¼Œä¸ç”¨å¸¦è„‘å­çœ‹å°±å®Œäº‹äº†ã€‚\n\n### å‹‡è€…ã€è¾ã‚ã¾ã™ï¼ˆå‹‡è€…ï¼Œè¾èŒä¸å¹²äº†ï¼‰\n\n![353657_0xz2K](353657_0xz2K.jpg)\n\n[å‹‡è€…ã€è¾ã‚ã¾ã™ | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/353657)\n\n### å²ä¸Šæœ€å¼·ã®å¤§é­”ç‹ã€æ‘äººAã«è»¢ç”Ÿã™ã‚‹ï¼ˆå²ä¸Šæœ€å¼ºçš„å¤§é­”ç‹è½¬ç”Ÿä¸ºæ‘æ°‘Aï¼‰\n\n![330055_AHxG5](330055_AHxG5.jpg)\n\n[å²ä¸Šæœ€å¼·ã®å¤§é­”ç‹ã€æ‘äººAã«è»¢ç”Ÿã™ã‚‹ | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/330055)\n\n### éª¸éª¨é¨å£«æ§˜ã€åªä»Šç•°ä¸–ç•Œã¸ãŠå‡ºæ›ã‘ä¸­ï¼ˆéª¸éª¨éª‘å£«å¤§äººå¼‚ä¸–ç•Œå†’é™©ä¸­ï¼‰\n\n![333448_fs5AX](333448_fs5AX.jpg)\n\n[éª¸éª¨é¨å£«æ§˜ã€åªä»Šç•°ä¸–ç•Œã¸ãŠå‡ºæ›ã‘ä¸­ | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/333448)","tags":["äºŒæ¬¡å…ƒ","åŠ¨ç”»"],"categories":["åŠ¨ç”»æ¨è"]},{"title":"è‹±è¯­-è™šæ‹Ÿè¯­æ°”","url":"/è‹±è¯­-è™šæ‹Ÿè¯­æ°”/","content":"\n# è‹±è¯­åŠ¨è¯è¯­æ°”\n\nè‹±è¯­ä¸­ï¼Œå¯ä»¥ä¾é åŠ¨è¯çš„å˜å½¢è¡¨è¾¾å¤šç§**åŠ¨è¯è¯­æ°”**ã€‚åŠ¨è¯è¯­æ°”å¯å¤§è‡´åˆ†ä¸ºä¸‰ç±»ï¼š\n\n1. é™ˆè¿°è¯­æ°”ï¼ˆIndicative Moodï¼‰ï¼šæè¿°ç°å®ã€‚\n   - I ate an apple.\n2. ç¥ˆä½¿è¯­æ°”ï¼ˆImperative Moodï¼‰ï¼šå‘½ä»¤æˆ–è¯·æ±‚ã€‚\n   - Eat the apple.\n3. è™šæ‹Ÿè¯­æ°”ï¼ˆSubjunctive Moodï¼‰ï¼šæè¿°è„‘ä¸­çš„ã€æƒ³è±¡ä¸­çš„æƒ…å†µã€‚æ˜¯ä¸€ç§æè¿°å‡è®¾æˆ–æ„¿æœ›ã€å‘½ä»¤ç­‰å†…å®¹çš„è¯­æ°”ã€‚\n   - If I saw the apple now, I would eat it.\n   - å¦‚æœæˆ‘ç°åœ¨çœ‹è§é‚£ä¸ªè‹¹æœï¼Œæˆ‘ä¼šåƒäº†å®ƒã€‚\n\n## è™šæ‹Ÿè¯­æ°”ä¸¤å¤§ç”¨æ³•\n\n1. è¡¨ç¤ºã€Œä¸å¯èƒ½ã€å‡è®¾\n2. è¡¨è¾¾ã€Œæ„¿æœ›/è¯·æ±‚/å»ºè®®/å‘½ä»¤ã€\n\nè™šæ‹Ÿè¯­æ°”åœ¨ä½¿ç”¨æ—¶ï¼Œæ—¶æ€è¦å¾€å‰æ¨ä¸€ä¸ªï¼Œå¦‚è¡¨è¾¾å¯¹ç°åœ¨çš„è™šæ‹Ÿï¼Œè¦ç”¨è¿‡å»æ—¶ï¼›è¡¨è¾¾å¯¹è¿‡å»çš„è™šæ‹Ÿï¼Œè¦ç”¨è¿‡å»å®Œæˆæ—¶ï¼›è¡¨è¾¾å¯¹æœªæ¥çš„è™šæ‹Ÿï¼Œè¦ç”¨should + åŠ¨è¯åŸå½¢ã€‚\n\n### å¯¹ã€Œä¸å¯èƒ½ã€å‡è®¾\n\n- è¿™é‡Œçš„ã€Œä¸å¯èƒ½ã€ä¸ä»…ä»…æ˜¯äº‹å®ä¸Šç»å¯¹ä¸å¯èƒ½ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤º**å¯èƒ½æ€§å¾ˆä½**\n\n#### ä¸ç°å®ç›¸å\n\n- æ¡ä»¶å¥ï¼šè¿‡å»å¼\n- ä¸»å¥ï¼šwould + åŠ¨è¯åŸå½¢\n\nIf I **were** you, I **would eat** that apple.\nå¦‚æœæˆ‘æ˜¯ä½ ï¼Œæˆ‘ä¼šåƒé‚£ä¸ªè‹¹æœã€‚ï¼ˆè¨€ä¸‹ä¹‹æ„ï¼šæˆ‘ä¸æ˜¯ä½ ï¼‰\n\nIf I ~~am~~ you...\nè¿™æ ·å°±å˜æˆã€Œå¯èƒ½ã€äº†ï¼Œä½†æ˜¯äº‹å®ä¸Šã€ŒIã€ä¸å¯èƒ½æ˜¯ã€Œyouã€ï¼Œæ‰€ä»¥ä¸å¯ä»¥è¿™æ ·ç”¨\n\n#### ä¸å°†æ¥ç›¸å\n\n- æ¡ä»¶å¥ï¼šshould/were to + åŠ¨è¯åŸå½¢\n- ä¸»å¥ï¼šwould + åŠ¨è¯åŸå½¢\n\n> If I **should meet** thee after long years, how **should I greet** thee?\n> \t\tâ€”â€”æ‹œä¼¦ã€Œwhen we two partedã€\n> ä¸‡ä¸€æˆ‘ä»¬å°†æ¥é‡é€¢äº†ï¼Œæˆ‘è¦å¦‚ä½•é¢å¯¹ä½ ï¼Ÿï¼ˆè¨€ä¸‹ä¹‹æ„ï¼šæˆ‘ä»¬ç›¸ä¼šé¥é¥æ— æœŸï¼‰\n\næ­¤å¤„çš„shouldæ˜¯shallçš„è¿‡å»å¼\n\nä¸»å¥ä¸­çš„wouldå¯ä»¥æ›¿æ¢æˆshould/could/might\n\n#### ä¸è¿‡å»ç›¸å\n\n- æ¡ä»¶å¥ï¼šhad + åŠ¨è¯è¿‡å»åˆ†è¯\n- ä¸»å¥ï¼šwould have + åŠ¨è¯è¿‡å»åˆ†è¯\n\nIf I **had ate** that apple, I **would not have been** hungry.\nå¦‚æœæˆ‘ä¹‹å‰åƒäº†é‚£ä¸ªè‹¹æœï¼Œæˆ‘ç°åœ¨å°±ä¸ä¼šé¥¿äº†ã€‚ï¼ˆè¨€ä¸‹ä¹‹æ„ï¼Œæˆ‘ä¹‹å‰æ²¡åƒè‹¹æœï¼‰\n\n### è¡¨è¾¾ã€Œæ„¿æœ›/è¯·æ±‚/å»ºè®®/å‘½ä»¤ã€\n\nè¡¨è¾¾å¸Œæœ›æŸä¸ªäº‹ä»¶å‘ç”Ÿï¼Œä¸€èˆ¬ä¸è¡¨è¾¾æ„¿æœ›ã€å‘½ä»¤çš„è¯ä¸€åŒä½¿ç”¨ï¼ˆå¦‚wishã€ç­‰ï¼‰\n\n#### wishå¯¹ç°åœ¨çš„æ„¿æœ›\n\n- ç”¨æ³•ï¼šwish + åŠ¨è¯\n\nI wish that I **were** a cat.\næˆ‘å¸Œæœ›æˆ‘æ˜¯åªçŒ«çŒ«ã€‚\nI wish that I ~~am~~ a cat.\n\nwishåçš„thatå¯ä»¥çœç•¥\n\nI wish you **were** here!\næˆ‘å¸Œæœ›ä½ **ç°åœ¨**å°±åœ¨è¿™é‡Œï¼\n~~æˆ‘å¸Œæœ›ä½ è¿‡å»åœ¨è¿™é‡Œï¼~~\n\n#### wishå¯¹è¿‡å»çš„æ„¿æœ›\n\n- ç”¨æ³•ï¼šwish + had + åŠ¨è¯è¿‡å»åˆ†è¯ æˆ– wish + would had + åŠ¨è¯è¿‡å»åˆ†è¯\n\nI wish I had eaten that apple.\næˆ‘çœŸå¸Œæœ›æˆ‘ä¹‹å‰åƒäº†é‚£ä¸ªè‹¹æœã€‚\n\n#### wishå¯¹å°†æ¥çš„æ„¿æœ›\n\n- ç”¨æ³•ï¼šwish + should + åŠ¨è¯åŸå½¢\n\nI wish (that) I could eat the apple.\næˆ‘å¸Œæœ›æˆ‘èƒ½åƒåˆ°é‚£ä¸ªè‹¹æœã€‚\n\n#### å…¶ä»–çš„åŠ¨è¯\n\n- would rather\n- demand\n- suggest\n- insist\n- order\n- ...\n\nè¿™äº›åŠ¨è¯ä¹Ÿå¯ä»¥å’Œwishä¸€æ ·ä½¿ç”¨\n\n### å…¶ä»–ä»å¥ä¸­ä½¿ç”¨è™šæ‹Ÿè¯­æ°”ä¾‹\n\n- I insist that you (should) eat an apple.(å®¾è¯­ä»å¥)\n- It is time that you ate the apple.(å®šè¯­ä»å¥)\n- It is suggested that you (should) eat an apple.(ä¸»è¯­ä»å¥)\n\n\n\n","tags":["è¯­è¨€","è‹±è¯­"],"categories":["è¯­è¨€"]},{"title":"RV-STARå¼€å‘æ¿åº“å‡½æ•°ç¼–ç¨‹â€”â€”SPIé€šä¿¡","url":"/åˆé›†/ç¼–ç¨‹/RV-STARå¼€å‘æ¿SPIé€šä¿¡/","content":"\n## æœ¬æ–‡å‚è€ƒèµ„æ–™\n\n{% note info %} \n\n- èŠ¯æ¥ç§‘æŠ€RVMCUå®˜æ–¹è®ºå›ï¼š[RVMCUè¯¾å ‚ã€Œ15ã€: æ‰‹æŠŠæ‰‹æ•™ä½ ç©è½¬RVSTARâ€”SPIæ€»çº¿é€šä¿¡ç¯‡__ä¸“æ _RISC-V MCUä¸­æ–‡ç¤¾åŒº](https://www.rvmcu.com/column-topic-id-595.html)\n  - **å¿…çœ‹æ•™ç¨‹ï¼Œæœ¬æ–‡å°†ä»¥è¯¥ç¤ºä¾‹ç¨‹åºä½œä¸ºåŸºç¡€ä½œè¿›ä¸€æ­¥è§£é‡Š**\n\n  \n  \n- RVSTARå¼€å‘æ¿ç”¨æˆ·æŒ‡å—ï¼š[531.pdf (rvmcu.com)](https://www.rvmcu.com/uploadfile/pdf/0/0/531.pdf)\n  - ç”¨äºæŸ¥çœ‹åŸºæœ¬çš„GPIOå¤ç”¨ä¿¡æ¯ã€‚\n  \n  \n  \n- GD32VF103å›ºä»¶åº“ç”¨æˆ·æŒ‡å—ï¼š\n  - ç”¨äºæŸ¥çœ‹åº“å‡½æ•°å®šä¹‰ã€‚\n  \n  \n  \n- GD32VF103ä¸­æ–‡æ‰‹å†Œï¼š[11.pdf (rvmcu.com)](https://www.rvmcu.com/uploadfile/pdf/0/0/11.pdf)\n  - ç”¨äºæŸ¥çœ‹ã€å­¦ä¹ å„é¡¹åŠŸèƒ½çš„å…·ä½“å®ç°ã€‚\n  \n  \n  \n- RVSTARå¼€å‘æ¿åŸç†å›¾ï¼š[Job1 (rvmcu.com)](https://www.rvmcu.com/uploadfile/pdf/0/0/235.pdf)\n  - æœ€è¯¦ç»†çš„å¼•è„šåŠŸèƒ½æè¿°ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°æ‰€æœ‰ä½ éœ€è¦çš„å¤–è®¾ä¿¡æ¯ã€‚ä¾‹å¦‚æ¿è½½LEDï¼Œæ¿è½½æŒ‰é’®çš„ç«¯å£å·å’Œå¤ç”¨åœ¨å¼€å‘æ¿ç”¨æˆ·æŒ‡å—ä¸­å¹¶æ²¡æœ‰ç»™å‡ºï¼Œæ­¤æ—¶éœ€è¦æŸ¥çœ‹åŸç†å›¾è·å–ä¿¡æ¯ã€‚\n\n\n{% endnote %}\n\n## SPI åŸºæœ¬åŸç†\n\nSPIæ˜¯ä¸€ç§ä¸²å£é€šä¿¡åè®®ï¼Œå¯ä»¥åœ¨å››ç§æ¨¡å¼ä¸‹è¿è¡Œï¼šä¸»æœºå‘é€ã€ä¸»æœºæ¥æ”¶ã€ä»æœºå‘é€ã€ä»æœºæ¥æ”¶ã€‚\n\n### é€šä¿¡æ–¹å¼æ¦‚è¿°\n\nSPIåè®®é€šä¿¡éœ€è¦4æ ¹æ•°æ®çº¿ï¼Œåˆ†åˆ«ä¸ºï¼š\n\n1. `MOSI - Master Output Slave Input` ä¸»æœºå‘é€ï¼Œä»æœºè¾“å…¥\n2. `MISO - Master Input Slave Output` ä»æœºå‘é€ï¼Œä¸»æœºè¾“å…¥\n3. `SCLK - Serial Clock ` æ—¶é’Ÿä¿¡å·ï¼Œç”±**ä¸»æœºäº§ç”Ÿ**\n4. `cs - Chip Select` ç‰‡é€‰ä¿¡å·(ä»è®¾å¤‡ä½¿èƒ½ä¿¡å·)ï¼Œç”±**ä¸»æœºæ§åˆ¶**\n\n{% note primary %} \n\nSPIé€šä¿¡æ­¥éª¤ï¼š\n\n1. ä¸»æœºæ§åˆ¶`CS`è¾“å‡ºä½ç”µå¹³é€‰ä¸­ç‰¹å®šçš„ä»æœºï¼ˆä»æœºåªæœ‰åœ¨`CS`ä¸ºä½æ—¶æ‰æ¥æ”¶ä¿¡æ¯ï¼‰\n2. ä¸»æœºé€šè¿‡`SCLK`ç«¯å£å¼€å§‹äº§ç”Ÿæ—¶é’Ÿä¿¡å·ï¼Œè¿™ä¸ªæ—¶é’Ÿä¿¡å·å°†åŒæ—¶ä½œä¸ºåŒå‘æ”¶å‘æ•°æ®çš„æ—¶é’Ÿä¿¡å·\n3. ä¸»æœºä»**ä¸»æœºçš„`MOSI`å£**å‘å‡ºæ•°æ®åˆ°ä»**æœºçš„`MOSI`å£**\n4. ä»æœºä»**ä»æœºçš„`MISO`å£**å‘å‡ºæ•°æ®åˆ°**ä¸»æœºçš„`MISO`å£**\n\n{% endnote %}\n\nç”±ä¸Šè¿°å¯çŸ¥ï¼Œ`MOSI`å’Œ`MISO`å£å¹¶éä¸€å®šæ˜¯è¾“å…¥æˆ–è¾“å‡ºå£ï¼Œè€Œæ˜¯æ ¹æ®è®¾å¤‡æ˜¯ä¸»æœºè¿˜æ˜¯ä»æœºå†³å®šçš„ã€‚\n\n*æœ‰æ—¶åœ¨ä¸€äº›è®¾å¤‡ä¸Šè¿™äº›ç«¯å£çš„åç§°è¡¨è¿°ä¸Šå¯èƒ½ä¼šæœ‰äº›ä¸åŒï¼Œä½†æ˜¯åŠŸèƒ½ä¸Šæ˜¯ç›¸åŒçš„ã€‚*\n\n{% note warning %}\n\nSPIå‘é€æ²¡æœ‰å¤æ‚çš„æ•°æ®æ ¼å¼ï¼Œæ²¡æœ‰æ•°æ®æŠ¥å¤´ï¼Œæ²¡æœ‰æ•°æ®æŠ¥å°¾ã€‚\nå¦‚æœè¦å‘é€8ä½æ•°æ®ï¼Œé‚£ä¹ˆå‘é€å’Œæ¥æ”¶åˆ°çš„å°±æ˜¯ç®€å•çš„8ä¸ªäºŒè¿›åˆ¶ä½ã€‚ä¿¡æ¯å‘é€çš„åŒæ­¥æ–¹å¼ç”±ä¸»æœºçš„ä½¿èƒ½ä¿¡å·å’Œæ—¶é’Ÿä¿¡å·æ§åˆ¶ã€‚\n\n{% endnote %}  \n\n### å…¨åŒå·¥è¿è¡Œæ¨¡å¼\n\n![image-20220519180540056](image-20220519180540056.png)\n\nåœ¨å…¨åŒå·¥ä¸‹ï¼Œéœ€è¦åŒæ—¶ç”¨åˆ°å››æ ¹çº¿ï¼Œè¿™ä¹Ÿæ˜¯æœ€æ ‡å‡†çš„SPIé€šä¿¡æ–¹å¼ï¼Œä¸»ä»åŒæ–¹é€šè¿‡ä¸Šè¿°é€šä¿¡æ­¥éª¤é€šä¿¡\n\n### å•å·¥æ¨¡å¼\n\n![image-20220519181116970](image-20220519181116970.png)\n\n![image-20220519181123484](image-20220519181123484.png)\n\n![image-20220519181133572](image-20220519181133572.png)\n\nä»¥ä¸Šå„ç§æ–¹å¼éƒ½æ˜¯åªèƒ½å•å‘é€šä¿¡ï¼Œæˆ–åŒæ—¶åªèƒ½å•æ–¹å‘é€çš„å·¥ä½œæ¨¡å¼ï¼Œåœ¨è¿™ç§å·¥ä½œæ¨¡å¼ä¸‹åªéœ€è¦ç”¨åˆ°ä¸‰æ ¹çº¿ï¼Œä½†æ˜¯ç›¸æ¯”å…¨åŒå·¥æ¨¡å¼ä¼šæœ‰ä¸€å®šçš„é™åˆ¶ï¼Œåœ¨ä½¿ç”¨ä¸€äº›åŠŸèƒ½å•ä¸€çš„ä»æœºæ—¶å¯èƒ½ä¼šç”¨åˆ°ã€‚\n\n## RVSTARçš„SPIå‘é€ä¸æ¥æ”¶æµç¨‹ï¼ˆåªä»‹ç»ä¸»æœºæ¨¡å¼ï¼‰\n\n### SPIç»“æ„å›¾\n\n![image-20220519181429590](image-20220519181429590.png)\n\n{% note info %} \n\næ³¨æ„ï¼Œè½¯ä»¶åº”å½“é€šè¿‡è¯»å†™SPI_DATAå¯„å­˜å™¨æ¥å°†æ•°æ®å­˜å…¥`å‘é€ç¼“å†²åŒº`å’Œè¯»å–`æ¥æ”¶ç¼“å†²åŒº`ï¼Œåœ¨ä¸‹æ–‡ä¸­ä¸ºæ–¹ä¾¿ç†è§£ï¼Œå…¨éƒ¨è¡¨è¿°ä¸ºã€Œå†™`å‘é€ç¼“å†²åŒº`ã€å’Œã€Œè¯»`æ¥æ”¶ç¼“å†²åŒº`ã€\n\n\n{% endnote %}\n\n### ä¸»æœºæ¨¡å¼å‘é€æµç¨‹\n\nåˆå§‹åŒ–å®Œæˆåï¼ŒSPIä½¿èƒ½æ¨¡å—ä¸ºç©ºé—²çŠ¶æ€ã€‚å½“è½¯ä»¶å†™ä¸€ä¸ªæ•°æ®åˆ°`å‘é€ç¼“å†²åŒº`åï¼Œå‘é€è¿‡ç¨‹å¼€å§‹ã€‚\n\nSPIå¼€å§‹å‘é€æ•°æ®å¸§æ—¶ï¼Œè¿™ä¸ªæ•°æ®å¸§å°†åŠ è½½åˆ°`ç§»ä½å¯„å­˜å™¨`ä¸­ï¼Œå½“`ç§»ä½å¯„å­˜å™¨`ä¸­çš„**ç¬¬ä¸€ä¸ªä½ï¼ˆbitï¼‰**å‘å‡ºåï¼ŒTBEï¼ˆå‘é€ç¼“å†²åŒºç©ºä¿¡å·ï¼‰ä½ç½®1ã€‚**TBEç½®1è¯´æ˜`å‘é€ç¼“å†²åŒº`ä¸ºç©º**ï¼Œå¦‚æœè¿˜è¦ç»§ç»­å‘é€æ•°æ®ï¼Œåˆ™æ­¤æ—¶å¯ä»¥å‘`å‘é€ç¼“å†²åŒº`å†™æ•°æ®ã€‚\n\n### ä¸»æœºæ¥æ”¶æµç¨‹\n\nåœ¨æœ€åä¸€ä¸ªé‡‡æ ·æ—¶é’Ÿè¾¹æ²¿åï¼Œæ¥æ”¶åˆ°çš„æ•°æ®ä»`ç§»ä½å¯„å­˜å™¨`å­˜å…¥åˆ°`æ¥æ”¶ç¼“å†²åŒº`ï¼Œä¸”RBNEï¼ˆæ¥æ”¶ç¼“å†²åŒºéç©ºï¼‰ä½ç½®1ã€‚RBNEç½®1è¯´æ˜`æ¥æ”¶ç¼“å†²åŒº`æ»¡ï¼Œè½¯ä»¶å¯ä»¥é€šè¿‡è¯»`æ¥æ”¶ç¼“å†²åŒº`è¯»å–æ¥æ”¶åˆ°çš„æ•°æ®ï¼Œ**å½“è½¯ä»¶è¯»å–æ¥æ”¶ç¼“å†²åŒºæ—¶ï¼Œä¼šè‡ªåŠ¨æ¸…é™¤RBNEæ ‡å¿—ä½**ã€‚\n\n{% note error %} \n\n**åœ¨å…¨åŒå·¥ä¸»æœºæ¨¡å¼ä¸‹ï¼Œä»…å½“`å‘é€ç¼“å†²åŒº`éç©ºæ—¶ï¼Œç¡¬ä»¶æ‰æ¥æ”¶ä¸‹ä¸€ä¸ªæ•°æ®å¸§ã€‚**\n\næ³¨æ„ä¸Šæ–‡è¿™æ®µè¯éå¸¸é‡è¦ï¼Œæ„æ€æ˜¯è¯´SPIåœ¨å…¨åŒå·¥é€šä¿¡æ—¶ï¼Œå¦‚æœæƒ³è¦æ¥æ”¶ä¿¡æ¯ï¼Œå¿…é¡»è¦è®©**`å‘é€ç¼“å†²åŒº`**éç©ºï¼\nå¦‚æœåœ¨åç»­å†™ç¨‹åºçš„æ—¶å€™æ²¡æœ‰æ³¨æ„è¿™ä¸€ç‚¹ä¼šå¯¼è‡´è¯»å–å¼‚å¸¸ï¼Œè¿™ä¸€ç‚¹åœ¨å®˜æ–¹çš„ç¤ºä¾‹ç¨‹åºä¸­æ²¡æœ‰å±•ç¤ºï¼Œä¹Ÿæ²¡æœ‰æåŠã€‚\n\n\n{% endnote %}\n\n### ä¸»æœºæ”¶å‘æµç¨‹æ€»ç»“\n\nä¸»æœºå‘é€ä¿¡æ¯ä¸”ä¸éœ€è¦æ¥æ”¶å›å¤æ—¶ï¼š\n\n1. æ£€æŸ¥TBEï¼Œç­‰å¾…å…¶ä¸º1\n2. æ•°æ®å†™å…¥`å‘é€ç¼“å†²åŒº`\n3. ç­‰å¾…RBNEä¸º1\n4. è¯»`æ¥æ”¶ç¼“å†²åŒº`ä»¥æ¸…ç©ºRBNEæ ‡å¿—ä½\n\nä¸»æœºå‘é€ä¿¡æ¯ä¸”éœ€è¦æ¥æ”¶å›å¤æ—¶ï¼š\n\n1. æ£€æŸ¥TBEï¼Œç­‰å¾…å…¶ä¸º1\n2. æ•°æ®å†™å…¥`å‘é€ç¼“å†²åŒº`\n3. ç­‰å¾…RBNEä¸º1\n4. è¯»`æ¥æ”¶ç¼“å†²åŒº`ä»¥æ¸…ç©ºRBNEæ ‡å¿—ä½\n5. **æŠŠä¸€ä¸ªåºŸæ•°æ®ï¼ˆæˆ–è€…å¯¹ä»æœºæ¥è¯´æ˜¯ç©ºæŒ‡ä»¤çš„æ•°æ®ï¼Œä¸€èˆ¬ä¸º0x0ï¼‰å†™å…¥`å‘é€ç¼“å†²åŒº`**\n6. **ç­‰å¾…RBNEä¸º1**\n7. **è¯»`æ¥æ”¶ç¼“å†²åŒº`ä»¥è·å¾—è¿”å›æ•°æ®**\n\næ³¨æ„ä¸»æœºå‘é€ä¸€æ¡æ¶ˆæ¯åï¼Œå¦‚æœè¿˜è¦è·å¾—å›å¤ï¼Œé‚£ä¹ˆå¿…é¡»è¦å†å†™å…¥ä¸€æ¡åºŸæ•°æ®ï¼ˆç©ºæŒ‡ä»¤ï¼‰æ¥è®©`å‘é€ç¼“å†²åŒº`éç©ºï¼Œä»è€Œè®©ç¡¬ä»¶èƒ½æ¥æ”¶è¿”å›çš„æ•°æ®å¸§ã€‚\n\n## RVSTARä½¿ç”¨SPIç¼–ç¨‹å®ç°\n\né¦–å…ˆè¯´æ˜ï¼ŒSPIå¹¶éå¾ˆå¤æ‚çš„é€šä¿¡åè®®ï¼Œæ‰€ä»¥åœ¨æŒæ¡äº†ä¸Šæ–‡æè¿°çš„SPIé€šä¿¡åŸç†åï¼Œå®Œå…¨å¯ä»¥é€šè¿‡ç®€å•åœ°GPIOæ‰‹åŠ¨æ§åˆ¶æ—¶é’Ÿç¿»è½¬å’Œæ•°æ®è¾“å…¥è¾“å‡ºï¼Œä½†æ˜¯è¿™é‡Œä»‹ç»ç”±èŠ¯ç‰‡æä¾›çš„SPIåŠŸèƒ½å®ç°ã€‚\n\n### å¤–è®¾é…ç½®\n\né¦–å…ˆå¯¹SPIå¤–è®¾è¿›è¡Œé…ç½®ï¼š\n\n1. å¼€å¯GPIOæ—¶é’Ÿ\n2. å¼€å¯å¤–è®¾æ—¶é’Ÿå¤ç”¨\n3. å¼€å¯SPIæ—¶é’Ÿ\n4. GPIOåˆå§‹åŒ–ä¸ºå¤ç”¨æ¨¡å¼\n\næŸ¥é˜…æ‰‹å†Œå¯çŸ¥PA5/PA6/PA7å¯ä»¥å¤ç”¨ä¸ºSPIåŠŸèƒ½\n\n![image-20220519202439254](image-20220519202439254.png)\n\n```c\n    rcu_periph_clock_enable(RCU_GPIOA); // GPIOAæ—¶é’Ÿ\n    rcu_periph_clock_enable(RCU_AF); // å¤ç”¨æ—¶é’Ÿ\n    rcu_periph_clock_enable(RCU_SPI0); // SPI0æ—¶é’Ÿ\n\t\n\t// PA5å’ŒPA7ä½œä¸ºè¾“å‡ºå£ï¼Œè®¾ç½®ä¸ºOæ¨æŒ½å¤ç”¨è¾“å‡º\n    gpio_init(GPIOA, GPIO_MODE_AF_PP, GPIO_OSPEED_50MHZ, GPIO_PIN_5 | GPIO_PIN_7);\n\t// PA6ä½œä¸ºä¸»æœºè¾“å…¥ï¼Œè®¾ç½®ä¸ºæµ®ç©ºæ¨¡å¼\n    gpio_init(GPIOA, GPIO_MODE_IN_FLOATING, GPIO_OSPEED_50MHZ, GPIO_PIN_6);\n```\n\n### SPIé…ç½®\n\nSPIé…ç½®ä¸»è¦æ˜¯è¦é…åˆä»æœºçš„å·¥ä½œæ–¹å¼ï¼Œä¾‹å¦‚ä»æœºçš„ä¿¡å·è¯»å–è¾¹æ²¿ã€ä»æœºèƒ½æ¥å—çš„ä¿¡æ¯ä¼ è¾“é€Ÿç‡ã€ä»æœºçš„å¤§å°ç«¯æ¥æ”¶æ–¹å¼ç­‰ç­‰ã€‚å…¶é…ç½®æ–¹å¼ç”±ç»“æ„ä½“`spi_parameter_struct`å†³å®šï¼Œå…¶å±æ€§å¦‚ä¸‹ï¼š\n\n![image-20220519203017685](image-20220519203017685.png)\n\nè¿™é‡Œè§£é‡Šå‡ ä¸ªæ¯”è¾ƒä¸å¥½ç†è§£çš„å‚æ•°ï¼š\n\n- frame_size\n  - æ•°æ®å¸§æ ¼å¼ï¼Œå¯ä»¥ä¸º8æˆ–16ã€‚æ³¨æ„åˆ°èŠ¯ç‰‡æä¾›çš„SPIç§»ä½å¯„å­˜å™¨å’Œè¾“å…¥è¾“å‡ºç¼“å†²åŒºéƒ½æ˜¯16ä½çš„ï¼Œå¦‚æœæˆ‘ä»¬è¦å‘é€8ä½çš„æ•°æ®ï¼Œæœ‰äº›äººå¯èƒ½ä¼šæ‹…å¿ƒæ˜¯å¦éœ€è¦åœ¨ç¨‹åºé‡Œå¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œä»¥é€‚é…16ä½ã€‚ç­”æ¡ˆæ˜¯ä¸éœ€è¦ï¼Œåªè¦åœ¨æ•°æ®å¸§æ ¼å¼é‡Œè®¾ç½®å®Œæˆåå°±ä¸éœ€è¦ç¨‹åºå‘˜å†å»å…³å¿ƒè¿™ä¸ªäº†ã€‚\n- nss\n  - nsså°±æ˜¯ä¸Šæ–‡æåˆ°çš„csä»æœºç‰‡é€‰ï¼Œè½¯ä»¶æ¨¡å¼æŒ‡ç”±ç¨‹åºå‘˜æ‰‹åŠ¨æ§åˆ¶GPIOï¼Œæˆ–ç›´æ¥æ‹‰ä½æ¥æ§åˆ¶ä»æœºçš„csï¼›ç¡¬ä»¶æ¨¡å¼åˆ™æ˜¯åœ¨å‘é€æ—¶ç”±ç¡¬ä»¶è‡ªåŠ¨æ§åˆ¶ç‰‡é€‰ä¿¡å·ã€‚è½¯ä»¶æ¨¡å¼çš„å¥½å¤„æ˜¯å¯ä»¥ç”±ä¸€ç»„SPIè¿æ¥å¤šä¸ªä»æœºï¼Œé€šè¿‡è½¯ä»¶ç‰‡é€‰æ¥é€‰æ‹©ä»æœºã€‚è¯¦ç»†è§æ–‡æ¡£ã€‚\n- clock_polarity_phase\n  - ![image-20220519203807731](image-20220519203807731.png)\n    å¯å‚è€ƒï¼š[SPIç›¸ä½è·Ÿææ€§ä»‹ç»_Fields_Of_Goldçš„åšå®¢-CSDNåšå®¢_spiç›¸ä½å’Œææ€§](https://blog.csdn.net/liu__ke/article/details/17526087)\n- endian\n  - æ³¨æ„è¿™é‡ŒæŒ‡çš„æ˜¯ç§»ä½å¯„å­˜å™¨å…ˆå‘é€é«˜ä½ï¼ˆMSBï¼‰è¿˜æ˜¯ä½ä½(LSB)ï¼Œå¦‚æœä»æœºå¸Œæœ›æ¥æ”¶åˆ°çš„ç¬¬ä¸€ä¸ªbitæ˜¯é«˜ä½ï¼Œé‚£å°±é€‰æ‹©MSBï¼Œå¦åˆ™é€‰æ‹©LSB\n\n```c\n\tspi_struct_para_init(&spi_init_struct); // åº“å‡½æ•°ä¸­çš„ç»“æ„ä½“åˆå§‹åŒ–å‡½æ•°\n\n    spi_init_struct.trans_mode = SPI_TRANSMODE_FULLDUPLEX; // å…¨åŒå·¥æ¨¡å¼\n    spi_init_struct.device_mode = SPI_MASTER; // ä¸»æœºæ¨¡å¼\n    spi_init_struct.frame_size = SPI_FRAMESIZE_8BIT; // 1ä¸ªæ•°æ®å¸§å¤§å°ä¸º8bit\n\n\t// åˆå§‹æ—¶é’Ÿä¸ºä½ï¼Œä¸”ç¬¬ä¸€ä¸ªè¾¹æ²¿æœ‰æ•ˆä¸Šå‡æ²¿æœ‰æ•ˆã€‚å³ä¸Šå‡æ²¿æœ‰æ•ˆ\n    spi_init_struct.clock_polarity_phase = SPI_CK_PL_LOW_PH_1EDGE; \n\n    spi_init_struct.nss = SPI_NSS_SOFT; // è½¯ä»¶æ¨¡å¼\n    spi_init_struct.prescale = SPI_PSC_128; // SPIåˆ†é¢‘ï¼Œæ§åˆ¶å‘é€é€Ÿç‡\n    spi_init_struct.endian = SPI_ENDIAN_MSB; // é«˜ä½å…ˆå‘\n    spi_init(SPI0, &spi_init_struct); // å°†SPIé…ç½®ç»“æ„ä½“é€å…¥åˆå§‹åŒ–å‡½æ•°\n```\n\n### å®Œæ•´SPIåˆå§‹åŒ–\n\n```c\nvoid spi_config()\n{\n    rcu_periph_clock_enable(RCU_GPIOA);\n    rcu_periph_clock_enable(RCU_AF);\n    rcu_periph_clock_enable(RCU_SPI0);\n\n    /* configure SPI0 GPIO : SCK/PA5, MISO/PA6, MOSI/PA7 */\n    gpio_init(GPIOA, GPIO_MODE_AF_PP, GPIO_OSPEED_50MHZ, GPIO_PIN_5 | GPIO_PIN_7);\n    gpio_init(GPIOA, GPIO_MODE_IN_FLOATING, GPIO_OSPEED_50MHZ, GPIO_PIN_6);\n\n    spi_parameter_struct spi_init_struct;\n    /* deinitialize SPI and the parameters */\n    spi_i2s_deinit(SPI0);\n    \n    spi_struct_para_init(&spi_init_struct);\n    /* configure SPI0 parameters */\n    spi_init_struct.trans_mode = SPI_TRANSMODE_FULLDUPLEX;\n    spi_init_struct.device_mode = SPI_MASTER;\n    spi_init_struct.frame_size = SPI_FRAMESIZE_8BIT;\n    spi_init_struct.clock_polarity_phase = SPI_CK_PL_LOW_PH_1EDGE;\n    spi_init_struct.nss = SPI_NSS_SOFT;\n    spi_init_struct.prescale = SPI_PSC_128;\n    spi_init_struct.endian = SPI_ENDIAN_MSB;\n    spi_init(SPI0, &spi_init_struct);\n}\n```\n\n### ä½¿ç”¨SPIå‘é€ä¸”ä¸æ¥æ”¶å›å¤\n\n```c\nint main()\n{\n    /* configure SPI */\n    spi_config();\n    /* SPI enable */\n    spi_enable(SPI0);\n\n    while (1)\n    {\n        char c;\n        for (const char *p = \"Hello World\\n\\r\"; c = *p; p++)\n        {\n            while(RESET == spi_i2s_flag_get(SPI0, SPI_FLAG_TBE));\n            spi_i2s_data_transmit(SPI0, c);\n            while(RESET == spi_i2s_flag_get(SPI0, SPI_FLAG_RBNE));\n            spi_i2s_data_receive(SPI0);// è¯»ç¼“å†²ï¼Œé‡ç½®ç¼“å†²åŒºæ»¡ä¿¡å·ï¼Œä¾‹ç¨‹ä¸­æ²¡æœ‰è¿™ä¸€å¥ï¼Œå¾ˆä¸å¥½ï¼Œåº”å½“å°†ç¼“å†²åŒºæ»¡ä¿¡å·æ¸…ç©º\n        }\n        delay_1ms(2000);\n    }\n}\n```\n\n### ä½¿ç”¨SPIå‘é€ä¸”æ¥æ”¶å›å¤\n\n```c\n// msg: å‘ä»æœºå‘é€çš„æ¶ˆæ¯\nuint8_t read_data(uint8_t msg)\n{\n    gpio_bit_reset(GPIOA, NSS); // ç‰‡é€‰å¼€ï¼ˆå¦‚æœæœ‰ç‰‡é€‰çš„è¯ï¼‰\n\n    /*  å‡†å¤‡å‘é€æ¶ˆæ¯  */\n    while (RESET == spi_i2s_flag_get(SPI0, SPI_FLAG_TBE))// ç­‰å¾…è¾“å…¥ç¼“å†²ç©º\n        ;   \n    spi_i2s_data_transmit(SPI0, msg); // å‘é€æ¶ˆæ¯\n    while (RESET == spi_i2s_flag_get(SPI0, SPI_FLAG_RBNE))// ç­‰å¾…è¯»å–ç¼“å†²æ»¡\n        ;\n    spi_i2s_data_receive(SPI0); // è¯»ç¼“å†²ï¼Œé‡ç½®ç¼“å†²åŒºæ»¡ä¿¡å·\n    \n    /*  å†å‘é€ä¸€ä¸ªç©ºåœ°å€\n        RVSTARè¦æ±‚å‘é€ç¼“å†²åŒºä¸ä¸ºç©ºæ‰èƒ½è¯»å–\n        å¦‚æœä¸å‘é€ï¼Œåˆ™æ— æ³•æ­£å¸¸è¯»å–  */\n    while (RESET == spi_i2s_flag_get(SPI0, SPI_FLAG_TBE))// ç­‰å¾…è¾“å…¥ç¼“å†²ç©º\n        ;\n    spi_i2s_data_transmit(SPI1, 0); // å‘å‘é€ç¼“å†²åŒºè¾“å…¥ä¸€ä¸ªæ•°æ®\n    while (RESET == spi_i2s_flag_get(SPI1, SPI_FLAG_RBNE))// ç­‰å¾…è¯»å–ç¼“å†²æ»¡\n        ;\n    uint16_t receive_data;\n    receive_data = spi_i2s_data_receive(SPI1); // è¯»ç¼“å†²ï¼Œé‡ç½®ç¼“å†²åŒºæ»¡ä¿¡å·\n    gpio_bit_set(GPIOA, NSS); // ç‰‡é€‰å…³ï¼ˆå¦‚æœæœ‰ç‰‡é€‰çš„è¯ï¼‰\n    return receive_data;\n}\n```\n\nä¸Šé¢æ˜¯ä¸€ä¸ªã€Œå‘ä¸€ä¸ªï¼Œæ”¶ä¸€ä¸ªã€çš„ç¤ºä¾‹ï¼Œå¯ä»¥çœ‹åˆ°å¦‚æœè¦æ”¶ä¸€ä¸ªæ•°æ®å‘é€ç¼“å†²åŒºé‡Œè¦æœ‰æ•°æ®ã€‚\nä¹Ÿå°±æ˜¯è¯´å¦‚æœä½ è¦å®ç°ã€Œå‘nä¸ªï¼Œæ”¶nä¸ªã€ï¼Œé‚£ä¹ˆ**åœ¨ç¬¬kä¸ªæ•°æ®å‘é€æ—¶ï¼Œä½ ä¹Ÿå¯ä»¥åŒæ—¶æ¥æ”¶åˆ°ç¬¬k-1ä¸ªæ•°æ®çš„è¿”å›**ï¼Œè€Œä¸”åœ¨ç¬¬nä¸ªæ•°æ®å‘é€çš„åŒæ—¶å¯ä»¥æ¥æ”¶åˆ°ä»æœºç¬¬n-1ä¸ªçš„è¿”å›ï¼Œæ‰€ä»¥æœ€åè¿˜å¾—åœ¨è¡¥å‘ä¸€ä¸ªåºŸæ•°æ®ä»¥æ¥æ”¶ä»æœºçš„ç¬¬nä¸ªè¿”å›ã€‚\n\n## ç»“(Tu)è¯­(Cao)\n\næœ€ä¸ºåµŒå…¥å¼åˆå­¦è€…ï¼Œä½¿ç”¨äº†è¾ƒæ–°çš„å›½äº§å¼€å‘æ¿RVSTARå…¥é—¨ï¼Œæœ¬èº«ç›¸å…³çš„ä¾‹ç¨‹å°±å‡ ä¹æ²¡æœ‰ï¼Œè€Œä¸”å®˜æ–¹çš„SPIç¤ºä¾‹ä»£ç ä¸­è¿˜å‡ºç°äº†SPIå…¨åŒå·¥åªæ¼”ç¤ºå‘é€ä¸æ¼”ç¤ºæ¥æ”¶çš„æƒ…å†µï¼Œç”šè‡³åœ¨ä¸æ¸…ç©ºç¼“å†²åŒºæ ‡å¿—ä½çš„æƒ…å†µä¸‹è¿˜å»è¯»ç¼“å†²åŒºæ ‡å¿—ä½çš„ä¸è‰¯æ“ä½œã€‚è¿™äº›æƒ…å†µç»“åˆèµ·æ¥å¯¼è‡´æˆ‘åœ¨å¤„ç†SPIé€šä¿¡â€”â€”å°¤å…¶æ˜¯SPIæ¥æ”¶â€”â€”æ—¶èµ°äº†ä¸å°‘å¼¯è·¯ã€‚\n\n","tags":["ç¼–ç¨‹","æŠ€æœ¯","åµŒå…¥å¼"],"categories":["ç¼–ç¨‹"]},{"title":"2021.10åŠ¨ç”»æ¨è","url":"/åˆé›†/åŠ¨ç”»æ¨è/2021_10 åŠ¨ç”»æ¨è/","content":"\n{% note warning %} \n\n**ä¸»è§‚åˆ¤æ–­è­¦å‘Š**!\n\næœ¬æ–‡çº¯ç²¹å‡ºäºç¬”è€…ä¸ªäººä¸»è§‚ç»éªŒä¸æ„Ÿå—è€Œæˆï¼Œå¦‚æœ‰ä»»ä½•ä¸åŒæ„è§æ¬¢è¿å‹å–„äº¤æµè®¨è®º\n\næ²¡æœ‰æåˆ°çš„ä½œå“ç¬”è€…æ²¡çœ‹ï¼Œæˆ–ä¸ç¬¦åˆç¬”è€…ä¸ªäººå…´è¶£ï¼Œæˆ–è§‚çœ‹ä»·å€¼è¾ƒä½\n\nå¦å¤–ï¼Œæœ¬æ–‡ä¸æä¾›åŠ¨ç”»ç®€ä»‹ï¼Œå¯¹æ„Ÿå…´è¶£çš„åŠ¨ç”»å¯ä»¥ç‚¹å‡»ã€Œæ›´å¤šä¿¡æ¯ã€è®¿é—®[Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/)ç½‘ç«™çš„è¯¦æƒ…é¡µé¢\n\n{% endnote %}\n\n## æœˆã¨ãƒ©ã‚¤ã‚«ã¨å¸è¡€å§«ï¼ˆæœˆä¸è±å¡ä¸å¸è¡€å…¬ä¸»ï¼‰\n\n![330918_bDbb1](330918_bDbb1.jpg)\n\næ¨èåº¦ï¼š90åˆ†\n\nåœ¨ç¾è‹å¤ªç©ºç«èµ›çš„èƒŒæ™¯ä¸‹ï¼Œè‹è”å¸Œæœ›å®Œæˆé¦–ä¾‹è½½äººèˆªå¤©é£è¡Œã€‚ä¸ºä¿è¯é¦–ä½èˆªå¤©å‘˜çš„å®‰å…¨ï¼Œè‹è”æ‰¾æ¥äº†å¸è¡€é¬¼ä¼Šç³å¨œä½œä¸ºå®éªŒä½“è¿›è¡Œè¯•é£ã€‚ä¼Šç³å¨œåœ¨è‡ªå·±çŸ¥é“è‡ªå·±æ˜¯å®éªŒä½“ï¼Œä¸”å®éªŒå®Œæˆåå°±ä¼šè¢«åºŸå¼ƒçš„å‰æä¸‹ï¼Œèµ„æºå‚ä¸èˆªå¤©è®¡åˆ’ï¼Œåªå› å¥¹å‘å¾€å®‡å®™ï¼Œå‘å¾€æœˆçƒã€‚ä¼Šç³å¨œçš„ç›‘è§†äººåˆ—å¤«ä¸ä¼Šç³å¨œä¸€æ ·ï¼Œå¯¹å®‡å®™æœ‰ç€æ— ç©·çš„å¿µæƒ³ï¼ŒäºŒäººä¸€èµ·ä»¥å®‡å®™ä¸ºç›®æ ‡å‰è¿›ã€‚\n\nç²¾è‡´çš„ç”»é¢ï¼Œç»†è…»çš„å‰§æƒ…ï¼Œè®©äººæ·±æ·±æ„Ÿåˆ°å®‡å®™çš„æµªæ¼«ã€äººç±»æ¢ç´¢è‡ªç„¶çš„çƒ­æƒ…ï¼Œå¯¹äººç‰©çš„æƒ…æ„Ÿå˜åŒ–ä¹Ÿæœ‰å¾ˆæ·±çš„åˆ»ç”»ã€‚\n\nå‰§æƒ…è¾ƒä¸ºå¹³æ·¡ï¼Œä½†æ˜¯æ„å¢ƒå¾ˆç¾ï¼Œå€¼å¾—ä¸€çœ‹ã€‚\n\näº¬éƒ½å‡ºå“ï¼Œå¿…å±ç²¾å“ã€‚åŒç¬¬ä¸€å­£ä¸€æ ·ï¼Œä¾ç„¶æ˜¯æ¸©é¦¨è½»æ¾çš„æ—¥å¸¸åŠ¨ç”»ï¼Œç”»é£æ¸…æ–°ç²¾è‡´ï¼Œå‰§æƒ…è½»æ¾æ´»æ³¼ï¼Œé€‚åˆæ—¥å¸¸èŒç³»çˆ±å¥½è€…ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[æœˆã¨ãƒ©ã‚¤ã‚«ã¨å¸è¡€å§« | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/330918)\n\nå…³é”®è¯ï¼š`ç§‘å¹»`ï¼Œ`å¥‡å¹»`ï¼Œ`æ²»æ„ˆ`ï¼Œ`æ—åŸæƒ ç¾`ï¼Œ`è‹è”`\n\n## å…ˆè¼©ãŒã†ã–ã„å¾Œè¼©ã®è©±ï¼ˆå…³äºå‰è¾ˆå¾ˆçƒ¦äººçš„äº‹ï¼‰\n\n![309670_SCMw3](309670_SCMw3.jpg)\n\næ¨èåº¦ï¼š85åˆ†\n\nèè‰èº«æçš„äº”åå²šåŒå¶å’Œå·¨äººä½“å‹æ­¦ç”°æ™´æµ·çš„èŒåœºæ‹çˆ±å–œå‰§ã€‚\n\nç»å…¸çš„ç¬¨æ‹™ç”·ä¸»+è¿Ÿé’å¥³ä¸»çš„è®¾å®šï¼Œå‰§æƒ…è½»æ¾ç®€å•ï¼Œå€¼å¾—ä¸€çœ‹ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[å…ˆè¼©ãŒã†ã–ã„å¾Œè¼©ã®è©± | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/309670)\n\nå…³é”®è¯ï¼š`æ‹çˆ±`ï¼Œ`èŒåœº`ï¼Œ`å–œå‰§`ï¼Œ`åˆæ³•èè‰`\n\n## ä¸–ç•Œæœ€é«˜ã®æš—æ®ºè€…ã€ç•°ä¸–ç•Œè²´æ—ã«è»¢ç”Ÿã™ã‚‹ï¼ˆä¸–ç•Œé¡¶å°–çš„æš—æ€è€…è½¬ç”Ÿä¸ºå¼‚ä¸–ç•Œè´µæ—ï¼‰\n\n![328313_oQlyW](328313_oQlyW.jpg)\n\næ¨èåº¦ï¼š75åˆ†\n\nç”·ä¸»å‰ä¸–æ˜¯æš—æ€è€…ï¼Œæ­»åè¢«å¥³ç¥æ‹‰å»å¼‚ä¸–ç•Œæš—æ€å‹‡è€…ã€‚ç”·ä¸»åˆ©ç”¨å‰ä¸–çŸ¥è¯†åœ¨å¼‚ä¸–ç•Œå¤§æ€å››æ–¹ï¼Œå…¸å‹çš„é¾™å‚²å¤©åå®«ä½œå“ï¼Œä¸éœ€è¦å¸¦è„‘å­çœ‹ç”·ä¸»è£…xå°±å¥½äº†ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[ä¸–ç•Œæœ€é«˜ã®æš—æ®ºè€…ã€ç•°ä¸–ç•Œè²´æ—ã«è»¢ç”Ÿã™ã‚‹ | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/328313)\n\nå…³é”®è¯ï¼š`é¾™å‚²å¤©`ï¼Œ`å¼‚ä¸–ç•Œ`ï¼Œ`ç©¿è¶Š`ï¼Œ`åå®«`\n\n## å¤§æ­£ã‚ªãƒˆãƒ¡å¾¡ä¼½è©±ï¼ˆå¤§æ­£å¤„å¥³å¾¡ä¼½è¯ï¼‰\n\n![323158_MbmZ4](323158_MbmZ4.jpg)\n\næ¨èåº¦ï¼š65åˆ†\n\nç”·ä¸»å¤±å»ä¸€æ¡æ‰‹è‡‚è€Œè‡ªé—­ï¼Œè¢«å®¶é‡Œæ‰”åˆ°ä¸€æ ‹åˆ«å¢…é‡Œï¼Œè¿˜é…äº†ä¸ªè€å©†ã€‚ç”·ä¸»è¡£é£Ÿæ— å¿§è¿˜å¤©é™ä¸€ä¸ªæ¸©æŸ”ä½“è´´çš„è€å©†ï¼Œè¿˜æ•´å¤©è‹¦å¤§ä»‡æ·±ï¼Œå¯¹æˆ‘æ¥è¯´æ—¢ä¸èƒ½ç†è§£ç”·ä¸»çš„æŠ‘éƒï¼Œä¹Ÿä¸èƒ½ç†è§£å¥³ä¸»å¯¹ç”·ä¸»çš„æ­»å¿ƒå¡Œåœ°ã€‚å¿½ç•¥è¿™äº›é—®é¢˜å‹‰å¼ºèƒ½çœ‹ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[å¤§æ­£ã‚ªãƒˆãƒ¡å¾¡ä¼½è©± | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/323158)\n\nå…³é”®è¯ï¼š`æ‹çˆ±`ï¼Œ`æ—¥å¸¸`ï¼Œ`å¹¼å¦»`\n\n## æœ€æœã¦ã®ãƒ‘ãƒ©ãƒ‡ã‚£ãƒ³ï¼ˆä¸–ç•Œå°½å¤´çš„åœ£éª‘å£«ï¼‰\n\n![333442_rkukV](333442_rkukV.jpg)\n\næ¨èåº¦ï¼š60åˆ†\n\nè¢«ä¸‰åå¤ä»£è‹±é›„åœ¨è¿œç¦»äººä¸–çš„ç¯å¢ƒä¸­æŠšå…»é•¿å¤§çš„ç”·ä¸»ï¼Œä¸ºäº†æˆ˜èƒœé‚ªæ¶ä¹‹ç¥ä¸ä¸æ­»æ—è€Œè¸ä¸Šåœ£éª‘å£«ä¹‹æ—…ã€‚ç”·ä¸»æ˜¯å…¸å‹çš„é¾™å‚²å¤©ï¼Œä½†æ˜¯å‰§æƒ…è¿‡äºæ‹–æ²“ï¼Œè®©äººçœ‹ç€å¾ˆä¸çˆ½ã€‚ç”·ä¸»ä½œä¸ºå¼‚ä¸–ç•Œè½¬ç”Ÿè€…ï¼Œå°±ä»…ä»…åªæ˜¯ä¸ªè®¾å®šï¼Œè¿™ä¸ªèº«ä»½åœ¨å‰§æƒ…ä¸­æ²¡æœ‰èµ·åˆ°å“ªæ€•ä¸€ç‚¹ç”¨ï¼ˆä»…è®¨è®ºåŠ¨ç”»ï¼‰ï¼Œè€Œä¸”ç”·ä¸»ä½œä¸ºç”±è‹±é›„åŸ¹å…»å‡ºçš„é¾™å‚²å¤©è§’è‰²ï¼Œåœ¨å¦‚æ­¤æ‹–æ²“çš„å‰§æƒ…ä¸‹ç«Ÿç„¶ä¹Ÿä¸èƒ½è®©è§‚ä¼—æ„Ÿåˆ°çˆ½ï¼Œè®©æˆ‘å¾ˆå¤±æœ›ã€‚æ‰“æ–—ã€äººç‰©å¡‘é€ ã€å°è¯éƒ½è¿‡äºå¹³åº¸ã€‚å¿µåœ¨è®¾å®šä¸Šè¿˜ç®—ä¸é”™ï¼Œå‹‰å¼ºç»™ä¸ªåŠæ ¼åˆ†ã€‚\n\næ®è¯´åŸä½œå°è¯´å†™å¾—è¿˜è¡Œï¼Œçœ‹åŠ¨ç”»ä¸­å‡ºç°æœ‰å¤§é‡çš„å†…å¿ƒç‹¬ç™½ï¼Œæˆ–è®¸åŸä½œçš„æ–‡å­—å™è¿°æ¯”åŠ¨ç”»æœ‰æ›´å¥½çš„è¡¨ç°åŠ›ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[æœ€æœã¦ã®ãƒ‘ãƒ©ãƒ‡ã‚£ãƒ³ | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/333442)\n\nå…³é”®è¯ï¼š\n\n## 86â€•ã‚¨ã‚¤ãƒ†ã‚£ã‚·ãƒƒã‚¯ã‚¹â€• ç¬¬2ã‚¯ãƒ¼ãƒ«ï¼ˆ86ä¸å­˜åœ¨çš„æˆ˜åŒº ç¬¬äºŒå­£ï¼‰\n\n![331887_rZdb9](331887_rZdb9.jpg)\n\næ¨èåº¦ï¼š??åˆ†\n\næœ¬ä½œéš¾ä»¥ç»™å‡ºè¯„åˆ†ï¼Œå¯¹86çš„è¯„ä»·è¤’è´¬ä¸ä¸€ï¼Œæœ‰äººè§‰å¾—å®ƒæ˜¯ç¥ä½œï¼Œä¸ºäº†ç¬¬äºŒå­£æœ€åä¸€é›†å°±å€¼å¾—æŠŠç¬¬ä¸€å­£è¡¥äº†ï¼›ä¹Ÿæœ‰äººè§‰å¾—86çš„æ•´ä¸ªä¸–ç•Œè§‚å°±æ˜¯ä¸ªç¬‘è¯ï¼Œä½œè€…ä¸æ‡‚è£…æ‡‚ï¼Œæ— ç—…å‘»åŸã€‚\n\nåœ¨æˆ‘çœ‹æ¥ï¼Œä¸å»è€ƒè™‘å‰§ä¸­æ”¿æ²»ã€å†›äº‹ã€ç§æ—æ­§è§†ç­‰ç§ç§ä¸åˆç†çš„è¦ç´ ï¼Œé‚£ä¹ˆå…¶å®å¯ä»¥å•çº¯å°†å…¶çœ‹åšæ˜¯Boy Meets Girlçš„ç»å…¸å‰§æƒ…ã€‚ä¸€ä¸ªæ˜¯æ‰€è°“çš„ã€Œé«˜é˜¶äººç§ã€çš„å¥³ä¸»ï¼Œå¦ä¸€ä¸ªæ˜¯å—æ­§è§†çš„å†·é…·å£«å…µç”·ä¸»ï¼Œå¥³ä¸»åå¯¹å›½å®¶å¯¹äººç§çš„æ­§è§†è¸ä¸Šäº†è¿½å¯»ç”·ä¸»çš„æ—…é€”ï¼Œæœ€ç»ˆäºŒäººé¢å¯¹é¢ç›¸é‡ã€‚\n\nä¸è¦å»è€ƒè™‘é‚£äº›ä¸åˆç†çš„è®¾å®šï¼Œå°±å½“åšç½‘æ‹å¥”ç°æ¥çœ‹ï¼Œç¬¬äºŒå­£ä½œä¸ºç¬¬ä¸€å­£çš„åç»­è¿˜æ˜¯æŒºä¸é”™çš„ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[86â€•ã‚¨ã‚¤ãƒ†ã‚£ã‚·ãƒƒã‚¯ã‚¹â€• ç¬¬2ã‚¯ãƒ¼ãƒ« | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/331887)\n\nå…³é”®è¯ï¼š`æœºæˆ˜`ï¼Œ`æ‹çˆ±`","tags":["äºŒæ¬¡å…ƒ","åŠ¨ç”»"],"categories":["åŠ¨ç”»æ¨è"]},{"title":"WindowsåŸç†ä¸åº”ç”¨ï¼ˆå››ï¼‰â€”â€”åŠ¨æ€é“¾æ¥åº“","url":"/åˆé›†/WindowsåŸç†ä¸åº”ç”¨/WindowsåŸç†ä¸åº”ç”¨ï¼ˆå››ï¼‰â€”â€”åŠ¨æ€é“¾æ¥åº“/","content":"\n# åŠ¨æ€é“¾æ¥åº“ï¼ˆDynamic Link Libraryï¼‰\n\n## å…³äºåŠ¨æ€é“¾æ¥åº“\n\n### é“¾æ¥\n\nå¤§å¤šæ•°é«˜çº§è¯­è¨€éƒ½æ”¯æŒåˆ†åˆ«ç¼–è¯‘ï¼ˆcompilingï¼‰ï¼Œç¨‹åºå‘˜å¯ä»¥æ˜¾å¼åœ°æŠŠç¨‹åºåˆ’åˆ†ä¸ºç‹¬ç«‹çš„æ¨¡å—æˆ–æ–‡ä»¶ï¼Œç„¶åç”±ç¼–è¯‘å™¨ï¼ˆcompilerï¼‰å¯¹æ¯ä¸ªç‹¬ç«‹éƒ¨åˆ†åˆ†åˆ«è¿›è¡Œç¼–è¯‘ã€‚åœ¨ç¼–è¯‘ä¹‹åï¼Œç”±é“¾æ¥å™¨ï¼ˆLinkerï¼‰æŠŠè¿™äº›ç‹¬ç«‹ç¼–è¯‘å•å…ƒé“¾æ¥ï¼ˆLinkingï¼‰åˆ°ä¸€èµ·\n\n### é™æ€é“¾æ¥\n\nåœ¨ç¨‹åºå¼€å‘ä¸­ï¼Œå°†å„ç§ç›®æ ‡æ¨¡å—ï¼ˆ.OBJï¼‰æ–‡ä»¶ã€è¿è¡Œæ—¶åº“ï¼ˆ.LIBï¼‰æ–‡ä»¶ï¼Œä»¥åŠå·²ç¼–è¯‘çš„èµ„æºï¼ˆ.RESï¼‰æ–‡ä»¶é“¾æ¥åœ¨ä¸€èµ·ï¼Œä»¥ä¾¿åˆ›å»ºWindowsçš„.EXEæ–‡ä»¶ï¼Œè¿™ç§æ–¹å¼æ˜¯é™æ€é“¾æ¥\n\n### åŠ¨æ€é“¾æ¥\n\nåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼ŒWindowsæŠŠä¸€ä¸ªæ¨¡å—ä¸­çš„å‡½æ•°è°ƒç”¨é“¾æ¥åˆ°åº“æ¨¡å—ä¸­çš„å®é™…å‡½æ•°ä¸Šçš„è¿‡ç¨‹\n\n### äºŒè€…åŒºåˆ«\n\n- é™æ€é“¾æ¥ä¼šå°†ç›¸å…³çš„ç¨‹åºå…¨éƒ¨æ‰“åŒ…åˆ°æœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­\n- é™æ€é“¾æ¥ä¸ä¼šå°†ç¨‹åºæ‰“åŒ…åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œè€Œæ˜¯åœ¨.exeæ‰§è¡Œæ—¶è°ƒç”¨ç‹¬ç«‹çš„.dllæ–‡ä»¶\n\n## dllåœ°ç‹±\n\n- dllåœ°ç‹±æŒ‡å› ä¸ºç³»ç»Ÿæ–‡ä»¶è¢«è¦†ç›–è€Œè®©æ•´ä¸ªç³»ç»Ÿå´©æºƒçš„ç°è±¡\n- ä¾‹å¦‚å¤šä¸ªç³»ç»Ÿç¨‹åºä¾èµ–æŸä¸ªdllæ¨¡å—ï¼Œè€Œåˆæœ‰ä¸€äº›ç¨‹åºä¾èµ–è¯¥dllæ¨¡å—çš„æ–°ç‰ˆæœ¬ï¼Œè€Œè¿™ä¸ªdllæ¨¡å—çš„æ–°ç‰ˆæœ¬åˆä¸å‘ä¸‹å…¼å®¹ï¼Œé‚£ä¹ˆå½“ä½ æ›´æ–°è¯¥dllæ¨¡å—åï¼Œåˆ™å¤šä¸ªç³»ç»Ÿç¨‹åºå°†æ— æ³•å·¥ä½œ\n- .Netå¹³å°ä¸­å…è®¸ä¸€ä¸ªdllçš„å¤šä¸ªç‰ˆæœ¬åŒæ—¶åœ¨åŒä¸€å°æœºå™¨ä¸Šå·¥ä½œï¼Œä»è€Œè§£å†³äº†è¿™ä¸€é—®é¢˜ï¼Œè¯¥æŠ€æœ¯æˆä¸º`Side-by-Side`[^1]\n\n## Windowsä¸­ä¸»è¦çš„dll\n\n| åç§°         | åŠŸèƒ½                                                         |\n| ------------ | ------------------------------------------------------------ |\n| KERNEL32.DLL | ä½çº§å†…æ ¸å‡½æ•°ï¼Œç”¨äºå†…å­˜ç®¡ç†ã€ä»»åŠ¡ç®¡ç†ã€èµ„æºæ§åˆ¶ç­‰             |\n| USER32.DLL   | windowsç®¡ç†æœ‰å…³çš„å‡½æ•°ï¼Œæ¶ˆæ¯ã€èœå•ã€å…‰æ ‡ã€è®¡æ—¶å™¨ã€é€šä¿¡ï¼Œé’©å­ç­‰ |\n| GDI32.DLL    | å›¾å½¢è®¾å¤‡æ¥å£åº“                                               |\n| ODBC32.DLL   | ODBCåŠŸèƒ½                                                     |\n| Ws2_32.dll   | socketé€šä¿¡åŠŸèƒ½                                               |\n\n## dllä¸­å‡½æ•°è¾“å…¥/è¾“å‡ºå‚æ•°ï¼ˆc#ï¼‰\n\n- ä¼ å€¼\n- ref\n- out\n\nå…¶ä¸­ï¼Œrefå’Œoutç±»ä¼¼ï¼Œä½†æ˜¯reféœ€è¦è‡ªå·±èµ‹åˆå€¼ï¼Œè€Œoutç”±dllè´Ÿè´£èµ‹å€¼\n\n## dllçš„å¼•ç”¨è®¡æ•°\n\n- DLLåœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œç³»ç»Ÿä¸ºæ¯ä¸ªDLLç»´æŠ¤ä¸€ä¸ªçº¿ç¨‹çº§çš„å¼•ç”¨è®¡æ•°ï¼Œä¸€æ—¦ä¸€ä¸ªçº¿ç¨‹è½½å…¥äº†è¯¥DLLï¼Œå¼•ç”¨è®¡æ•°å°†ä¼šåŠ 1ã€‚è€Œç¨‹åºç»ˆæ­¢æˆ–è€…å¼•ç”¨è®¡æ•°å˜ä¸º0ï¼ˆä»…æŒ‡è¿è¡Œæ—¶åŠ¨æ€é“¾æ¥åº“ï¼‰ï¼ŒDLLå°±ä¼šé‡Šæ”¾å ç”¨ç¨‹åºçš„è™šåœ°å€ç©ºé—´ã€‚\n\n## Windowsçš„è™šåœ°å€æ˜ å°„\n\n- Windowså°†æä¾›å†…éƒ¨çš„åœ°å€æ˜ çš„å·¥ä½œï¼Œä¾‹å¦‚ä¸€ä¸ªDLLæ–‡ä»¶è¢«åŠ è½½ååœ¨ç‰©ç†å†…å­˜ä¸­**åªå ä¸€ä¸ªå›ºå®šåŒºåŸŸ**ï¼Œæœ‰å¤šä¸ªè¿›ç¨‹ä½¿ç”¨åŒä¸€ä¸ªDLLæ–‡ä»¶ï¼ŒWindowså°†è¿™ä¸ªDLLçš„å†…å­˜åœ°å€ç©ºé—´é€šè¿‡åœ°å€æ˜ å°„åæä¾›ç»™å„ä¸ªè¿›ç¨‹ï¼Œè¿›ç¨‹ä»£ç åœ°å€ä¸DLLæ˜ å°„ååœ°å€æ„æˆçš„æ˜¯è¿›ç¨‹çš„è™‘åœ°å€ç©ºé—´ï¼Œè¿›ç¨‹åœ¨è‡ªå·±çš„è™šåœ°å€ç©ºé—´ä¸­å¥½åƒæ˜¯è‡ªå·±ç‹¬è‡ªåœ¨ä½¿ç”¨è¿™ä¸ªDLLæ–‡ä»¶ï¼Œä½¿ç”¨DLLä¸­çš„å‡½æ•°ä¸ç¨‹åºè‡ªèº«çš„å‡½æ•°æ²¡æœ‰åŒºåˆ«ã€‚\n\n## C#åˆ›å»ºDLLç±»åº“ï¼ˆæ‰˜ç®¡çš„åŠ¨æ€é“¾æ¥åº“ï¼‰\n\n- ä¸€ä¸ªæ²¡æœ‰mainçš„.csæ–‡ä»¶ç”Ÿæˆä¸ºdll\n\n```csharp\nnamespace csTestDLL\n{\n    public class csDLLClass\n    {\n        double Pie = Math.PI;\n\n        public double PIE { get => Pie;}\n\n        public string say_hello()\n        {\n            return \"Hello! This is csTestDLL.\";\n        }\n\n        private double calc_power_two(double r)\n        {\n            return r * r;\n        }\n\n        public double calculate_circle_area(double r)\n        {\n            return Math.PI * calc_power_two(r);\n        }\n    }\n}\n```\n\n- è°ƒç”¨è¿™ä¸ªdll\n\n![image-20211207153830827](image-20211207153830827.png)\n\n```csharp\nAssembly csdll = Assembly.LoadFrom(\"csTestDLL.dll\"); // è£…è½½dll\n\npublic void say_hello_cs()\n{\n    // é€šè¿‡åå°„è·å–ç±»å‹ã€å‡½æ•°ã€å˜é‡\n    foreach (Type t in csdll.GetTypes())\n    {\n        if (t.IsClass && !t.IsAbstract)\n        {\n            ConstructorInfo[] ci = t.GetConstructors(); // è·å–æ„é€ åˆ—è¡¨\n            MethodInfo[] mis = t.GetMethods();// è·å–å‡½æ•°åˆ—è¡¨\n            callback(\"æ„é€ å‡½æ•°ï¼š\" + ci[0].ToString(), listname);\n            foreach (var item in mis)\n            {\n                callback(\"pulicå‡½æ•°ï¼š\" + item.ToString(), listname);\n            }\n            mis = t.GetMethods(BindingFlags.NonPublic | BindingFlags.Instance); // ä¸€å®šè¦ä¸¤ä¸ªbindingflagsåŒæ—¶æœ‰æ‰èƒ½è·å–ç§æœ‰å‡½æ•°\n            foreach (var item in mis)\n            {\n                callback(\"privateå‡½æ•°ï¼š\" + item.ToString(), listname);\n            }\n            MethodInfo mi = t.GetMethod(\"say_hello\"); // è°ƒç”¨say_helloå‡½æ•°\n            object obj = Activator.CreateInstance(t); // åˆ›å»ºå®ä¾‹\n            // Object obj = Activator.CreateInstance(typeof(String),new Object[] {13, 10 } );\n            // æœ‰å‚æ„é€ çš„æƒ…å†µâ†‘\n            \n            string msg = mi.Invoke(obj, null) as String;\n            callback(\"welcomeï¼š\" + msg, listname);\n            callback(split_line, listname);\n        }\n    }\n}\n```\n\n```csharp\npublic void calc_circle_area(double r = 1)\n{\n    foreach (Type t in csdll.GetTypes())\n    {\n        if (t.IsClass && !t.IsAbstract)\n        {\n            Type[] p = new Type[0]; // æ— å‚æ„é€ \n            ConstructorInfo ci = t.GetConstructor(p); // è·å–æ„é€ \n            object o = ci.Invoke(null); // è°ƒç”¨æ„é€ ï¼Œå’ŒActivator.CreateInstance(t)æ•ˆæœæ˜¯ä¸€æ ·çš„\n            MethodInfo mi = t.GetMethod(\"calculate_circle_area\"); // è·å–è®¡ç®—é¢ç§¯å‡½æ•°\n            object[] para = new object[1] { r };\n            string msg = mi.Invoke(o, para).ToString();\n            callback(\"åœ†é¢ç§¯ï¼š\" + msg, listname);\n            callback(split_line, listname);\n        }\n    }\n}\n```\n\n![image-20211207155521779](image-20211207155521779.png)\n\n## C++éæ‰˜ç®¡åŠ¨æ€é“¾æ¥åº“\n\n### å¤´æ–‡ä»¶ç±»å‹\n\n```cpp\n#include \"myHead.h\"\n#include \"pch.h\"\n\n\n// æœ‰defå°±ä¸å¿…å†™å¤´æ–‡ä»¶äº†ï¼Œæ²¡æœ‰defå¿…é¡»å®šä¹‰å¤´æ–‡ä»¶ï¼Œæˆ–è€…å°†å¯¼å‡ºå®šä¹‰åœ¨å‡½æ•°åä¸Š -> \n// extern \"C\" __declspec(dllexport) int __stdcall factorial(int n)\n// å¿…é¡»æœ‰__stdcallï¼Œå¦åˆ™è°ƒç”¨æŠ¥é”™\n\n\nint __stdcall factorial(int n) {\n    int ans = 1;\n    while (n > 1) {\n        ans *= n;\n        n--;\n    }\n    return ans;\n}\n```\n\n- **å…³äº__stdcall**[^2]\n  - __stdcallæ˜¯å¾®è½¯ç‰¹æœ‰çš„ä¿®é¥°ç¬¦\n  - å®ƒè¡¨ç¤ºå¯¹è¿™ä¸ªç¨‹åºè¦æŒ‰ç…§çº¦å®šçš„æ–¹å¼è°ƒç”¨ï¼Œä¼šå°†æ‰€æœ‰å‡½æ•°å½“åšwinapiè°ƒç”¨\n\n\n\n\n```cpp\n#pragma once\n\n// åªæ˜¯å®šä¹‰ä¸€ä¸ªå¤´å¹¶æ²¡æœ‰ç”¨ï¼Œå› ä¸ºé™¤äº†C/C++è°ƒç”¨å¤–ï¼Œè¿™ä¸ªå¤´å¹¶ä¸ä¼šè¢«ç¼–è¯‘\n// è¦å°†å®ƒæ”¾åˆ°pch.hå¤´ä¸­æ‰ä¼šç¼–è¯‘\n\n// __declspec(dllexport)å£°æ˜å¯¼å‡ºå‡½æ•°\n// extern \"C\" ç”¨äºéC/C++è°ƒç”¨\nextern \"C\" __declspec(dllexport) int __stdcall factorial(int n);\n```\n\n- è°ƒç”¨\n\n```cpp\n/// <summary>\n/// è‡ªå»ºcppåŠ¨æ€åº“\n/// </summary>\n[DllImport(\"../../../debug/cppTestDLL.dll\")]\nprivate static extern Int32 factorial(int n);\n\n\n/// <summary>\n/// c++åŠ¨æ€åº“\n/// </summary>\n/// <param name=\"num\"></param>\npublic void calc_factoria(int num)\n{\n    callback(\"cppDLLå¼€å§‹è°ƒç”¨\", listname);\n    Int32 ans = factorial(num);\n    callback(num + \"! = \" + ans.ToString(), listname);\n    callback(split_line, listname);\n}\n```\n\n### ä½¿ç”¨def\n\n```\nLIBRARY library\n\n\nEXPORTS\nfactorial\n```\n\n### æ³¨æ„\n\n```csharp\n[ DllImport( \"kernel32.dll\",EntryPoint=\"GetVersionEx\" )] \n// your func name...\n\n// è¿™ç§å†™æ³•å®šä¹‰äº†EntryPointï¼Œè¿™æ ·å†™çš„ä½œç”¨æ˜¯å¯ä»¥è‡ªå®šä¹‰å‡½æ•°å\n// å¦‚æœä¸å†™EntryPointï¼Œåˆ™è°ƒç”¨æ—¶çš„å‡½æ•°åå¿…é¡»ä¸ºã€ŒGetVersionExã€\n```\n\n[^1]:[ASP.NET å¹¶è¡Œ (Side-by-Side) æ¦‚è¿°](https://docs.microsoft.com/zh-cn/previous-versions/visualstudio/visual-studio-2008/a99txfy5(v=vs.90))\n\n[^2]:[__stdcall | Microsoft Docs](https://docs.microsoft.com/en-us/cpp/cpp/stdcall?redirectedfrom=MSDN&view=msvc-170)","tags":["ç¼–ç¨‹","æŠ€æœ¯"],"categories":["WindowsåŸç†ä¸åº”ç”¨"]},{"title":"ATRI -My Dear Moments-","url":"/ATRI/","content":"\n# ATRI -My Dear Moments-\n\n> ~~HEåˆé€šè®°~~\n>\n> TEä¹Ÿé€šäº†\n\n{% note warning %}\n\n## å‰§é€è­¦å‘Šï¼\n\næœ¬æ–‡åŒ…å«å¯¹å‰§æƒ…çš„æè¿°\n\n## CGå‡ºç°è­¦å‘Šï¼\n\næœ¬æ–‡åŒ…å«æ¸¸æˆCG\n\n{% endnote %}  \n\n- æ›´ï¼šTEä¹Ÿé€šäº†ï¼Œæœ€åæœºæ¢°é£å‡èƒ½å’Œäºšæ‰˜è‰åœ¨ä¸€èµ·æŒºå¥½ï¼Œåªæ˜¯æ°´å½©èŒæœ‰ç‚¹æƒ¨\n\n***\n\n![atri](atri.jpg)\n\n<!--more-->\n\n## æ•´ä½“æ„Ÿå—\n\n- å‰§æƒ…ï¼š8/10\n\n  - ä¸­è§„ä¸­çŸ©çš„æ•…äº‹ï¼ŒèŠ‚å¥æ§åˆ¶åˆç†ï¼Œæ²¡æœ‰å¤§æ®µçš„æµæ°´è´¦ï¼ˆæ­¤å¤„@ä¸‰è‰²ç»˜æ‹ï¼‰ã€‚å‰åŠæ®µäºšæ‰˜è‰ä¼ªè£…çš„æ„Ÿæƒ…æ‹¯æ•‘äº†å¤ç”Ÿï¼Œè€Œå½“å¤ç”Ÿå‘ç°äºšæ‰˜è‰çš„ä¼ªè£…åä¾ç„¶å†³å®šå±¥è¡Œä¹‹å‰çš„æ‰¿è¯ºï¼Œæ‹¯æ•‘äºšæ‰˜è‰ï¼Œæœ€åä¹Ÿç»ˆäºè®©äºšæ‰˜è‰è®¤è¯†åˆ°è‡ªå·±çš„æ„Ÿæƒ…ã€‚è™½ç„¶äºšæ‰˜è‰åœ¨è‡ªå·±çœŸå®çš„æ„Ÿæƒ…ä¸‹ä¸å¤ç”Ÿç›¸å¤„çš„æ—¶é—´åªæœ‰çŸ­çŸ­4å¤©ï¼Œä½†è¿™æ®µæ„Ÿæƒ…éš¾é“å°±æ²¡æœ‰æ„ä¹‰äº†å—ï¼Ÿå½“ç„¶ä¸æ˜¯ã€‚è¿™åœ¨å‰§æƒ…ä¸­ä¹Ÿç»™å‡ºäº†ç›¸åº”çš„æ€è€ƒã€‚\n\n- äººè®¾ï¼š8.5/10\n\n  - äºšæ‰˜è‰ä»ã€Œæ´»æ³¼çš„æˆ˜æ–—æœºå™¨äººã€åˆ°åªæ˜¯æ¨¡æ‹Ÿæƒ…æ„Ÿçš„æ— æƒ…æœºå™¨ï¼Œå†åˆ°æ—©å·²éä½“é³ä¼¤å´æµ‘ç„¶ä¸çŸ¥çš„æŸ”å¼±å°‘å¥³ã€‚è¿™ä¸€ç³»åˆ—çš„åè½¬å†²å‡»ï¼Œåˆæœ‰å‡ ä¸ªé˜¿å®…æŠŠæŒå¾—ä½å‘¢ã€‚\n  - å¤ç”Ÿï¼Œç”·ä¸»è§’ï¼Œé«˜é¢œå€¼é«˜æ™ºå•†ï¼Œä½†æ˜¯å®¶åº­ç ´ç¢ï¼Œæœ‰å¿ƒç†åˆ›ä¼¤ã€‚å°æ—¶å€™ç”±äºè½¦ç¥¸å¤±å»æ¯äº²ï¼Œåˆè½å¾—è…¿éƒ¨æ®‹ç–¾ã€‚åœ¨ç”·ä¸»ç«¥å¹´æœ€ç»æœ›çš„æ—¶å€™ï¼Œæ˜¯äºšæ‰˜è‰ç»™äº†ä»–ç”Ÿæ´»çš„ç›®æ ‡ï¼›åœ¨ç”·ä¸»å°†é­é‡å±é™©æ—¶ï¼Œæ˜¯äºšæ‰˜è‰æš—ä¸­ä¿æŠ¤å¥¹ï¼›ç°åœ¨ç”·ä¸»ä»ç ”ç©¶é™¢è½é­„è€Œå½’ï¼Œåˆæ˜¯äºšæ‰˜è‰è®©ä»–é‡æ‹¾ç”Ÿæ´»çš„å¸Œæœ›ã€‚è€Œå½“ç”·ä¸»å‘ç°äºšæ‰˜è‰åœ¨æ¨¡æ‹Ÿäººçš„æƒ…æ„Ÿæ—¶ï¼Œä»–å¹¶æ²¡æœ‰å› è¢«éª—çš„å¤±æœ›è€Œå¤§å‘é›·éœ†ï¼Œè€Œæ˜¯è¿›ä¸€æ­¥äº†è§£äºšæ‰˜è‰ï¼Œæœ€ç»ˆè®©äºšæ‰˜è‰è®¤è¯†åˆ°äº†æ„Ÿæƒ…ã€‚\n  - å…¶ä»–é…è§’ä¹Ÿæœ‰é²œæ˜çš„ç‰¹ç‚¹ï¼Œå¹¶æ²¡æœ‰ç€é‡å±•å¼€ï¼Œè¯¦ç•¥å¾—å½“ã€‚åªæ˜¯ä½œä¸ºå”¯ä¸€çš„åæ´¾ï¼Œå®å±ä¸ºåè€Œåäº†ï¼Œæˆ‘è§‰å¾—æœ‰ç‚¹çªå…€ã€‚\n\n- ç¾æœ¯ï¼š9.5/10\n\n  - å·®0.5åˆ†æ€•åˆ¶ä½œæ–¹éª„å‚²ã€‚\n  - é¦–å…ˆæ˜¯äºšæ‰˜è‰ï¼Œå¤–è¡¨æ˜¯æµ…è‰²æŸ”é¡ºçš„é•¿å‘ï¼Œçº¢è‰²çš„ç³å­”ï¼Œèº«ç€è½»é£˜é£˜çš„ç™½è‰²æ°´æ‰‹æœï¼Œæœ‰ç€åå‡ å²å°‘å¥³çš„æ ·è²Œå’Œèº«æã€‚ä»å¤–è§‚ä¸Šæ¥çœ‹ä¾¿æ˜¯èƒ½å¤Ÿæ¿€èµ·ä¿æŠ¤æ¬²çš„å¯çˆ±æ¸…çº¯å°‘å¥³ã€‚\n\n  ![äºšæ‰˜è‰jpg](äºšæ‰˜è‰jpg.jpg)\n  - ç„¶åæ˜¯å¤ç”Ÿï¼Œå¤ç”Ÿæœ‰ç€é«˜å†·å¸…æ°”çš„é¢å®¹ï¼Œèº«æé«˜æŒ‘ï¼Œä¸€çœ¼ä¾¿ç»™äººä¸€ç§æ²‰ç€å†·é™ï¼Œè¶³æ™ºå¤šè°‹çš„å½¢è±¡ã€‚ç»™è§‚ä¼—è‰¯å¥½çš„ä½“éªŒã€‚\n\n  ![å¤ç”Ÿ](å¤ç”Ÿ.jpg)\n\n  - æœ€åæ˜¯åœºæ™¯ç¾æœ¯ï¼Œåœºæ™¯ç»˜åˆ¶ä¹Ÿç›¸å½“ä¸é”™ï¼Œä½†æ˜¯ä¸»è¦çš„è¡¨ç°é‡å¿ƒè¿˜æ˜¯äººç‰©ï¼Œåœºæ™¯ç›¸å½“ä¸é”™ä½†å¹¶ä¸æ¯”è§’è‰²æƒŠè‰³ã€‚\n\n  ![scene1](scene1.jpg)\n\n  ![scene2](scene2.jpg)\n\n## å…³äºæœºå™¨äººæƒ…æ„Ÿçš„ä¸€ç‚¹æ€è€ƒ\n\nå…³äºæ€è€ƒæœ‰ä¸€ä¸ªé‡è¦çš„çŸ›ç›¾ç‚¹åœ¨äºæœºå™¨äººçš„æ„Ÿæƒ…ã€‚æœºå™¨äººåˆ°åº•èƒ½å¦æ‹¥æœ‰å¯ä»¥è¢«æ™®éäººç±»æ‰¿è®¤çš„æ„è¯†ä¸æ„Ÿæƒ…ï¼Ÿè¿™ä¸ªé—®é¢˜ææ€•å¤§å¤šæ•°äººéƒ½éš¾ä»¥å›ç­”ï¼Œå› ä¸ºäººç±»å¯¹äºæ„è¯†å’Œæ„Ÿæƒ…çš„å®šä¹‰æœ¬å°±ç›¸å½“æ¨¡ç³Šä¸æ¸…ã€‚\n\né©¬å…‹æ€æ˜¯è¿™æ ·å®šä¹‰æ„è¯†çš„æœ¬è´¨çš„ï¼š\n\n> æ„è¯†æ˜¯äººè„‘ç‰¹æœ‰çš„æœºèƒ½ï¼Œæ˜¯äººè„‘å¯¹å®¢è§‚äº‹ç‰©çš„ä¸»è§‚åæ˜ ã€‚\n\nè¿™å¥è¯è®©å‡ ä¹æ‰€æœ‰çš„ä¸­å›½æ€æ”¿è€å¸ˆéƒ½è¦å¼ºè°ƒï¼Œåªæœ‰äººè„‘æ‰èƒ½æœ‰æ„è¯†ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆæ˜¯äººè„‘ï¼Œäººè„‘æ˜¯ä»€ä¹ˆç‰¹æ®Šçš„å­˜åœ¨å—ï¼Ÿå¦‚æœæœ‰èƒ½å¤Ÿå’Œäººè„‘ä¸€æ ·å¤æ‚çš„æœºå™¨å­˜åœ¨ï¼Œè¿™å°æœºå™¨äº§ç”Ÿçš„æ€è€ƒéš¾é“ä¸èƒ½è¢«ç§°ä¸ºã€Œæ„è¯†ã€å—ï¼Ÿ\n\næ‰€ä»¥æˆ‘è®¤ä¸ºï¼Œæ‰€è°“æ„è¯†è¦å­˜åœ¨å¿…é¡»å…·å¤‡ä¸¤ä¸ªæ¡ä»¶ï¼š\n\n1. è¶³å¤Ÿå¤æ‚ã€é«˜çº§çš„ç‰©è´¨åŸºç¡€ï¼Œä¾‹å¦‚äººè„‘ï¼Œæˆ–æ˜¯é«˜åº¦å¤æ‚å…ˆè¿›çš„æœºå™¨\n2. é€šè¿‡å®¢è§‚ä¸–ç•Œçš„å­¦ä¹ è½¬åŒ–è€Œæ¥\n\näºšæ‰˜è‰åœ¨æ²¡æœ‰æ„è¯†åˆ°è‡ªå·±çš„æ„Ÿæƒ…æ—¶æ‰€ã€Œä¼ªè£…ã€å‡ºæ¥çš„æ´»æ³¼æ€§æ ¼ï¼Œè¿™æ˜¯çœŸå®çš„æƒ…æ„Ÿå—ï¼Œæ˜¯äºšæ‰˜è‰çš„**æ„è¯†**æ‰€è¡ç”Ÿå‡ºçš„æƒ…æ„Ÿå—ï¼Ÿåœ¨å‰§æƒ…ä¸­ï¼Œæ°´èœèŒå·²ç»ç»™å‡ºäº†å¥¹çš„ç­”æ¡ˆï¼Œå¥¹è®¤ä¸ºè¿™äº›æƒ…æ„Ÿä¹Ÿæ˜¯çœŸå®çš„æƒ…æ„Ÿï¼Œå› ä¸ºè¿™äº›æƒ…æ„Ÿæ˜¯äºšæ‰˜è‰å¯¹å®¢è§‚ä¸–ç•Œçš„å­¦ä¹ è€Œäº§ç”Ÿçš„å¯¹å®¢è§‚ä¸–ç•Œçš„åŸºæœ¬è®¤è¯†ã€‚åœ¨è¿™å±‚æ„ä¹‰ä¸Šï¼Œæˆ‘èµåŒæ°´èœèŒçš„è§‚ç‚¹ï¼Œ**æˆ‘è®¤ä¸ºè¿™äº›æƒ…æ„Ÿä¹Ÿæ˜¯äºšæ‰˜è‰çš„æƒ…æ„Ÿâ€”â€”åªä¸è¿‡äºšæ‰˜è‰è‡ªå·±æ²¡æœ‰æ„è¯†åˆ°è¿™ä¸€ç‚¹ï¼Œå¹¶ä¸æ–­ä»¥å†·é…·çš„è§†è§’å»å®¡è§†è¿™äº›æƒ…æ„Ÿã€‚**\n\n## æ€»ç»“\n\nä¼˜ç§€çš„ç«‹ç»˜ï¼Œä¼˜ç§€çš„äººè®¾ï¼Œä¼˜ç§€çš„é…ä¹ï¼Œä¼˜ç§€çš„é…éŸ³ï¼Œæ‰å®çš„å‰§æƒ…ã€‚éå¸¸å€¼å¾—ä¸€ç©çš„å…¨å¹´é¾„è§†è§‰å°è¯´ã€‚\n\n","tags":["äºŒæ¬¡å…ƒ","æ¸¸æˆ"],"categories":["å…¶ä»–"]},{"title":"å…³äºæ­Œæ›²ã€Œæ˜Ÿã®ä¸–ç•Œã€","url":"/åˆé›†/ç”Ÿæ´»/æ˜Ÿã®ä¸–ç•Œ/","content":"\n# å…³äºæ­Œæ›²ã€Œæ˜Ÿã®ä¸–ç•Œã€\n\n## æ˜Ÿã®ä¸–ç•Œ\n\nã€Œæ˜Ÿã®ä¸–ç•Œã€ï¼Œçœ‹åå­—å°±çŸ¥é“æ˜¯ä¸€é¦–æ—¥æ–‡æ­Œæ›²ï¼Œä½†æ˜¯åœ¨ä¸­å›½ï¼Œå®ƒä¹Ÿæ˜¯ä¸€é¦–è€³ç†Ÿèƒ½è¯¦çš„ACGåæ›²ã€‚\n\nç›¸ä¿¡å¾ˆå¤šäººç¬¬ä¸€æ¬¡å¬åˆ°ã€Œæ˜Ÿã®ä¸–ç•Œã€åº”è¯¥æ˜¯åœ¨æ˜Ÿä¹‹æ¢¦([æ˜Ÿä¹‹æ¢¦ - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦ (wikipedia.org)](https://zh.wikipedia.org/wiki/æ˜Ÿä¹‹å¤¢))ï¼Œå¼€ç¯‡ç¥¥å’Œç¥åœ£çš„å…«éŸ³ç›’éŸ³ä¹ï¼Œå†åŠ ä¸Šæ˜Ÿé‡æ¢¦ç¾æ¸©æŸ”çš„æ—ç™½ï¼Œè‚¯å®šåœ¨å„ä½çš„å¿ƒä¸­ç•™ä¸‹äº†æ·±åˆ»çš„æ˜ åƒã€‚\n\nè¿™é¦–ç¾ä¸½çš„æ›²å­æˆäº†æ˜Ÿä¹‹æ¢¦çš„æ ‡å¿—ï¼Œä½†äº‹å®ä¸Šï¼Œè¿™é¦–æ›²å­å¹¶éæ˜Ÿä¹‹æ¢¦åŸåˆ›ï¼Œå®ƒæ—©åœ¨19ä¸–çºªå°±å·²ç»è¯ç”Ÿäº†ã€‚\n<!--more-->\n\n## æ˜Ÿã®ç•Œï¼ˆã‚ˆï¼‰\n\nã€ŒWhat a Friend We Have in Jesusã€[^1]æ˜¯ä¸€é¦–åŸºç£æ•™çš„èµç¾æ­Œï¼Œè¯—è¯åœ¨1855å¹´ä½œæˆï¼Œè€Œæ›²è°ƒäº1868å¹´ä½œæˆï¼Œå®ƒçš„æ›²è°ƒä¾¿æ˜¯ã€Œæ˜Ÿã®ä¸–ç•Œã€çš„èµ·æºã€‚\n\nåæ¥è¿™é¦–æ­Œä¼ åˆ°æ—¥æœ¬ï¼Œè¢«æ”¹ä¸ºã€Œã„ã¤ãã—ã¿æ·±ãã€ï¼ˆå¤§æ„ä¸ºã€Œæ·±æ²‰çš„æ…ˆçˆ±ã€ï¼‰ï¼Œä½œä¸ºæ—¥æœ¬çš„åŸºç£æ•™èµç¾æ­Œï¼Œå®ƒä¹Ÿæˆä¸ºäº†æ•™ä¼šä¸­ç»å¸¸åœ¨ç»“å©šæ—¶æ’­æ”¾çš„èµç¾æ­Œä¹‹ä¸€ã€‚[^2]\n\n1910å¹´ï¼ˆæ˜æ²»43å¹´ï¼‰ï¼Œæ–‡éƒ¨çœå°†å…¶é‡æ–°å¡«è¯ä¸ºã€Œæ˜Ÿã®ç•Œï¼ˆã‚ˆï¼‰ã€ã€‚è¿™æ—¶ï¼Œè¿™é¦–æ­Œä¾¿è¿›ä¸€æ­¥èµ°å‘æ°‘ä¼—ã€‚ç”±ã€Œã„ã¤ãã—ã¿æ·±ãã€æ”¹ç¼–å¡«è¯çš„ã€Œæ˜Ÿã®ç•Œã€æˆ–è€…ã€Œæ˜Ÿã®ä¸–ç•Œã€ç‰ˆæœ¬æœ‰å¾ˆå¤šã€‚å…¶ä¸­æœ€æ—©çš„ã€Œæ˜Ÿã®ç•Œã€çš„å¡«è¯è€…æ˜¯æ‰è°·ä»£æ°´ï¼Œä¹Ÿå°±æ˜¯ä¸‹æ–¹ç»™å‡ºçš„ç‰ˆæœ¬ã€‚[^3]\n\n> æœˆãªãã¿ç©ºã«ã€€ãã‚‰ã‚ãå…‰\n> å—šå‘¼(ã‚ã‚)ãã®æ˜Ÿå½±(ã»ã—ã‹ã’)ã€€å¸Œæœ›ã®ã™ãŒãŸ\n> äººæ™º(ã˜ã‚“ã¡)ã¯æœã¦ãªã—ã€€ç„¡çª®(ã‚€ãã‚…ã†)ã®é (ãŠã¡)ã«\n> ã„ã–ãã®æ˜Ÿå½±ã€€ãã‚ã‚ã‚‚è¡Œã‹ã‚“\n>\n> é›²ãªãã¿ç©ºã«ã€€æ¨ªã¨ã†å…‰\n> å—šå‘¼æ´‹ã€…(ã‚ˆã†ã‚ˆã†)ãŸã‚‹ã€€éŠ€æ²³ã®æµã‚Œ\n> ä»°(ã‚ãŠ)ãã¦çœº(ãªãŒ)ã‚€ã‚‹ã€€ä¸‡é‡Œã®ã‚ãªãŸ\n> ã„ã–æ£¹(ã•ãŠ)ã•ã›ã‚ˆã‚„ã€€çª®ç†(ãã‚…ã†ã‚Š)ã®èˆ¹ã«\n\næ­Œè¯å¤§æ„ï¼š\n\n> åœ¨æ²¡æœ‰æœˆäº®çš„å¤©ç©ºä¸­  é—ªçƒç€æ·¡æ·¡çš„å…‰\n> å•Šå•Š  è¿™æ˜Ÿæ˜Ÿçš„å…‰èŠ’  æ˜¯å¸Œæœ›çš„èº«å½±\n> äººç±»çš„æ™ºæ…§æ²¡æœ‰å°½å¤´  é€šå‘æ— ç©·çš„è¿œæ–¹\n> å»æ¢å¯»é‚£æœªçŸ¥çš„æ˜Ÿå…‰å§\n>\n> åœ¨æ²¡æœ‰äº‘æœµçš„å¤©ç©ºä¸­  æµæ·Œç€å…‰èŠ’\n> å•Šå•Š  åƒæ˜¯è¦æ»¡æº¢å‡ºæ¥çš„  æ˜¯é“¶æ²³åœ¨å¥”æµ\n> æŠ¬å¤´è¿œçœº  æœç€ä½ ç¦»å¼€çš„æ–¹å‘\n> ä¸€èµ·åˆ’ç€çœŸç†ä¹‹èˆ¹å‰è¿›å§\n\n\nç”±äºå«æ­Œè¯çš„ã€ŒWhat a Friend We Have in Jesusã€ä¸èƒ½ç”±é“¾æ¥æ’­æ”¾ï¼Œæ‰€ä»¥è¿™é‡Œå°±åªæ”¾çº¯éŸ³ä¹ç‰ˆçš„\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=530 height=86 src=\"//music.163.com/outchain/player?type=2&id=21264810&auto=0&height=66\"></iframe>\n\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=530 height=86 src=\"//music.163.com/outchain/player?type=2&id=1453011471&auto=0&height=66\"></iframe>\n\n\n\n[^1]: [What a Friend We Have in Jesus - Wikipedia](https://en.wikipedia.org/wiki/What_a_Friend_We_Have_in_Jesus#:~:text=What%20a%20Friend%20We%20Have%20in%20Jesus%20Fra,fikk%20f%C3%B8rst%20full%20kreditering%20for%20det%20i%201880-%C3%A5rene.)\n[^2]: [ã„ã¤ãã—ã¿æ·±ã æ­Œè©ã®æ„å‘³ è³›ç¾æ­Œ (worldfolksong.com)](http://www.worldfolksong.com/hymn/friend-jesus.html)\n[^3]: [[æ˜Ÿã®ä¸–ç•Œï¼ˆæ˜Ÿã®ç•Œï¼‰æ­Œè©ã®æ„å‘³ éŸ³æ¥½æ•™ç§‘æ›¸ã®æ­Œ (worldfolksong.com)](http://www.worldfolksong.com/hymn/hoshino-sekai.html)","tags":["ç§‘æ™®","éŸ³ä¹"],"categories":["ç”Ÿæ´»"]},{"title":"WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸‰ï¼‰â€”â€”çº¿ç¨‹é—´é€šä¿¡ä¸åŒæ­¥","url":"/åˆé›†/WindowsåŸç†ä¸åº”ç”¨/WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸‰ï¼‰â€”â€”çº¿ç¨‹é—´é€šä¿¡ä¸åŒæ­¥/","content":"# WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸‰ï¼‰â€”â€”çº¿ç¨‹é—´é€šä¿¡ä¸åŒæ­¥\n\n{% note info %} \n\n## ç³»åˆ—\n\n[WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸€ï¼‰â€”â€” ç®€ä»‹ | å¾·ä¾å®‰-BLOG (ddg-302.github.io)](https://ddg-302.github.io/åˆé›†/WindowsåŸç†ä¸åº”ç”¨/WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸€ï¼‰/)\n\n[WindowsåŸç†ä¸åº”ç”¨ï¼ˆäºŒï¼‰â€”â€”ç¨‹åºè¿›ç¨‹ä¸è¿›ç¨‹é—´é€šä¿¡ | å¾·ä¾å®‰-BLOG (ddg-302.github.io)](https://ddg-302.github.io/åˆé›†/WindowsåŸç†ä¸åº”ç”¨/WindowsåŸç†ä¸åº”ç”¨ï¼ˆäºŒï¼‰â€”â€”ç¨‹åºè¿›ç¨‹ä¸è¿›ç¨‹é—´é€šä¿¡/)\n\n<p style=\"color:grey\">[æœ¬æ–‡]WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸‰ï¼‰â€”â€”çº¿ç¨‹é—´é€šä¿¡ä¸åŒæ­¥ | å¾·ä¾å®‰-BLOG(ddg-302.github.io)</p>\n\n{% endnote %}\n\n## çº¿ç¨‹\n\n- è¿›ç¨‹æ˜¯è®¡ç®—æœºåˆ†é…èµ„æºçš„å•ä½ï¼Œçº¿ç¨‹æ˜¯è¿è¡Œè°ƒåº¦å•ä½\n- è¿›ç¨‹ä¸­çš„çº¿ç¨‹ä¹Ÿå…·æœ‰çº¿ç¨‹æ§åˆ¶å—ï¼ŒåŒ…å«å†…å®¹æœ‰æ‰€å±è¿›ç¨‹IDï¼Œåˆ›å»ºå’Œé€€å‡ºæ—¶é—´ï¼Œçº¿ç¨‹å¯åŠ¨åœ°å€ç­‰\n\n### çº¿ç¨‹åˆ›å»ºè¿‡ç¨‹\n\n1. åœ¨è¿›ç¨‹çš„åœ°å€ç©ºé—´ä¸­ä¸ºçº¿ç¨‹åˆ›å»ºç”¨æˆ·æ€å †æ ˆã€‚\n2. åˆå§‹åŒ–çº¿ç¨‹ç¡¬ä»¶ä¸Šä¸‹æ–‡ã€‚\n3. åˆ›å»ºçº¿ç¨‹å¯¹è±¡ã€‚\n4. é€šçŸ¥å†…æ ¸ç³»ç»Ÿä¸ºçº¿ç¨‹è¿è¡Œå‡†å¤‡ã€‚\n5. æ–°åˆ›å»ºçº¿ç¨‹handleå’Œçº¿ç¨‹IDå€¼è¿”å›åˆ°è°ƒç”¨è€…ã€‚\n6. çº¿ç¨‹è¿›å…¥è°ƒåº¦å‡†å¤‡æ‰§è¡Œã€‚\n\n## çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ\n\nå¯åŠ¨â†’æ‰§è¡Œâ†’æš‚åœâ†’ç»ˆæ­¢\n\n## å·¥ä½œçº¿ç¨‹çš„ç»“æŸ\n\n- çº¿ç¨‹æ­£å¸¸ç»“æŸ\n  - è‡ªåŠ¨æ¶ˆäº¡ï¼ŒOSæ¸…ç†\n- çº¿ç¨‹éæ­£å¸¸ç»“æŸï¼Œè¢«KILL\n  - OSæ— æ³•æ§åˆ¶ï¼Œé€ æˆç³»ç»ŸæŸå¤±æˆ–ç ´å\n- æ§åˆ¶çº¿ç¨‹æ­£å¸¸ç»ˆæ­¢çš„æ–¹æ³•\n  - ä½çº§äº‹ä»¶å¯¹è±¡ManualResetEvent\n\n### çº¿ç¨‹éæ­£å¸¸ç»“æŸçš„åæœ\n\n- å†…å­˜æ— æ³•å›æ”¶ - å†…å­˜æ³„æ¼\n- æ–‡ä»¶ç¼“å†²æ²¡å†™å…¥ - æ–‡ä»¶è¢«ç ´å\n- æ–‡ä»¶å¥æŸ„æœªå›æ”¶ - è¢«å ç”¨\n- å…±äº«èµ„æºçš„å ç”¨(ç½‘ç»œç«¯å£ï¼Œç®¡é“ï¼ŒDLL)\n\n## çº¿ç¨‹çš„åˆ›å»ºä¸å¯åŠ¨ - C#\n\n### å¤šçº¿ç¨‹ä¸çº¿ç¨‹è·¨åŸŸè®¿é—®\n\nWindowsä¸­æ¯ä¸ªè¿›ç¨‹éƒ½è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œç§°ä¸ºä¸»çº¿ç¨‹ï¼Œå¯¹äºé€šå¸¸çš„çª—ä½“åº”ç”¨ï¼Œä¸»çº¿ç¨‹ä¸çª—ä½“ç•Œé¢ç»‘å®š\nå¦‚æœæœ‰è€—æ—¶å¾ˆé•¿çš„å¤„ç†å‡½æ•°åœ¨ä¸»çº¿ç¨‹ä¸­è¿è¡Œï¼Œä¼šå¯¼è‡´ç•Œé¢åœæ»ï¼Œå¤±å»å“åº”ï¼Œæ‰€ä»¥éœ€è¦æŠŠå·¥ä½œäº¤ç»™å·¥ä½œçº¿ç¨‹æ‰§è¡Œï¼Œæ‰§è¡Œç»“æŸåå°†ç»“æœé€šçŸ¥ç»™ç•Œé¢çº¿ç¨‹\n\nå¤„äºå®‰å…¨æ€§è€ƒè™‘ï¼Œä¸åŒçº¿ç¨‹ä¹‹é—´ä¸å¯ä»¥ç›¸äº’è°ƒç”¨å¯¹æ–¹çš„èµ„æºï¼Œå³**ä¸å…è®¸ç›´æ¥è·¨åŸŸè®¿é—®**ï¼Œéœ€è¦ä½¿ç”¨å§”æ‰˜å›è°ƒçš„æ–¹å¼è°ƒç”¨\n\n```csharp\npublic class Work\n{\n    // å›è°ƒå§”æ‰˜å£°æ˜\n    public delegate void update_listbox(string new_info, string listname);\n    update_listbox callback; // ä¸€ä¸ªå…·ä½“çš„å§”æ‰˜\n    string list_name;\n    public Work(update_listbox callback, string list_name)\n    {\n        this.callback = callback; // å…·ä½“å§”æ‰˜ç»‘å®šå¦ä¸€ä¸ªçº¿ç¨‹ä¸­çš„å‡½æ•°\n        this.list_name = list_name;\n    }\n}\n\n// ä¸»çª—ä½“å‡½æ•°\nprivate void update_output(string new_info, string list_name)\n{\n    // åŒæ­¥æ–¹æ³•\n    Dispatcher.Invoke(() =>\n    {\n        // ä¸»çª—ä½“ç”¨InvokeåŒæ­¥çº¿ç¨‹æ›´æ–°æ§ä»¶\n        ListBox lb = FindName(list_name) as ListBox;\n        ListBoxItem li = new ListBoxItem();\n        li.Content = new_info;\n        lb.Items.Add(li);\n    });\n    \n    // å¼‚æ­¥æ–¹æ³•\n    //Action actiondelegate = () =>\n//{\n//    try\n//    {\n//        ListBox lb = FindName(list_name) as ListBox;\n//        //update_dele test = update_work_listbox;\n//        update_work_listbox(new_info, lb);\n//    }\n//    catch (Exception e)\n//    {\n//        MessageBox.Show(\"å‘ç”Ÿé”™è¯¯ï¼š\" + e.Message, \"é”™è¯¯\", MessageBoxButton.OK, MessageBoxImage.Error);\n//    }\n//};\n//Dispatcher.BeginInvoke(actiondelegate);\n//    // ä¸»çª—ä½“ç”¨BeginInvokeå¼‚æ­¥çº¿ç¨‹æ›´æ–°æ§ä»¶\n//    }\n    \n// ä¼ å…¥å‡½æ•°\nWork wk = new Work(update_output, \"listname\");\n```\n\n\n\n### å¼‚æ­¥çº¿ç¨‹\n\n#### Thread\n\n1. ä¸å«å‚æ•°çš„æ„é€ \n\n```csharp\nusing System.Threading;\n\n// çº¿ç¨‹æ‰§è¡Œå‡½æ•°\nvoid workThread(){\n    // to do\n}\n\n// è®¾å®šå‡½æ•°åä¸ºçº¿ç¨‹å…¥å£\nThreadStart s = new ThreadStart(workThread);\n\n// çº¿ç¨‹å§”æ‰˜å¯¹è±¡\nThread thread1 = new Thread(s);\nthread.Name = \"è®¾å®šä¸€ä¸ªåç§°\"; // å¯ä»¥è®¾å®šåç§°\nthread.IsBackground = true; // å¯ä»¥è®¾å®šæ˜¯å¦ä¸ºåå°\n// å¯åŠ¨çº¿ç¨‹\nthread1.Start();\n// å¯åŠ¨å«æœ‰å‚æ•°çš„çº¿ç¨‹\nthread1.Start(paraObject);\n```\n\n```csharp\n// ä¹Ÿå¯ä»¥ä½¿ç”¨åŒ¿åå§”æ‰˜æˆ–lambdaè¡¨è¾¾å¼\n//é€šè¿‡Lambdaè¡¨è¾¾å¼åˆ›å»º\nThread thread1 = new Thread(() => Console.WriteLine(\"æˆ‘æ˜¯é€šè¿‡Lambdaè¡¨è¾¾å¼åˆ›å»ºçš„å§”æ‰˜\"));\nthread1.Start();\n\n//é€šè¿‡åŒ¿åå§”æ‰˜åˆ›å»º\nThread thread2 = new Thread(delegate() { Console.WriteLine(\"æˆ‘æ˜¯é€šè¿‡åŒ¿åå§”æ‰˜åˆ›å»ºçš„çº¿ç¨‹\"); });\nthread2.Start();\n\n\n```\n2. å«å‚æ•°çš„æ„é€ \n\n```csharp\n// å«æœ‰å‚æ•°çš„Thread\n//é€šè¿‡ParameterizedThreadStartåˆ›å»ºçº¿ç¨‹\nThread thread = new Thread(new ParameterizedThreadStart(Thread1));\n//ç»™æ–¹æ³•ä¼ å€¼\nthread.Start(\"è¿™æ˜¯ä¸€ä¸ªæœ‰å‚æ•°çš„å§”æ‰˜\");\n\n\n// åˆ›å»ºæœ‰å‚çš„æ–¹æ³•ï¼Œæ–¹æ³•é‡Œé¢çš„å‚æ•°ç±»å‹å¿…é¡»æ˜¯Objectç±»å‹\nvoid Thread1(object obj){\n\tConsole.WriteLine(obj);\n}\n```\n\n- Threadé»˜è®¤åªæœ‰è¿™ä¸¤ç§æ„é€ æ–¹å¼ï¼Œå¦‚æœè¦ä¼ å…¥å¤šä¸ªå‚æ•°ï¼Œéœ€è¦ç”¨ç±»æ¥å®ç°\n\næ“ä½œThreadçš„å¸¸ç”¨å‡½æ•°\n\n| æ–¹æ³•åç§°      | è¯´æ˜                                                 |\n| ------------- | ---------------------------------------------------- |\n| Abort()       | ç»ˆæ­¢æœ¬çº¿ç¨‹                                           |\n| GetDomain()   | è¿”å›å½“å‰çº¿ç¨‹æ­£åœ¨å…¶ä¸­è¿è¡Œçš„å½“å‰åŸŸ                     |\n| GetDomainId() | è¿”å›å½“å‰çº¿ç¨‹æ­£åœ¨å…¶ä¸­è¿è¡Œçš„å½“å‰åŸŸId                   |\n| Interrupt()   | ä¸­æ–­å¤„äºWait Sleep Joinçº¿ç¨‹çŠ¶æ€çš„çº¿ç¨‹                |\n| Join()        | é˜»å¡è°ƒç”¨çº¿ç¨‹ï¼Œç›´åˆ°æŸä¸ªçº¿ç¨‹ç»ˆæ­¢æ—¶ä¸ºæ­¢                 |\n| Resume()      | ç»§ç»­è¿è¡Œå·²æŒ‚èµ·çš„çº¿ç¨‹                                 |\n| Start()       | æ‰§è¡Œæœ¬çº¿ç¨‹                                           |\n| Suspend()     | æŒ‚èµ·å½“å‰çº¿ç¨‹ï¼Œå¦‚æœå½“å‰çº¿ç¨‹å·²å±äºæŒ‚èµ·çŠ¶æ€åˆ™æ­¤ä¸èµ·ä½œç”¨ |\n| Sleep()       | æŠŠæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æŒ‚èµ·ä¸€æ®µæ—¶é—´                         |\n\nThreadçš„å¸¸ç”¨å±æ€§\n\n| å±æ€§å       | è¯´æ˜                                   |\n| ------------ | -------------------------------------- |\n| IsAlive      | è·å–ä¸€ä¸ªå€¼ï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹çš„æ‰§è¡ŒçŠ¶æ€     |\n| Name         | è·å–æˆ–è®¾ç½®Threadçš„åç§°                 |\n| ThreadState  | è·å–ä¸€ä¸ªå€¼ï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹çš„çŠ¶æ€         |\n| IsBackground | è·å–ä¸€ä¸ªå€¼ï¼ŒæŒ‡ç¤ºå½“å‰çº¿ç¨‹æ˜¯å¦ä¸ºåå°çº¿ç¨‹ |\n\n{% note info %} \n\nThreadè¯¦ç»†ä¿¡æ¯ï¼š[Thread ç±» (System.Threading) | Microsoft Docs](https://docs.microsoft.com/zh-cn/dotnet/api/system.threading.thread?view=netframework-4.8)\n\n{% endnote %}\n\n#### Task\n\n- æ— è¿”å›å€¼çš„Task\n\n```csharp\nusing System.Threading.Tasks;\n\n//é€šè¿‡Lambdaè¡¨è¾¾å¼åˆ›å»º\nTask t = new Task(() =>\n{\n// to do\n});\nt.Start();\n\n// ä¼ å…¥å‡½æ•°\nvoid yourTaskFun(){\n    // to do\n}\nTask t2 = new Task(yourTaskFun);\nt.Start();\n```\n\n- å«è¿”å›å€¼çš„Task\n\n```csharp\n// ç”¨Task<TResult>\nTask<int> t = new Task<int>(() => {\n    return 114; // è¿”å›intç±»å‹\n});\nt.Start();\n// å¯ä»¥ç”¨t.Resultè·å¾—è¿”å›å€¼\n```\n\n#### å‰å°çº¿ç¨‹ä¸åå°çº¿ç¨‹\n\n- å‰å°çº¿ç¨‹\n  - æ‰€æœ‰å‰å°çº¿ç¨‹éƒ½ç»“æŸï¼Œåº”ç”¨ç¨‹åºæ‰å¯ä»¥ç»“æŸï¼›é»˜è®¤åˆ›å»ºçš„çº¿ç¨‹éƒ½æ˜¯å‰å°çº¿ç¨‹\n- åå°çº¿ç¨‹\n  - åªè¦æ‰€æœ‰å‰å°çº¿ç¨‹ç»“æŸï¼Œåå°çº¿ç¨‹è‡ªåŠ¨ç»“æŸ\n  - é€šè¿‡Thread.IsBackgroundè®¾ç½®åå°çº¿ç¨‹\n  - å¿…é¡»åœ¨Startä¹‹å‰è®¾ç½®åå°çº¿ç¨‹\n\n### çº¿ç¨‹åŒæ­¥\n\n#### äº’æ–¥é‡\n\n- mutex\n\n```csharp\nMutex mut_operate = new Mutex(); // mutexä¿¡å·é‡\n\n// ä½¿ç”¨\nmut_operate.WaitOne();// ç”³è¯·\n// äº’æ–¥è®¿é—®...\nmut_operate.ReleaseMutex();// é‡Šæ”¾\n```\n\n- Semaphore\n\n```csharp\nSemaphore semaphore = new Semaphore(usable_num , max_num + 1); // (åˆå§‹å€¼, æœ€å¤§å¹¶å‘)\n\n// ä½¿ç”¨ç±»ä¼¼\nsemaphore.WaitOne();// ç”³è¯·\n// äº’æ–¥è®¿é—®...\nsemaphore.Release();// é‡Šæ”¾\n// semaphore.Release(2); // å¯ä»¥æŒ‡å®šé‡Šæ”¾æ¬¡æ•°\n```\n\n#### ManualResetEventä¸AutoResetEvent\n\n- ManualResetEvent\n\n```csharp\nstop_signal = new ManualResetEvent(false); // åˆå§‹ä¸ºfalse\n\n// ç­‰å¾…1æ¯«ç§’ï¼Œå¦‚æœåœ¨ç­‰å¾…æ—¶é—´å†…ä¿¡å·è§¦å‘åˆ™ç«‹å³é€€å‡ºç­‰å¾…\n// è¿™é‡Œç›¸å½“äºä¸€ç›´åœ¨while(!false)ï¼Œç›´åˆ°stop_signalä¸ºtrue\nwhile (!stop_signal.WaitOne(1)){\n    // to do\n}\n```\n\n```csharp\n// è®¾ç½®stop_signalä¸ºå…è®¸çº¿ç¨‹è¿è¡Œï¼Œè¿™ä¼šä½¿å¾—waitoneä¸ºtrue\nstop_signal.Set();\n\n// ç”±äºæ˜¯æ‰‹åŠ¨ä¿¡å·ï¼Œæ‰€ä»¥å¦‚æœéœ€è¦é‡ç½®è¦æ‰‹åŠ¨é‡ç½®\nstop_signal.Reset();\n```\n\n- AutoResetEvent\n\nä¸ManualResetEventæ•ˆæœç›¸åŒï¼Œåªä¸è¿‡WaitOne()æœ‰æ•ˆå¹¶è¢«è¯»å–ä¸€æ¬¡åä¼šç«‹å³è‡ªåŠ¨ç½®ä¸ºFalseï¼Œä¸éœ€è¦æ‰‹åŠ¨Resetï¼Œè¿™æ„å‘³ç€å®ƒä¸€æ¬¡åªèƒ½é€šçŸ¥ä¸€ä¸ªçº¿ç¨‹\n\n## çº¿ç¨‹ç¼ºç‚¹\n\n- çº¿ç¨‹ä¸Šä¸‹æ–‡ä¿¡æ¯æ¶ˆè€—è®¡ç®—æœºèµ„æº\n\n- çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢è¿‡ç¨‹ï¼Œçº¿ç¨‹ä¼šå¸¦æ¥èµ„æºç‰¹æ®Šè¦æ±‚å’Œæ½œåœ¨å†²çªã€‚å¦‚æœçº¿ç¨‹è¿‡å¤šï¼Œç³»ç»Ÿç®¡ç†çº¿ç¨‹çš„è´Ÿæ‹…ä¼šåŠ å¤§ï¼Œåˆ™å…¶ä¸­å¤§å¤šæ•°çº¿ç¨‹éƒ½ä¸ä¼šäº§ç”Ÿæ˜æ˜¾çš„è¿›åº¦\n\n- çº¿ç¨‹æ§åˆ¶ä»£ç éå¸¸å¤æ‚ï¼Œå¹¶å¯èƒ½äº§ç”Ÿè®¸å¤šbug\n\n- çº¿ç¨‹çš„éæ­£å¸¸ç»ˆç»“ä¼šé€ æˆèµ„æºæµªè´¹å½±å“ç³»ç»Ÿçš„è¿è¡Œæ€§èƒ½\n\n## ä¿¡å·é‡å®ä¾‹â€”â€”ç”Ÿäº§è€…æ¶ˆè´¹è€…ååŒ\n\n- ç”Ÿäº§ä¸€ä¸ª\n\n```csharp\nprivate void produce_one()\n{\n    string msg;\n    while (!stop_signal.WaitOne(1))\n    {\n\n        mut_operate.WaitOne();\n        if (usable_num == max_num)\n        {\n            mut_operate.ReleaseMutex(); // èµ„æºå·²æ»¡ï¼Œé‡Šæ”¾äº’æ–¥åŒº\n            continue; // é‡æ–°æ’é˜Ÿ\n        }\n        mut_operate.ReleaseMutex();\n        msg = Thread.CurrentThread.Name + \"å³å°†å¼€å§‹å·¥ä½œï¼\\n\\tå½“å‰èµ„æºæ€»é‡ä¸ºï¼š\" + usable_num + \"ï¼Œèµ„æºä¸Šé™ä¸ºï¼š\" + max_num + \"\\n\\tæ­£åœ¨å·¥ä½œ...\";\n        callback(msg, listname); // callbackæ˜¯ä¸Šæ–‡æåˆ°çš„çº¿ç¨‹è·¨åŸŸè®¿é—®çš„å›è°ƒï¼Œç”¨äºåœ¨çª—ä½“ä¸Šæ˜¾ç¤ºä¿¡æ¯ï¼Œä¸‹æ–‡çš„callbackåŒç†\n        Random rand = new Random();\n        Thread.Sleep(rand.Next(0, Produce_time_upper_bound)); // æ¨¡æ‹Ÿå·¥ä½œæ—¶é—´\n\n        while (true)\n        {\n            mut_operate.WaitOne();\n            if (usable_num == max_num)\n            {\n                mut_operate.ReleaseMutex();// æ»¡äº†åˆ™é‡Šæ”¾ï¼Œé‡æ–°ç”³è¯·\n                continue;\n            }\n            else\n            {\n                break;\n            }\n        }\n        usable_num++; // ä¸æ»¡åˆ™æ”¾å…¥è´§æ¶\n\n        msg = Thread.CurrentThread.Name + \"ç”Ÿäº§å®Œæˆï¼Œå½“å‰èµ„æºæ€»é‡ä¸ºï¼š\" + usable_num + \"\\n\";\n        callback(msg, listname);\n        callback_2.Invoke(usable_num);\n        semaphore.Release(); // ä¿¡å·é‡æ–°å¢ä¸€ä¸ªè´§ç‰©\n        mut_operate.ReleaseMutex(); // å…è®¸ä¿®æ”¹è®¿é—®è´§æ¶\n\n    }\n    msg = Thread.CurrentThread.Name + \"ç»“æŸ\";\n    callback(msg, listname);\n}\n```\n\n- æ¶ˆè´¹ä¸€ä¸ª\n\n```csharp\nprivate void consume_one()\n{\n    string msg;\n    while (!stop_signal.WaitOne(1))\n    {\n        semaphore.WaitOne(); // å‘è´§æ¶ç”³è¯·ä¸€ä¸ªèµ„æº\n\n        msg = Thread.CurrentThread.Name + \"å³å°†å¼€å§‹å·¥ä½œï¼\\n\\tå½“å‰èµ„æºæ€»é‡ä¸ºï¼š\" + usable_num + \"ï¼Œèµ„æºä¸Šé™ä¸ºï¼š\" + max_num + \"\\n\\tæ­£åœ¨å·¥ä½œ...\";\n        callback(msg, listname);\n        Random rand = new Random();\n        Thread.Sleep(rand.Next(0, Consume_time_upper_bound));// æ¨¡æ‹Ÿæ¶ˆè´¹\n        mut_operate.WaitOne();// ä¿®æ”¹è´§æ¶æ•°æ®\n        usable_num--;\n        mut_operate.ReleaseMutex();// é‡Šæ”¾è´§æ¶\n        msg = Thread.CurrentThread.Name + \"æ¶ˆè´¹å®Œæˆï¼Œå½“å‰èµ„æºæ€»é‡ä¸ºï¼š\" + usable_num + \"\\n\";\n        callback(msg, listname);\n        callback_2.Invoke(usable_num);\n    }\n    msg = Thread.CurrentThread.Name + \"ç»“æŸ\";\n    callback(msg, listname);\n}\n```\n\n- åˆå§‹åŒ–\n\n```csharp\npublic void start_simulation()\n{\n    stop_signal = new ManualResetEvent(false);\n\n    int i = 0;\n    while (i < producer_num)\n    {\n        Thread thread = new Thread(new ThreadStart(produce_one));\n        thread.Name = \"ç”Ÿäº§è€…\" + i + \"å·\";\n        thread.IsBackground = true;\n        thread.Start();\n        i++;\n    }\n    i = 0;\n    while (i < consumer_num)\n    {\n        Thread thread = new Thread(new ThreadStart(consume_one));\n        thread.Name = \"æ¶ˆè´¹è€…\" + i + \"å·\";\n        thread.IsBackground = true;\n        thread.Start();\n        i++;\n    }\n}\n```\n\n- ä¿¡å·é‡åˆå§‹åŒ–\n\n```csharp\nsemaphore = new Semaphore(usable_num , max_num); \n// usable_num : åˆå§‹çš„èµ„æºæ•°é‡\n// max_num : æœ€å¤§å¯ä»¥å­˜æ”¾çš„èµ„æºæ•°é‡\n\n// è¿™é‡Œçš„max_numå¹¶ä¸èƒ½èµ·åˆ°é™åˆ¶æ‰€ç”¨\n// å¦‚æœsemaphoreè¶…è¿‡max_numä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸\n// æ‰€ä»¥å¯ä»¥ç¨å¾®è®¾å¤§ä¸€äº›ï¼Œæ¯”å¦‚max_num+1\n```\n\n","tags":["ç¼–ç¨‹","æŠ€æœ¯"],"categories":["WindowsåŸç†ä¸åº”ç”¨"]},{"title":"WindowsåŸç†ä¸åº”ç”¨ï¼ˆäºŒï¼‰â€”â€”ç¨‹åºè¿›ç¨‹ä¸è¿›ç¨‹é—´é€šä¿¡","url":"/åˆé›†/WindowsåŸç†ä¸åº”ç”¨/WindowsåŸç†ä¸åº”ç”¨ï¼ˆäºŒï¼‰â€”â€”ç¨‹åºè¿›ç¨‹ä¸è¿›ç¨‹é—´é€šä¿¡/","content":"# WindowsåŸç†ä¸åº”ç”¨ï¼ˆäºŒï¼‰â€”â€”ç¨‹åºè¿›ç¨‹ä¸è¿›ç¨‹é—´é€šä¿¡\n\n{% note info %} \n\n## ç³»åˆ—\n\n[WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸€ï¼‰â€”â€” ç®€ä»‹ | å¾·ä¾å®‰-BLOG (ddg-302.github.io)](https://ddg-302.github.io/åˆé›†/WindowsåŸç†ä¸åº”ç”¨/WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸€ï¼‰/)\n<p style=\"color:grey\">[æœ¬æ–‡]WindowsåŸç†ä¸åº”ç”¨ï¼ˆäºŒï¼‰â€”â€”ç¨‹åºè¿›ç¨‹ä¸è¿›ç¨‹é—´é€šä¿¡ | å¾·ä¾å®‰-BLOG (ddg-302.github.io)</p>\n\n[WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸‰ï¼‰â€”â€”çº¿ç¨‹é—´é€šä¿¡ä¸åŒæ­¥ | å¾·ä¾å®‰-BLOG (ddg-302.github.io)](https://ddg-302.github.io/åˆé›†/WindowsåŸç†ä¸åº”ç”¨/WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸‰ï¼‰â€”â€”çº¿ç¨‹é—´é€šä¿¡ä¸åŒæ­¥/)\n\n{% endnote %}\n\n## ç¨‹åºã€è¿›ç¨‹ä¸çº¿ç¨‹\n\n- è¿›ç¨‹ä¸ç¨‹åºä¸åŒï¼Œå®ƒæ˜¯ç¨‹åºæ‰§è¡Œæ—¶çš„æ ‡å¿—ï¼Œç¨‹åºæ˜¯å­˜æ”¾åœ¨ç£ç›˜ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè€Œè¿›ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œçš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œ**ç¨‹åºæ˜¯é™æ€çš„ï¼Œè¿›ç¨‹æ˜¯åŠ¨æ€çš„**\n\n  ä¸€ä¸ªç¨‹åºå¯æ‰§è¡Œå¤šæ¬¡äº§ç”Ÿå¤šä¸ªè¿›ç¨‹å®ä¾‹ï¼Œè¿›ç¨‹éšè¿è¡ŒåŠ¨æ€å˜åŒ–ï¼Œè¿›ç¨‹å…±äº«è®¡ç®—æœºèµ„æºã€äº’ç›¸é€šä¿¡ï¼Œç”±OSç®¡ç†\n\n- çº¿ç¨‹æ˜¯æœ€å°çš„æ‰§è¡Œå•ä½ï¼Œå®ƒå‡ ä¹ä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼Œå®ƒæ˜¯ç³»ç»Ÿè°ƒåº¦çš„åŸºæœ¬å•ä½\n\n  åœ¨å•CPUå•æ ¸æŠ€æœ¯ä¸­ï¼ŒOSä¸æ–­åˆ‡æ¢çº¿ç¨‹è¿è¡Œï¼Œè¿™ä¸ªè¿‡ç¨‹æˆä¸º**å¹¶å‘**ï¼›å¤šæ ¸æˆ–å¤šCPUä¸­çš„ç¨‹åºå¯ä»¥**å¹¶è¡Œ**\n\n  ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æ‹¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹åªå±äºä¸€ä¸ªè¿›ç¨‹\n\n### æ“ä½œç³»ç»Ÿä¸­çš„è¿›ç¨‹\n\n- æ“ä½œç³»ç»Ÿä¸­çš„è¿›ç¨‹ä¸ç”¨æˆ·è¿›ç¨‹å¹¶å‘è¿è¡Œï¼Œç”¨æˆ·è¿›ç¨‹ç”±æ“ä½œç³»ç»Ÿåˆ›å»ºå’Œè°ƒç”¨\n- ç”¨æˆ·è¿›ç¨‹ä¹Ÿå¯ä»¥åˆ›å»ºå’Œè°ƒç”¨åˆ«çš„è¿›ç¨‹\n- è¢«åˆ›å»ºçš„è¿›ç¨‹ä¸åˆ›å»ºè€…æ„æˆçˆ¶å­å…³ç³»\n\n### è¿›ç¨‹ä¸çº¿ç¨‹çš„å…³ç³»å›¾\n\n![è¿›ç¨‹ä¸çº¿ç¨‹çš„å…³ç³»å›¾](è¿›ç¨‹ä¸çº¿ç¨‹çš„å…³ç³»å›¾.png)\n\n## è¿›ç¨‹å¯¹è±¡ç»“æ„\n\n![è¿›ç¨‹å¯¹è±¡ç»“æ„](è¿›ç¨‹å¯¹è±¡ç»“æ„.png)\n\n- Windowså°†ç¡¬ä»¶èµ„æºè™šæ‹Ÿååˆ†é…ç»™è¿›ç¨‹ï¼Œè¿˜åˆ›å»ºå¤šç§è½¯ä»¶èµ„æº\n\n  è½¯ä»¶èµ„æºåˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯åªèƒ½ç”±æ“ä½œç³»ç»Ÿç®¡ç†å’Œä½¿ç”¨çš„`å†…æ ¸èµ„æº`ï¼Œå¦‚æƒé™ä»¤ç‰Œï¼Œåº•å±‚æ—¶é—´ï¼Œäº’æ–¥é‡ç­‰ï¼›å¦ä¸€ç±»æ˜¯ç”¨æˆ·ç¨‹åºä½¿ç”¨çš„èµ„æºï¼Œå¦‚æ™®é€šå†…å­˜ç©ºé—´ï¼Œæ–‡ä»¶èµ„æºç­‰\n\n- `å†…æ ¸èµ„æº`ï¼šæ¯ä¸ªå†…æ ¸å¯¹è±¡æ˜¯ç”±ç³»ç»Ÿå†…å’Œåˆ›å»ºçš„ä¸€å—å†…å­˜åŒºï¼Œè¿™å—å†…å­˜åŒºçš„æ•°æ®ç»“æ„æˆå‘˜å¯¹åº”å¯¹è±¡çš„å±æ€§ï¼Œåœ¨åˆæ¬¡åˆ›å»ºå†…æ ¸å¯¹è±¡æ—¶ï¼Œåˆ›å»ºå‡½æ•°è·å¾—æ ‡è¯†è¿™ä¸ªå†…æ ¸çš„`å¥æŸ„`ï¼ˆ`HANDLE`ï¼‰ï¼Œå¥æŸ„åªèƒ½ç”±ç‰¹å®šçš„APIè°ƒç”¨ï¼Œä¸å¯ä»¥ç›´æ¥æ“ä½œ\n\n- `å¥æŸ„`ï¼šå¥æŸ„æ˜¯ä¸€ä¸ª4Bï¼ˆ64ä½æœºä¸­ä¸º8Bï¼‰é•¿çš„æ•°å€¼ï¼Œç”¨äºæ ‡è¯†åº”ç”¨ç¨‹åºä¸­çš„ä¸åŒå®ä¾‹ï¼Œè¦æ³¨æ„**å¥æŸ„ä¸æ˜¯æŒ‡é’ˆ**ï¼Œå®ƒåªæ˜¯è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡çš„ç‰©ç†åœ°å€ç”±æ“ä½œç³»ç»Ÿå®‰æ’ï¼Œç‰©ç†åœ°å€å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œä½†å¥æŸ„å€¼æ˜¯å›ºå®šçš„ï¼Œéœ€è¦ä½¿ç”¨æŒ‡å®šçš„APIæ‰å¯ä»¥æ“ä½œå¥æŸ„æŒ‡å‘çš„å¯¹è±¡\n\n  å¥æŸ„æ˜¯è¿›ç¨‹ç›¸å…³çš„ï¼ŒåŒä¸€ä¸ªå¥æŸ„å€¼åœ¨ä¸åŒè¿›ç¨‹ä¸­æ„ä¹‰ä¸åŒ\n\n  å…³é—­ä½¿ç”¨å®Œæ¯•çš„èµ„æºå¥æŸ„åï¼Œç³»ç»Ÿä¸ä¼šé©¬ä¸Šé”€æ¯å®ƒï¼Œå†…æ ¸å¯¹è±¡ç”Ÿå‘½æœŸå¯ä»¥æ¯”åˆ›å»ºå®ƒçš„è¿›ç¨‹é•¿\n\n### è¿›ç¨‹åˆ›å»ºè¿‡ç¨‹\n\n1. æ‰“å¼€æ–‡ä»¶æ˜ åƒ\n2. åˆ›å»ºWindowsè¿›ç¨‹å¯¹è±¡\n3. åˆ›å»ºåˆå§‹çº¿ç¨‹å¯¹è±¡ï¼Œä¸ºå…¶åˆ†é…å†…å­˜å †æ ˆã€è¿è¡Œä¸Šä¸‹æ–‡\n4. é€šçŸ¥å†…æ ¸ç³»ç»Ÿä¸ºè¿›ç¨‹è¿è¡Œä½œå‡†å¤‡\n5. æ‰§è¡Œåˆå§‹çº¿ç¨‹\n6. å¯¼å…¥éœ€è¦çš„DLLï¼Œåˆå§‹åŒ–åœ°å€ç©ºé—´ï¼Œç”±ç¨‹åºå…¥å£åœ°å€å¼€å§‹æ‰§è¡Œè¿›ç¨‹\n\n## è¿›ç¨‹çš„åˆ›å»ºä¸å¯åŠ¨ - C#\n\n- åˆ›å»ºwpfå·¥ç¨‹\n\n- å®ä¾‹åŒ–ä¸€ä¸ªProcessç±»å¹¶æ‰“å¼€åº”ç”¨ç¨‹åºï¼ŒProcessç±»åœ¨System.Diagnosticså‘½åç©ºé—´ä¸‹\n\n```csharp\nusing System.Diagnostics;\n\nProcess mycmd = new Process();\nmycmd.StartInfo.FileName = \"cmd.exe\";// è®¾ç½®å¯åŠ¨ç¨‹åº\nmycmd.StartInfo.CreateNoWindow = true;// ä¸å¼€å¯çª—å£\nmycmd.StartInfo.UseShellExecute = false; // ä¸ä½¿ç”¨shell\nmycmd.StartInfo.RedirectStandardOutput = true; // é‡å®šå‘è¾“å…¥è¾“å‡º\nmycmd.StartInfo.RedirectStandardInput = true;\n\nmycmd.Start(); // å¯åŠ¨è¿›ç¨‹ \n\t\t\t // è¿™ä¸ªå‡½æ•°æœ‰è¿”å›å€¼ï¼Œtrueä¸ºå¯åŠ¨æˆåŠŸï¼Œfalseä¸ºå¯åŠ¨å¤±è´¥\n```\n\n- å…³é—­åº”ç”¨ç¨‹åº\n\n```csharp\n// æ³•1\nmycmd.Kill(); // ç›´æ¥æ€æ­»è¿›ç¨‹\n```\n\n```csharp\n// æ³•2\n// å¾—åˆ°ç¨‹åºä¸­æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹\nProcess[] preo = Process.GetProcesses(); \nforeach(var item in preo){\n    item.Kill(); // æ€æ­»è¿›ç¨‹\n}\n```\n\n## è¿›ç¨‹é—´é€šä¿¡\n\n- é«˜çº§é€šä¿¡ï¼ˆ<u>IPC</u>[^1]ï¼‰\n  - ä¼ è¾“æ•°æ®é‡å¤§ï¼Œè¶…è¿‡å‡ åä¸ªå­—èŠ‚\n- ä½çº§é€šä¿¡ï¼ˆåŒæ­¥æ§åˆ¶ï¼‰\n  - ä¼ è¾“æ•°æ®é‡å°ï¼Œå°‘äºæ•°ä¸ªå­—èŠ‚ï¼Œæˆ–ä»…æ˜¯ä½å•ä½\n\n### è¿›ç¨‹é—´é€šä¿¡æ–¹æ³•åˆ†ç±»\n\n1. å…±äº«å†…å­˜ï¼ˆå‰ªè´´æ¿ã€COMã€DLLã€DDEã€æ–‡ä»¶æ˜ å°„ï¼‰\n2. æ¶ˆæ¯WM_COPYDATA\n3. é‚®æ§½\n4. ç®¡é“ï¼ˆæœ‰åç®¡é“ï¼Œæ— åç®¡é“ï¼‰\n5. Windowså¥—æ¥å­—\n6. NetBIOSç‰¹æ®Šçš„ç½‘ç»œåº”ç”¨\n\n### IPCé€‰æ‹©è€ƒè™‘\n\n1. é€šä¿¡ä¸»é¢˜æ˜¯è¿›ç¨‹å†…çš„çº¿ç¨‹è¿˜æ˜¯ä¸åŒè¿›ç¨‹ä¹‹é—´\n2. è¿›ç¨‹æ˜¯éœ€è¦ç½‘ç»œè¿˜æ˜¯æœ¬åœ°æœºåˆ¶\n3. é€šä¿¡çš„è¿›ç¨‹è¿è¡Œçš„OSæ˜¯å¦æœ‰å·®å¼‚\n4. æœ‰äº›è¿›ç¨‹é€šä¿¡æœºåˆ¶æ˜¯åªç”¨äºå›¾å½¢åŒ–çª—ä½“ç•Œé¢çš„ï¼Œè€Œä¸é€‚ç”¨äºæ§åˆ¶å°ç¨‹åº\n5. é€šä¿¡ç›®çš„æ˜¯ç”¨äºåŒæ­¥æ§åˆ¶è¿˜æ˜¯å¤§é‡æ•°æ®çš„äº¤æ¢\n\n### ç®¡é“é€šä¿¡\n\nç”±æ“ä½œç³»ç»Ÿåˆ›å»ºç®¡é“å¯¹è±¡ï¼Œå‘é€è¿›ç¨‹å‘ç®¡é“ä¸­å†™æ•°æ®ï¼Œæ¥æ”¶è¿›ç¨‹ä»ç®¡é“ä¸­è¯»æ•°æ®\n\n- æ— åç®¡é“\n  - åªèƒ½åœ¨å•ä¸€è¿›ç¨‹å†…ä½¿ç”¨\n\n- æœ‰åç®¡é“\n  - ä»¥ã€Œæ–‡ä»¶åã€æ¥è¡¨ç¤ºï¼Œå¯ä»¥ç”¨äºä¸åŒè¿›ç¨‹é—´é€šä¿¡\n\n### ç®¡é“é€šä¿¡å®ç°\n\n1. å»ºç«‹è¿æ¥ï¼šæœåŠ¡ç«¯åˆ›å»ºå‘½åç®¡é“NamedPipeServerStreamç±»å®ä¾‹ï¼Œè°ƒç”¨WaitForConnectionæ–¹æ³•ç­‰å¾…è¿æ¥ï¼Œè¿™ä¸ªå‡½æ•°å°†é˜»å¡çº¿ç¨‹\n2. é€šä¿¡å®ç°ï¼šå»ºç«‹è¿æ¥åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¯ä»¥é€šè¿‡Streamæµçš„Readæ–¹æ³•å’ŒWriteæ–¹æ³•è¿›è¡Œè¯»å†™é€šä¿¡\n3. è¿æ¥ç»ˆæ­¢ï¼šä»»ä½•ä¸€æ–¹ä½¿ç”¨Closeæ–¹æ³•å¯ä»¥å…³é—­ç®¡é“è¿æ¥\n\næœåŠ¡ç«¯ï¼š\n\n```csharp\nNamedPipeServerStream pipeserver; // å®ä¾‹åŒ–\n\npublic void start_listen()\n{\n    // ç”±äºWaitForConnection()ä¼šé˜»å¡çº¿ç¨‹ï¼Œè€Œè¿™æœåŠ¡ç«¯å®¢æˆ·ç«¯éƒ½å†™åœ¨ä¸€ä¸ªè¿›ç¨‹å†…ï¼Œæ‰€ä»¥è¦å¼€å¯ä¸€ä¸ªè¿›ç¨‹é¿å…è¿›ç¨‹å¡æ­»\n    Task task = new Task(() =>\n    {\n        while (true)\n        {\n            pipeserver = new NamedPipeServerStream(\"my_pipe\", PipeDirection.InOut, 2, PipeTransmissionMode.Byte, PipeOptions.Asynchronous);// (ç®¡é“åï¼Œ ç¡®å®šç®¡é“æ–¹å‘æšä¸¾å€¼ï¼Œ å…±äº«åŒä¸€æœåŠ¡å™¨å®ä¾‹çš„æœ€å¤§æ•°é‡ï¼Œ ç¡®å®šç®¡é“ä¼ è¾“æ¨¡å¼)\n            pipeserver.WaitForConnection();\n            receive_msg(); // æ”¶åˆ°æ¶ˆæ¯ï¼Œè°ƒç”¨å¤„ç†\n        }\n\n    });\n    task.Start();\n}\n\npublic void receive_msg()\n{\n    // æ–°å»ºStreamæµå‡†å¤‡è¯»å†™\n    StreamReader sreader = new StreamReader(pipeserver);\n    StreamWriter swriter = new StreamWriter(pipeserver);\n    swriter.AutoFlush = true;\n\n    string msg = sreader.ReadLine(); // è¯»ç®¡é“å†…çš„æ¶ˆæ¯\n    if (msg == null)\n        return;\n    Console.WriteLine(msg);\n    swriter.WriteLine(\"ä¿¡æ¯æ¥æ”¶å®Œæ¯•\"); // å›å¤æ¶ˆæ¯ç»™å‘é€æ–¹\n    swriter.Close(); // å…³é—­ç®¡é“è¿æ¥\n}\n```\n\nå®¢æˆ·ç«¯ï¼š\n\n```csharp\nNamedPipeClientStream pclient = new NamedPipeClientStream(\".\", \"my_pipe\", PipeDirection.InOut); // å®¢æˆ·ç«¯è¿æ¥åä¸ºã€Œmy_pipeã€çš„ç®¡é“\n\nTask task = new Task(() =>\n{\n    try\n    {\n        if (!pclient.IsConnected)\n            pclient.Connect(10000); // è®¾ç½®è¶…æ—¶ç­‰å¾…\n    }\n    catch\n    {\n        MessageBox.Show(\"è¿æ¥è¶…æ—¶ï¼\", \"è­¦å‘Š\", MessageBoxButton.OK, MessageBoxImage.Warning);\n        return;\n    }\n    // å‡†å¤‡stream\n    StreamWriter swriter = new StreamWriter(pclient); \n    swriter.AutoFlush = true;\n    StreamReader sreader = new StreamReader(pclient);\n    \n    swriter.WriteLine(msg); // å‘é€æ¶ˆæ¯\n    string return_msg = sreader.ReadLine(); // æ¥æ”¶ç®¡é“å‘å›çš„æ¶ˆæ¯\n    Console.WriteLine(return_msg);\n});\ntask.Start();\n```\n\n### é‡å®šå‘æ–¹å¼\n\n- æ§åˆ¶å°è¿›ç¨‹æ–‡ä»¶æè¿°ç¬¦\n\n  - æ ‡å‡†è¾“å…¥\n  - æ ‡å‡†è¾“å‡º\n  - æ ‡å‡†é”™è¯¯è¾“å‡º\n- æ™®é€šè¿›ç¨‹\n\n  - ä»é”®ç›˜æ¥æ”¶è¾“å…¥â†’è¾“å‡ºåˆ°å±å¹•\n- é‡å®šå‘\n\n  - ä»æ–‡ä»¶è¾“å…¥â†’å±å¹•è¾“å‡º\n  - ......\n- ä¾‹å­\n\n  - ä½¿ç”¨æ§åˆ¶å°é‡å®šå‘ç¬¦`>`å’Œ`<`\n\n```\n  dir > file.txt // å°†diræŒ‡ä»¤çš„è¾“å‡ºå­˜æ”¾åˆ°file.txtä¸­\n  cmd >> file.txt // å°†æ¥ä¸‹æ¥çš„æ‰€æœ‰å±å¹•è¾“å‡ºéƒ½å­˜æ”¾åˆ°file.txtï¼Œè¾“å…¥exité€€å‡º\n  cmd < file.txt // å°†file.txtä¸­çš„æŒ‡ä»¤è¾“å‡ºåˆ°cmd\n```\n\nä½¿ç”¨æ§åˆ¶å°é‡å®šå‘è·å–æ§åˆ¶å°è¾“å‡ºå®ä¾‹\n\n```csharp\nusing System.Diagnostics;\n\nProcess mycmd = new Process();\nmycmd.StartInfo.FileName = \"cmd.exe\";// è®¾ç½®å¯åŠ¨ç¨‹åº\nmycmd.StartInfo.CreateNoWindow = true;// ä¸å¼€å¯çª—å£\nmycmd.StartInfo.UseShellExecute = false; // ä¸ä½¿ç”¨shell\nmycmd.StartInfo.RedirectStandardOutput = true; // é‡å®šå‘è¾“å…¥è¾“å‡º\nmycmd.StartInfo.RedirectStandardInput = true;\n\nmycmd.Start(); // å¯åŠ¨è¿›ç¨‹ \n\t\t\t // è¿™ä¸ªå‡½æ•°æœ‰è¿”å›å€¼ï¼Œtrueä¸ºå¯åŠ¨æˆåŠŸï¼Œfalseä¸ºå¯åŠ¨å¤±è´¥\n\npublic void excute_command(string command)\n{\n\t// StandardInputé‡å®šå‘è¾“å…¥\n    mycmd.StandardInput.WriteLine(command);\n    Console.WriteLine(\"è¾“å…¥\");\n\n    while (true)\n    {\n        // æŒ‰è¡Œè¯»å–\n        // StandardOutputé‡å®šå‘è¾“å‡º\n        Console.WriteLine(mycmd.StandardOutput.ReadLine());\n        if (mycmd.StandardOutput.EndOfStream)\n            break; // è¯»å®Œé€€å‡º\n    }\n}\n```\n\n## ç»ƒä¹ \n\n1. é€šè¿‡é‡å®šå‘æœºåˆ¶å®ç°è¿›ç¨‹é—´é€šä¿¡\n   - è°ƒç”¨getmacè·å–ç½‘å¡mac\n   - è°ƒç”¨shutdownå‘½ä»¤å…³é—­æˆ–é‡å¯ç”µè„‘\n2. é€šè¿‡ç®¡é“æœºåˆ¶å®ç°è¿›ç¨‹é—´é€šä¿¡\n   - å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€æ•°æ®\n   - æœåŠ¡ç«¯æ˜¾ç¤ºæ•°æ®\n\nç¨‹åºå°†ä¼šä»¥WPFçª—ä½“ç¨‹åºçš„å½¢å¼å‘ˆç°ï¼Œä¸ºäº†è®©è¾“å‡ºæ˜¾ç¤ºåœ¨çª—ä½“ä¸Šï¼Œå°†ä¸ä½¿ç”¨Console.WriteLine()æ–¹æ³•ï¼Œè€Œæ˜¯ä¼šæœ‰ä¸€äº›ç‰¹æ®Šçš„å¤„ç†ï¼Œè¿™ä¹Ÿå°†åœ¨ä¹‹åæ•´ç†æ”¾å‡º\n\n[^1]: IPCï¼šinterproces communicationsï¼Œæ˜¯é€šä¿¡è¿›ç¨‹å¤„äºåŒä¸€å°æœºå™¨ä¸­çš„é€šä¿¡æœºåˆ¶ï¼ŒIPCç»å¸¸ä½¿ç”¨C/Sæ¨¡å¼\n\n","tags":["ç¼–ç¨‹","æŠ€æœ¯"],"categories":["WindowsåŸç†ä¸åº”ç”¨"]},{"title":"WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸€ï¼‰â€”â€”ç®€ä»‹","url":"/åˆé›†/WindowsåŸç†ä¸åº”ç”¨/WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸€ï¼‰/","content":"# WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸€ï¼‰â€”â€”ç®€ä»‹\n\n## å‰è¨€\n\næœ¬ç³»åˆ—æ˜¯å…³äº`WindowsåŸç†ä¸åº”ç”¨`è¯¾ç¨‹çš„éƒ¨åˆ†ç›¸å…³ç¬”è®°ï¼Œå¯èƒ½å¹¶ä¸æ˜¯å¾ˆè¯¦ç»†ï¼Œä»…ä»…æ˜¯ä¸ªäººè®°å½•\n\n{% note info %} \n\n## ç³»åˆ—\n\n<p style=\"color:grey\">WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸€ï¼‰â€”â€” ç®€ä»‹ | å¾·ä¾å®‰-BLOG (ddg-302.github.io)</p>\n\n[WindowsåŸç†ä¸åº”ç”¨ï¼ˆäºŒï¼‰â€”â€”ç¨‹åºè¿›ç¨‹ä¸è¿›ç¨‹é—´é€šä¿¡ | å¾·ä¾å®‰-BLOG (ddg-302.github.io)](https://ddg-302.github.io/åˆé›†/WindowsåŸç†ä¸åº”ç”¨/WindowsåŸç†ä¸åº”ç”¨ï¼ˆäºŒï¼‰â€”â€”ç¨‹åºè¿›ç¨‹ä¸è¿›ç¨‹é—´é€šä¿¡/)\n\n[WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸‰ï¼‰â€”â€”çº¿ç¨‹é—´é€šä¿¡ä¸åŒæ­¥ | å¾·ä¾å®‰-BLOG (ddg-302.github.io)](https://ddg-302.github.io/åˆé›†/WindowsåŸç†ä¸åº”ç”¨/WindowsåŸç†ä¸åº”ç”¨ï¼ˆä¸‰ï¼‰â€”â€”çº¿ç¨‹é—´é€šä¿¡ä¸åŒæ­¥/)\n\n{% endnote %}\n\n## ç®€ä»‹\n\n- åœ¨å…·æœ‰ä¸€èˆ¬ç¼–ç¨‹åŸºç¡€ï¼ˆc++å’Œc#ï¼‰æ¡ä»¶ä¸‹ï¼Œå°†å¼•ç”¨éœ€æ±‚ä¸ç³»ç»ŸAPIè¿›è¡Œå¯¹æ¥\n- ç†è§£æ“ä½œç³»ç»ŸåŸç†ä¸­çš„å¹¶å‘ï¼ŒåŒæ­¥ç­‰æ¦‚å¿µ\n- äº†è§£å¹¶ä½¿ç”¨Windowså¹³å°ä¸­çš„ç‰¹æ€§ï¼Œå¦‚dll/comç­‰\n\n## ä¸»è¦å†…å®¹\n\n1. è¿›ç¨‹é—´é€šä¿¡\n2. çº¿ç¨‹é€šä¿¡ä¸åŒæ­¥\n3. æ–‡ä»¶ç³»ç»Ÿç®¡ç†\n4. æ³¨å†Œè¡¨\n5. åŠ¨æ€é“¾æ¥åº“çš„åˆ›å»ºä¸ä½¿ç”¨\n6. Windows COMåŸç†ä¸æŠ€æœ¯\n7. Windowsçª—ä½“åŸç†ä¸æ¶ˆæ¯å¤„ç†æœºåˆ¶\n\n## å‰ç½®çŸ¥è¯†\n\n- C++/C#ç¼–ç¨‹è¯­è¨€çš„ä½¿ç”¨\n- æ•°æ®ç»“æ„\n\n## Windowsçš„ç‰¹ç‚¹\n\n- é¢å‘å¯¹è±¡\n\n  - Windowsä¸­ï¼Œçª—å£ã€èœå•ã€äº‹ä»¶éƒ½æ˜¯å¯¹è±¡ï¼Œå¯¹ç•Œé¢å…ƒç´ çš„æ“ä½œå’Œæ¶ˆæ¯/äº‹ä»¶çš„å¤„ç†éƒ½æ¶‰åŠåˆ°å¯¹è±¡ã€‚è¿™äº›å¯¹è±¡çš„å±æ€§å’Œæ“ä½œï¼Œç”±APIçš„æ•°æ®ç»“æ„å’Œå‡½æ•°æä¾›\n- æ¶ˆæ¯/äº‹ä»¶é©±åŠ¨\n\n  - Windowsé€šè¿‡ç»´æŠ¤æ¶ˆæ¯é˜Ÿåˆ—çš„æ–¹å¼å¤„ç†ç”¨æˆ·æ“ä½œç³»ç»Ÿäº‹ä»¶ï¼Œç”¨æˆ·çš„æ“ä½œä¼šå‘æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ’å…¥ä¸€æ¡æ–°çš„æ¶ˆæ¯ï¼Œå…¶ä»–åº”ç”¨ç¨‹åºæ”¶åˆ°æ¶ˆæ¯åä¼šè°ƒç”¨ç›¸åº”çš„æ¶ˆæ¯å¤„ç†å‡½æ•°è¿›è¡Œå¤„ç†\n- èµ„æºå…±äº«ä¸æ•°æ®äº¤æ¢\n  - æ ‡å‡†çš„MS-DOSç¨‹åºè¿è¡Œæ—¶ï¼Œå¯ç‹¬å è®¡ç®—æœºæ‰€æœ‰èµ„æºã€‚ä½†Windowsæ˜¯ä¸€ç§<u>æŠ¢å…ˆå¼</u>[^1]å¤šä»»åŠ¡æ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥Windowsåº”ç”¨ç¨‹åºå¿…é¡»å’Œæ­£åœ¨è¿è¡Œçš„å…¶ä»–ç¨‹åºå…±äº«è¿™äº›èµ„æº\n- ä¸è®¾å¤‡æ— å…³çš„GDI\n  - Windowsä¸ºåº”ç”¨ç¨‹åºæä¾›äº†ä¸°å¯Œçš„ä¸è®¾å¤‡æ— å…³APIï¼Œå…å»äº†ä¸ºä¸åŒçš„I/Oè®¾å¤‡ç¼–å†™è½¯ä»¶çš„ä¸åŒç‰ˆæœ¬ä¹‹çƒ¦æ¼ã€‚å¦‚åˆ©ç”¨ä¸è®¾å¤‡æ— å…³çš„GDIï¼Œåº”ç”¨ç¨‹åºä½¿ç”¨åŒä¸€å‡½æ•°ï¼Œå¯åœ¨ä¸åŒçš„æ˜¾å¡ã€æ‰“å°æœºå’Œæ˜¾ç¤ºå™¨ä¸Šè¾“å‡ºåŒä¸€ä¸ªå›¾å½¢ã€‚\n\n## Windowsç¼–ç¨‹å·¥å…·â€”â€”.NETæ¡†æ¶\n\n- .NETæ¡†æ¶æ˜¯å¾®è½¯å…¬å¸ä¸ºäº†ä¸Sun/Oracleå…¬å¸çš„Javaï¼ˆEEï¼‰ç«äº‰ï¼Œäº2000å¹´6æœˆæå‡ºæ¥çš„ä¸€ç§æ–°çš„è·¨è¯­è¨€ã€è·¨å¹³å°ã€é¢å‘ç»„ä»¶çš„æ“ä½œç³»ç»Ÿç¯å¢ƒï¼Œé€‚ç”¨äºWebæœåŠ¡ï¼ˆWeb servicesï¼‰å’Œå› ç‰¹ç½‘ï¼ˆInternetï¼‰åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºçš„ç”Ÿæˆã€éƒ¨ç½²å’Œè¿è¡Œ\n- .NETæ¡†æ¶ä¹Ÿæ˜¯Windows Vistaã€Windows 7å’ŒWindows 8ç­‰æ–°ç‰ˆWindowsæ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒéƒ¨ä»¶\n- .NETæ¡†æ¶åŸºäºCLRè¿è¡Œï¼ŒCLRç±»ä¼¼äºJVMï¼Œä¹Ÿæ˜¯ä¸€ä¸ªè™šæ‹Ÿæœºï¼Œå…·æœ‰è‡ªåŠ¨åƒåœ¾å›æ”¶ï¼Œè¿è¡Œæ—¶å®‰å…¨æ€§ä¿æŠ¤ï¼Œå¼‚å¸¸å¤„ç†ç­‰é«˜çº§åŠŸèƒ½\n\n## Windowsç¼–ç¨‹å·¥å…·çš„é€‰æ‹©â€”â€”å…³äºVisual Studio\n\n- åœ¨Visual Studioæä¾›çš„å„ç§è¯­è¨€å·¥å…·ä¸­ï¼Œåªæœ‰Visual C++æ‰èƒ½ç¼–å†™ä¼ ç»Ÿçš„Windowsåº”ç”¨ç¨‹åºï¼ŒVCä¹Ÿæ˜¯VSä¸­uå”¯ä¸€çš„ä¸€ç§å¯ä»¥åŒæ—¶[æ··åˆ]ç¼–å†™éæ‰˜ç®¡ï¼ˆAPIä¸MFC/ATLï¼‰ç¨‹åºå’Œæ‰˜ç®¡ï¼ˆ.NETï¼‰ç¨‹åºçš„å·¥å…·\n- VSä¸­çš„å…¶ä»–è¯­è¨€å·¥å…·ï¼ˆå¦‚C#ã€VBå’ŒF# ç­‰ï¼‰åˆ™åªèƒ½ç¼–å†™.NETç¯å¢ƒä¸‹çš„<u>æ‰˜ç®¡ç¨‹åº</u>[^2]\n\n[^1]: è¿è¡ŒæŠ¢å…ˆå¼å¤šä»»åŠ¡å¤„ç†æ¨¡å¼,å„è¿›ç¨‹å ç”¨CPUçš„æ—¶é—´ç”±ç³»ç»Ÿè°ƒåº¦ç¨‹åºå†³å®š,å½“è°ƒåº¦ç¨‹åºæ£€æµ‹å‡ºæœ‰æ¯”å½“å‰ä»»åŠ¡ä¼˜å…ˆçº§æ›´é«˜çš„ç¨‹åºäº‹ä»¶å,æš‚åœå½“å‰ä»»åŠ¡å¹¶å°†CPUæ—¶é—´åˆ†é…ç»™ä¼˜å…ˆçº§æ›´é«˜çš„è¿›ç¨‹â€”â€”æ‘˜è‡ªç™¾åº¦ç™¾ç§‘ã€‚ç®€å•æ¥è¯´å°±æ˜¯Windowsæ“ä½œç³»ç»Ÿä¸å…è®¸ä¸€ä¸ªç¨‹åºé•¿æ—¶é—´å æœ‰CPUï¼Œè€Œæ˜¯ä¼šæ ¹æ®ä¼˜å…ˆçº§è¿›è¡Œè°ƒåº¦ã€‚\n[^2]: è¿™æ˜¯.NETçš„ç‰¹æ€§ï¼Œ.NETåŸºäºCLRè¿è¡Œæ‰˜ç®¡ä»£ç ï¼Œç¨‹åºäº¤ç”±CLRè¿›è¡Œç®¡ç†ï¼Œç¡®ä¿å…¶å®‰å…¨æ€§ã€‚ä½†æ˜¯CLRä¹Ÿå…è®¸è¶Šè¿‡æ‰˜ç®¡ä¸éæ‰˜ç®¡çš„è¾¹ç•Œï¼Œè°ƒç”¨å…¶ä»–çš„éæ‰˜ç®¡åº“ï¼Œè¿™ä¸ªç‰¹æ€§æˆä¸ºäº’æ“ä½œæ€§ã€‚[ä»€ä¹ˆæ˜¯â€œæ‰˜ç®¡ä»£ç â€ï¼Ÿ| Microsoft Docs](https://docs.microsoft.com/zh-cn/dotnet/standard/managed-code)","tags":["ç¼–ç¨‹","æŠ€æœ¯"],"categories":["WindowsåŸç†ä¸åº”ç”¨"]},{"title":"2021.7åŠ¨ç”»æ¨è","url":"/åˆé›†/åŠ¨ç”»æ¨è/2021_7 åŠ¨ç”»æ¨è/","content":"\n# 2021.7 åŠ¨ç”»æ¨è\n\n{% note warning %} \n\n**ä¸»è§‚åˆ¤æ–­è­¦å‘Š**!\n\næœ¬æ–‡çº¯ç²¹å‡ºäºç¬”è€…ä¸ªäººä¸»è§‚ç»éªŒä¸æ„Ÿå—è€Œæˆï¼Œå¦‚æœ‰ä»»ä½•ä¸åŒæ„è§æ¬¢è¿å‹å–„äº¤æµè®¨è®º\n\næ²¡æœ‰æåˆ°çš„ä½œå“ç¬”è€…æ²¡çœ‹ï¼Œæˆ–ä¸ç¬¦åˆç¬”è€…ä¸ªäººå…´è¶£ï¼Œæˆ–è§‚çœ‹ä»·å€¼è¾ƒä½\n\nå¦å¤–ï¼Œæœ¬æ–‡ä¸æä¾›åŠ¨ç”»ç®€ä»‹ï¼Œå¯¹æ„Ÿå…´è¶£çš„åŠ¨ç”»å¯ä»¥ç‚¹å‡»ã€Œæ›´å¤šä¿¡æ¯ã€è®¿é—®[Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/)ç½‘ç«™çš„è¯¦æƒ…é¡µé¢\n\n{% endnote %}\n\n## å°æ—ã•ã‚“ã¡ã®ãƒ¡ã‚¤ãƒ‰ãƒ©ã‚´ãƒ³Sï¼ˆå°æ—å®¶çš„é¾™å¥³ä»†sï¼‰\n\n![å°æ—ã•ã‚“ã¡ã®ãƒ¡ã‚¤ãƒ‰ãƒ©ã‚´ãƒ³S](å°æ—ã•ã‚“ã¡ã®ãƒ¡ã‚¤ãƒ‰ãƒ©ã‚´ãƒ³S.jpg)\n\næ¨èåº¦ï¼š90åˆ†\n\näº¬éƒ½å‡ºå“ï¼Œå¿…å±ç²¾å“ã€‚åŒç¬¬ä¸€å­£ä¸€æ ·ï¼Œä¾ç„¶æ˜¯æ¸©é¦¨è½»æ¾çš„æ—¥å¸¸åŠ¨ç”»ï¼Œç”»é£æ¸…æ–°ç²¾è‡´ï¼Œå‰§æƒ…è½»æ¾æ´»æ³¼ï¼Œé€‚åˆæ—¥å¸¸èŒç³»çˆ±å¥½è€…ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[å°æ—ã•ã‚“ã¡ã®ãƒ¡ã‚¤ãƒ‰ãƒ©ã‚´ãƒ³S | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/274234)\n\nå…³é”®è¯ï¼š`æ—¥å¸¸`ï¼Œ`ç„å¹»`ï¼Œ`æ²»æ„ˆ`ï¼Œ`ç¾å°‘å¥³`ï¼Œ`äº¬éƒ½åŠ¨ç”»`ï¼Œ`è½»ç™¾åˆ`\n\n## äººå¶å­¦å›­\n\n![äººå¶å­¦å›­](äººå¶å­¦å›­.jpg)\n\næ¨èåº¦ï¼š90åˆ†\n\nç±³å“ˆæ¸¸åˆ¶ä½œçš„å´©åä¸‰è¡ç”ŸåŠ¨ç”»ï¼Œæ³¡é¢ç•ªï¼Œå‰§æƒ…æå…¶æ²™é›•æœ‰è¶£ï¼Œå¦‚æœä¸äº†è§£å´©åä¸‰è¶£å‘³ä¼šä¸‹é™å¾ˆå¤šï¼Œæœ‰æ—¶å¯èƒ½è¿ç¬‘ç‚¹éƒ½æ— æ³•ç†è§£ï¼Œä¼˜è´¨çš„ç²‰ä¸å‘ä½œå“ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[äººå¶å­¦å›­ | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/340275)\n\nå…³é”®è¯ï¼š`æç¬‘`ï¼Œ`å´©å3rd`ï¼Œ`æ³¡é¢`ï¼Œ`å›½äº§`\n\n## Sonny Boy -ã‚µãƒ‹ãƒ¼ãƒœãƒ¼ã‚¤-ï¼ˆæ¼‚æµå°‘å¹´ï¼‰\n\n![Sonny Boy](SonnyBoy.jpg)\n\næ¨èåº¦ï¼š85åˆ†\n\nä¸€åœºå¥‡å¹»çš„æ¼‚æµå†é™©è®°ï¼Œå­¦ç”Ÿä»¬è·å¾—äº†å„ç§ä¸åŒçš„è¶…èƒ½åŠ›ï¼Œå„è‡ªçš„æ—¥å¸¸ç”Ÿæ´»ä¹Ÿå…¨éƒ½è¢«æ‰“ä¹±ã€‚æ•…äº‹ä¸­çš„ä¸åŒäººç‰©åœ¨æ¼‚æµä¸­éƒ½è¡¨è¾¾äº†ä¸åŒçš„äººç”Ÿå“²å­¦ï¼Œæ˜¯ä¸€éƒ¨å€¼å¾—æ€è€ƒå›å‘³çš„åŠ¨ç”»ä½œå“ï¼Œæ¨èã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[Sonny Boy -ã‚µãƒ‹ãƒ¼ãƒœãƒ¼ã‚¤- | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/332649)\n\nå…³é”®è¯ï¼š`å¥‡å¹»`ï¼Œ`æˆé•¿`ï¼Œ`å“²å­¦`\n\n## æµ·è³Šç‹å¥³ï¼ˆæµ·è´¼ç‹å¥³ï¼‰\n\n![æµ·è³Šç‹å¥³](æµ·è³Šç‹å¥³.jpg)\n\nå¯æ¨èåº¦ï¼š80åˆ†\n\næœ¬æ¥åº”è¯¥æ˜¯10æœˆçš„åŠ¨ç”»ï¼Œä½†æ˜¯åŒ—ç¾åœ°åŒºå…ˆè¡Œå¼€æ’­äº†ï¼Œæ‰€ä»¥å½“æ—¶åœ¨crunchyrollç½‘ç«™ä¸Šå¯ä»¥çœ‹åˆ°æœ€æ–°çš„å¸¦è‹±æ–‡å­—å¹•çš„æµ·è´¼ç‹å¥³ã€‚æœ¬ä½œæœ‰ä¼˜è‰¯çš„ä½œç”»å’ŒéŸ³ä¹ï¼Œæ‰“æ–—åŠ¨ä½œæµç•…ï¼Œäººè®¾ä¹Ÿå¾ˆä¸é”™ï¼Œè½»å¾®ä¹™å¥³å‘ã€‚ç„¶è€Œåç»­çš„å‰§æƒ…å‘å±•æœ‰ç‚¹ä¸æ˜¯é‚£ä¹ˆæœ‰è¶£ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[æµ·è³Šç‹å¥³ | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/311310)\n\nå…³é”®è¯ï¼š`åŸåˆ›`ï¼Œ`æˆ˜æ–—`ï¼Œ`å†’é™©`\n\n\n## ä¹™å¥³ã‚²ãƒ¼ãƒ ã®ç ´æ»…ãƒ•ãƒ©ã‚°ã—ã‹ãªã„æ‚ªå½¹ä»¤å¬¢ã«è»¢ç”Ÿã—ã¦ã—ã¾ã£ãŸâ€¦ï¼¸ï¼ˆè½¬ç”Ÿæˆä¸ºäº†åªæœ‰ä¹™å¥³æ¸¸æˆç ´ç­Flagçš„é‚ªæ¶å¤§å°å§ ç¬¬äºŒå­£ï¼‰\n\n![ä¹™å¥³ã‚²ãƒ¼ãƒ ã®ç ´æ»…ãƒ•ãƒ©ã‚°ã—ã‹ãªã„æ‚ªå½¹ä»¤å¬¢ã«è»¢ç”Ÿã—ã¦ã—ã¾ã£ãŸâ€¦ï¼¸](ä¹™å¥³ã‚²ãƒ¼ãƒ ã®ç ´æ»…ãƒ•ãƒ©ã‚°ã—ã‹ãªã„æ‚ªå½¹ä»¤å¬¢ã«è»¢ç”Ÿã—ã¦ã—ã¾ã£ãŸâ€¦ï¼¸.jpg)\n\næ¨èåº¦ï¼š75åˆ†\n\nå•çº¯çš„æ²™é›•åŠ¨ç”»ï¼Œæ‰€è°“çš„æš—é­”æ³•ï¼Œçš‡å®¤è´µæ—å†…æ–—å…¨æ˜¯åƒè¿‡å®¶å®¶ä¸€æ ·ï¼Œå£°ä¼˜é˜µå®¹æå…¶è±ªåï¼ŒçœŸæ‰ï¼Œå°æ°´ï¼Œæ¾å†ˆï¼Œç¾å®æ—...\né—®é¢˜æ˜¯å¥³ä¸»è¿‡äºè¿Ÿé’ï¼Œç”šè‡³æ˜¯è¿‡äºå‚»äº†ï¼Œç¬¬ä¸€å­£çœ‹å®Œç¬¬äºŒå­£ä¾ç„¶æ˜¯è¿™æ ·ï¼Œæœ‰ç‚¹å®¡ç¾ç–²åŠ³äº†ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[ä¹™å¥³ã‚²ãƒ¼ãƒ ã®ç ´æ»…ãƒ•ãƒ©ã‚°ã—ã‹ãªã„æ‚ªå½¹ä»¤å¬¢ã«è»¢ç”Ÿã—ã¦ã—ã¾ã£ãŸâ€¦ï¼¸ | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/309056)\n\nå…³é”®è¯ï¼š`æç¬‘`ï¼Œ`ä¹™å¥³`ï¼Œ`é€†åå®«`\n\n## ç™½ã„ç ‚ã®ã‚¢ã‚¯ã‚¢ãƒˆãƒ¼ãƒ—ï¼ˆç™½æ²™æ°´æ—é¦†ï¼‰\n\n![ç™½ã„ç ‚ã®ã‚¢ã‚¯ã‚¢ãƒˆãƒ¼ãƒ—](ç™½ã„ç ‚ã®ã‚¢ã‚¯ã‚¢ãƒˆãƒ¼ãƒ—.jpg)\n\næ¨èåº¦ï¼š75\n\næ…¢èŠ‚å¥æ—¥å¸¸åŠ¨ç”»ï¼Œè®²è¿°é€€å½¹å¶åƒå’Œä¸€ä¸ªæµ·æ´‹ç”Ÿç‰©çˆ±å¥½è€…å°‘å¥³åœ¨æ°´æ—é¦†å·¥ä½œçš„æ•…äº‹ï¼Œå‰§æƒ…å‡ ä¹æ¯«æ— æ³¢æ¾œï¼Œå°±æ˜¯å¹³å¹³æ·¡æ·¡çš„æ‰“å·¥æ—¥å¸¸ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[ç™½ã„ç ‚ã®ã‚¢ã‚¯ã‚¢ãƒˆãƒ¼ãƒ— | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/325281)\n\nå…³é”®è¯ï¼š`æ—¥å¸¸`ï¼Œ`è½»ç™¾åˆ`ï¼Œ`æ‰“å·¥`\n\n## 100ä¸‡ã®å‘½ã®ä¸Šã«ä¿ºã¯ç«‹ã£ã¦ã„ã‚‹ ç¬¬2ã‚·ãƒ¼ã‚ºãƒ³ï¼ˆæˆ‘ç«‹äºç™¾ä¸‡ç”Ÿå‘½ä¹‹ä¸Š ç¬¬äºŒå­£ï¼‰\n\n![100ä¸‡ã®å‘½ã®ä¸Šã«ä¿ºã¯ç«‹ã£ã¦ã„ã‚‹ ç¬¬2ã‚·ãƒ¼ã‚ºãƒ³](100ä¸‡ã®å‘½ã®ä¸Šã«ä¿ºã¯ç«‹ã£ã¦ã„ã‚‹ç¬¬2ã‚·ãƒ¼ã‚ºãƒ³.jpg)\n\næ¨èåº¦ï¼š75\n\nåˆ¶ä½œè¿‡äºè´«ç©·ï¼Œä½†æ˜¯å‰§æƒ…ç›¸å¯¹è¿˜ä¸é”™ï¼Œä¸»è§’æ²¡æœ‰ç‰¹åˆ«è„±ç¦»ä¸€èˆ¬å¸¸è¯†çš„æ“ä½œï¼Œç”·ä¸»éé¾™å‚²å¤©ï¼Œæ¯”è¾ƒæœ‰æ‹…å½“ï¼Œå…¶ä»–å‡ ä¸ªé˜Ÿå‹ä¹Ÿå¹¶ééƒ½æ˜¯èŠ±ç“¶ï¼Œå…¶ä¸­çš„èŠ±ç“¶é˜Ÿå‹ä¹Ÿåœ¨ç¼“æ…¢åœ°æˆé•¿ã€‚æœ¬ä½œæ¯”åŒæœŸçš„ã€Œä¾¦æ¢å·²æ­»ã€ï¼Œã€Œç²¾çµå¹»æƒ³è®°ã€ä¹‹ç±»çš„ç”»é¢ç²¾è‰¯ä½†æ˜¯å‰§æƒ…çƒ‚çš„åŠ¨ç”»è¦å¥½ä¸Šå¤ªå¤šäº†ï¼Œå¯ä»¥çœ‹ä¸€çœ‹ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[100ä¸‡ã®å‘½ã®ä¸Šã«ä¿ºã¯ç«‹ã£ã¦ã„ã‚‹ ç¬¬2ã‚·ãƒ¼ã‚ºãƒ³ | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/322859)\n\nå…³é”®è¯ï¼š`å¼‚ä¸–ç•Œ`ï¼Œ`æˆ˜æ–—`\n\n## ã‚¸ãƒ£ãƒ’ãƒ¼æ§˜ã¯ãã˜ã‘ãªã„ï¼ˆè¿¦å¸Œå¥³ç‹ä¸ä¼šæ”¾å¼ƒï¼‰\n\n![ã‚¸ãƒ£ãƒ’ãƒ¼æ§˜ã¯ãã˜ã‘ãªã„](ã‚¸ãƒ£ãƒ’ãƒ¼æ§˜ã¯ãã˜ã‘ãªã„.jpg)\n\næ¨èåº¦ï¼š75åˆ†\n\nè¿¦å¸Œå¥³ç‹å¤±å»åŠ›é‡å˜æˆå¹¼å¥³ä½“å‹ï¼Œä½†æ˜¯åˆèƒ½æš‚æ—¶é€šè¿‡é­”çŸ³æ¢å¤æˆå¹´èº«æï¼ˆåƒå¥¥ç‰¹æ›¼ä¸€æ ·ï¼‰ï¼Œä¸¤ä¸ªæ„¿æœ›åŒæ—¶æ»¡è¶³ã€‚è™½ç„¶è¿¦å¸Œå¥³ç‹ä¸€ç›´å–Šç€è¦å¤å…´é­”ç•Œï¼Œä½†äº‹å®ä¸Šä¸»çº¿è¿˜æ˜¯è®²è¿¦å¸Œå¥³ç‹è¿‡ç€è´«ç©·çš„ç”Ÿæ´»ï¼Œå¤©å¤©å»å±…é…’å±‹æ‰“å·¥ï¼Œæ¯å¤©éƒ½è¦å„ç§åƒç˜ªçš„æ•…äº‹ã€‚ç™»åœºäººç‰©å…¨éƒ¨éƒ½æ˜¯å¥³æ€§ï¼Œä¸çŸ¥é“çš„è¿˜ä»¥ä¸ºæ˜¯èŠ³æ–‡ç¤¾çš„åŠ¨ç”»ï¼ˆå¹¶ä¸æ˜¯ï¼‰ï¼Œå…¸å‹çš„åºŸèŒä½œï¼ŒåŸºæœ¬æ²¡æœ‰ä¸»çº¿ï¼Œäººç‰©ç”»å¾—å¾ˆå¯çˆ±ï¼Œå–œæ¬¢åºŸèŒçš„å¯ä»¥ä¸€çœ‹ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[ã‚¸ãƒ£ãƒ’ãƒ¼æ§˜ã¯ãã˜ã‘ãªã„ï¼ | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/333349)\n\nå…³é”®è¯ï¼š`åºŸèŒ`ï¼Œ`æ—¥å¸¸`\n\n## å‡ºä¼šã£ã¦5ç§’ã§ãƒãƒˆãƒ«ï¼ˆè§é¢5ç§’å¼€å§‹æˆ˜æ–—ï¼‰\n\n![å‡ºä¼šã£ã¦5ç§’ã§ãƒãƒˆãƒ«](å‡ºä¼šã£ã¦5ç§’ã§ãƒãƒˆãƒ«.jpg)\n\næ¨èåº¦ï¼š65åˆ†\n\nåˆ¶ä½œå¤ªè¿‡äºè´«ç©·ï¼Œå°±å‰§æƒ…è€Œè¨€ï¼Œå‰åŠæ®µçš„æ™ºæ–—è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œä½†æ˜¯ååŠæ®µå¥³ä¸»åŠ å…¥ä¹‹åæ™ºæ–—çš„æˆåˆ†å°±æ˜¾å¾—æ— è¶£äº†å¾ˆå¤šï¼Œå†åŠ ä¸Šä½œç”»çš„å„ç§å´©åï¼Œç›¸å½“åŠé€€ã€‚åŸæœ¬ç”·ä¸»çš„èƒ½åŠ›è¿˜æ˜¯å¾ˆæœ‰æ„æ€çš„ï¼Œåœ¨å‰åŠéƒ¨åˆ†çš„å‡ é›†ä¸­ä¹Ÿç¡®å®è®©äººæ„Ÿå—åˆ°ã€Œæ™ºã€çš„æˆåˆ†ï¼Œå¯æƒœè¶Šå¾€åå‰§æƒ…è´¨é‡è¶Šå·®ï¼Œæœ€åçƒ‚å°¾äº†ã€‚\n\næ›´å¤šä¿¡æ¯ï¼š[å‡ºä¼šã£ã¦5ç§’ã§ãƒãƒˆãƒ« | Bangumi ç•ªç»„è®¡åˆ’](https://bangumi.tv/subject/319286)\n\nå…³é”®è¯ï¼š`æˆ˜æ–—`ï¼Œ`å¤§é€ƒæ€`ï¼Œ`æ™ºæ–—`\n","tags":["äºŒæ¬¡å…ƒ","åŠ¨ç”»"],"categories":["åŠ¨ç”»æ¨è"]},{"title":"åŸºäºMyQQæœºå™¨äººæ¡†æ¶æ­å»ºqqæœºå™¨äºº","url":"/åˆé›†/qqæœºå™¨äºº/åŸºäºMyQQæœºå™¨äººæ¡†æ¶æ­å»ºqqæœºå™¨äºº/","content":"\n# åŸºäºMyQQæœºå™¨äººæ¡†æ¶æ­å»ºqqæœºå™¨äºº\n\n## å‰è¨€\n\nå¾ˆæ—©ä»¥å‰å°±æœ‰æ­å»ºä¸€ä¸ªèƒ½è‡ªåŠ¨æ”¶å‘æ¶ˆæ¯çš„qqæœºå™¨äººçš„æƒ³æ³•ï¼Œä½†æ˜¯ä¸€ç›´æ‰¾ä¸åˆ°å¯è¡Œçš„æ–¹æ³•\n\nwebqqè¢«è…¾è®¯å…³é—­äº†ï¼Œæ— æ³•ä½¿ç”¨ï¼›qqç½‘ç»œæ¶ˆæ¯æ˜¯åŠ å¯†çš„ï¼Œè€Œä¸”æœ¬äººçš„è®¡ç½‘æ°´å“ä¹Ÿè¾¾ä¸åˆ°æŠ“åŒ…å¹¶è§£å¯†çš„ç¨‹åº¦ï¼›qqçš„æœ¬åœ°æ¶ˆæ¯æ•°æ®åº“ä¹Ÿæ˜¯qqè‡ªå»ºçš„ï¼Œæ— æ³•ä»å¤–éƒ¨è¯»å–ï¼›ç”¨windowsçš„apiç›´æ¥è·å–çª—ä½“æ•°æ®å¤ªè¿‡äºç¹çè€Œä¸”çµæ´»æ€§å¾ˆå·®\n\nåœ¨ç§ç§æ–¹å¼éƒ½ä¸å¯è¡Œçš„æƒ…å†µä¸‹ï¼Œåªèƒ½å€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·ï¼ŒMyQQæœºå™¨äººæ¡†æ¶ï¼Œæ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„qqæ¶ˆæ¯æ”¶å‘æœºå™¨äººæ¡†æ¶ï¼Œå¯ä»¥æ¥æ”¶æ–‡å­—ã€å›¾ç‰‡ã€ç‚¹èµã€å¥½å‹ç™»å½•ç¦»çº¿ç­‰å¤šç§qqæ¶ˆæ¯ï¼Œä¹Ÿå¯ä»¥å‘é€æ–‡å­—ã€å›¾ç‰‡ã€å›å¤ç­‰å¤šç§qqæ¶ˆæ¯\n\nåœ¨è¿™é‡Œæˆ‘ä»¬å€Ÿç”¨MyQQæœºå™¨äººæ¡†æ¶å¸®åŠ©æˆ‘ä»¬è§£å†³qqæ¶ˆæ¯çš„IOé—®é¢˜\n\n**MyQQ YYDSï¼**\n\n## å‡†å¤‡\n\n### MyQQæœºå™¨äººæ¡†æ¶\n\nè¿›å…¥MyQQæœºå™¨äººå®˜ç½‘é¦–é¡µï¼ˆ[MyQQæœºå™¨äººå®˜ç½‘é¦–é¡µ](https://www.myqqx.com/)ï¼‰ï¼ŒæŒ‰ç…§æ•™ç¨‹ï¼ˆ[æ¡†æ¶ä½¿ç”¨æ•™ç¨‹-æ–°æ‰‹å¿…çœ‹](https://bbs.myqqx.com/forum.php?mod=viewthread&tid=82)ï¼‰ä¸‹è½½å¹¶é…ç½®å¥½MyQQå¤‡ç”¨\n\n[ç›¸å…³æ–‡æ¡£é¦–é¡µ | MyQQæœºå™¨äºº ](https://www.myqqx.com/0.doc.html)\n\n### python\n\nå®‰è£…å¥½MyQQæœºå™¨äººåä¸éœ€è¦å®‰è£…å…¶ä»–çš„æ’ä»¶ï¼Œæˆ‘ä»¬å°†ç›´æ¥ä½¿ç”¨MyQQå®˜æ–¹æä¾›çš„`HTTP API`æ’ä»¶\n\nä½¿ç”¨è¿™ä¸ªæ’ä»¶æˆ‘ä»¬éœ€è¦è‡ªå·±æ„å»ºä¸€ä¸ªwebæœåŠ¡å™¨æ¥æ¥æ”¶MyQQè·å–åˆ°çš„æ¶ˆæ¯ï¼Œä¸ºäº†æ–¹ä¾¿å’Œåç»­çš„æ‰©å±•å¼€å‘ï¼Œæˆ‘ä»¬é€‰æ‹©`python`è¯­è¨€è¿›è¡Œå¼€å‘\n\nå®‰è£…pythonå¹¶é…ç½®å¥½ç›¸å…³ç¯å¢ƒ\n\n#### å°†ä½¿ç”¨åˆ°çš„pythonç›¸å…³çš„åŒ…\n\n`fastapi`ã€`uvicorn`ã€`pydantic`\n\n```bash\npip install fastapi\npip install uvicorn\npip install pydantic\n```\n\nè¿™ä¸‰ä¸ªåŒ…ç”¨äºæ­å»ºwebæœåŠ¡å™¨ï¼Œåœ¨æœ¬é¡¹ç›®ä¸­ä¸éœ€è¦å®ç°å¾ˆå¤æ‚çš„webæœåŠ¡ï¼Œè¿™ä¸ªæœåŠ¡å™¨ä¹Ÿå°†ä¸€ç›´åœ¨æœ¬åœ°è¿è¡Œï¼Œå› æ­¤å¯ä»¥çœ‹æˆ‘çš„å¦ä¸€ç¯‡åšå®¢å¿«é€Ÿå…¥é—¨ä½¿ç”¨ï¼š[pythonå®ç°web api](https://ddg-302.github.io/python%E5%AE%9E%E7%8E%B0webapi/)\n\n## MyQQæœºå™¨äººæ¡†æ¶æ¶ˆæ¯æ”¶å‘\n\nå¦‚æœå·²ç»æ ¹æ®æ•™ç¨‹è®¾ç½®å¥½MyQQäº†ï¼Œé‚£ä¹ˆåº”è¯¥èƒ½å¤ŸçŸ¥é“ï¼ŒMyQQçš„æ¥æ”¶åˆ°æ¶ˆæ¯åä¼šä¸»åŠ¨å‘é€postè¯·æ±‚åˆ°æŒ‡å®šçš„urlï¼›æˆ‘ä»¬å¸Œæœ›å‘é€æ¶ˆæ¯æ—¶ï¼Œåˆ™å¯ä»¥postæˆ–getåˆ°MyQQæŒ‡å®šçš„url\n\nå¦‚æœä¸çŸ¥é“postå’Œgetè¯·æ±‚æ˜¯ä»€ä¹ˆï¼Œè¯·ç™¾åº¦æœç´¢`REST API`\n\n## æœåŠ¡å™¨åŸºç¡€ç»“æ„\n\né¦–å…ˆï¼Œæ„å»ºä¸€ä¸ªåŸºç¡€çš„å·¥ç¨‹ç›®å½•\n\n```\nâ”‚  main.py\nâ”‚\nâ””â”€module\n```\n\n![ç›®å½•ç»“æ„](image-20211121172803706.png)\n\n`module`æ–‡ä»¶å¤¹ä¸€ä¼šå°±ä¼šä½¿ç”¨åˆ°ï¼Œé¦–å…ˆåœ¨`main.py`æ–‡ä»¶ä¸­å†™ä¸‹ï¼š\n\n```python\nfrom fastapi import FastAPI, Body\nfrom fastapi.middleware.cors import CORSMiddleware\nimport uvicorn\n\napp = FastAPI()\n# è§£å†³è·¨åŸŸ\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"*\"],\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"]\n)\n\n@app.post('/')\ndef fun1('''åœ¨è¿™é‡Œå¡«å…¥å‚æ•°'''):\n    # ä¸šåŠ¡å¤„ç†\n    return {\"status\":1} # MyQQè¦æ±‚è¿”å›1è¡¨ç¤ºå…è®¸å…¶ä»–æ’ä»¶ç»§ç»­å¤„ç†\n\nif __name__ == \"__main__\":   \n    uvicorn.run(app = app, host = '''å¡«å…¥æœ¬åœ°ip''', port = '''æŒ‡å®šçš„ç«¯å£å·''')\n```\n\nè¿™æ ·ä¸€ä¸ªèƒ½å¤„ç†postè¯·æ±‚çš„webæœåŠ¡å™¨å°±æ­å»ºå®Œæˆäº†ï¼Œç”±äºè¿™ä¸ªæœåŠ¡å™¨åªéœ€è¦æ¥æ”¶postè¯·æ±‚ï¼Œæ‰€ä»¥è¿™é‡Œåªéœ€è¦å†™ä¸€ä¸ªpostå³å¯\n\n{% note danger %} æ³¨æ„ï¼š\n\nåœ¨è§£å†³è·¨åŸŸæ—¶ï¼Œè¿™é‡Œç›´æ¥å…è®¸æ‰€æœ‰çš„è®¿é—®ï¼Œè¿™åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ˜¾ç„¶æ˜¯ä¸å®‰å…¨çš„ï¼Œä½†æ˜¯ä»…ä»…åœ¨æœ¬åœ°å†…ç½‘ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œå…ˆå§‘ä¸”è¿™æ ·å¤„ç†\n\n {% endnote %}\n\n## æ¥æ”¶ä¸€ä¸ªæ¶ˆæ¯\n\n### ç¼–å†™post\n\næ ¹æ®MyQQå®˜ç½‘ä¸­å…³äº[æ¶ˆæ¯å›è°ƒ](https://www.myqqx.cn/6.HTTPAPI/5.%E6%B6%88%E6%81%AF%E5%9B%9E%E8%B0%83.html#%E6%B6%88%E6%81%AF%E5%9B%9E%E8%B0%83)çš„ä¿¡æ¯ï¼ŒMyQQç»™å‡ºçš„postè¯·æ±‚æºå¸¦jsonæ ¼å¼ä¿¡æ¯ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š\n\n```json\n{\n    \"MQ_robot\": \"1330166568\",\n    \"MQ_type\": 1,\n    \"MQ_type_sub\": 0,\n    \"MQ_fromID\": \"1330166565\",\n    \"MQ_fromQQ\": \"1330166565\",\n    \"MQ_passiveQQ\": \"1330166568\",\n    \"MQ_msg\": \"123%E6%B5%8B%E8%AF%95,loveyou\",\n    \"MQ_msgSeq\": \"1482636593\",\n    \"MQ_msgID\": \"1243\",\n    \"MQ_msgData\": \"4F 48 BB 25 4F 48 BB 28 00 06 36 04 09 95 68 BD 1F 40 00 A6 00 00 00 2D 00 05 00 02 00 01 00 06 00 04 00 01 01 01 00 09 00 06 00 01 00 00 00 01 00 0A 00 04 01 00 00 00 00 01 00 04 00 00 00 00 00 03 00 01 02 3A 03 4F 48 BB 25 4F 48 BB 28 E7 B9 55 10 DA 5A 21 52 F4 EA 9C 41 C7 BE F7 A8 00 0B 04 DB 60 75 66 A5 02 43 00 00 00 00 01 00 00 00 01 4D 53 47 00 00 00 00 00 60 75 66 A5 58 5F 3D 31 00 00 00 00 0B 00 86 31 00 0C E5 BE AE E8 BD AF E9 9B 85 E9 BB 91 00 00 01 00 0C 01 00 09 31 32 33 E6 B5 8B E8 AF 95 19 00 1E 01 00 1B AA 02 18 08 08 9A 01 13 78 80 80 04 C8 01 00 F0 01 00 F8 01 00 90 02 00 CA 04 00 0E 00 07 01 00 04 00 00 00 00\",\n    \"MQ_timestamp\": \"1630051875\",\n}\n```\n\nè¯¦ç»†çš„å‚æ•°å«ä¹‰è¯·è§ä¸Šé¢é“¾æ¥ä¸­çš„æ–‡æ¡£è¯´æ˜\n\nå‚æ•°æ•°é‡æ¯”è¾ƒå¤§ï¼Œå› æ­¤æˆ‘ä»¬è€ƒè™‘ä½¿ç”¨æ¨¡å‹ç±»æ¥å¤„ç†ä¿¡æ¯ï¼Œåœ¨[pythonå®ç°web api](https://ddg-302.github.io/python%E5%AE%9E%E7%8E%B0webapi/)å±•ç¤ºçš„æ¨¡å‹ç±»å°±æ˜¯å®ƒï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªæ¨¡å‹ç±»æ”¾åˆ°`module`æ–‡ä»¶å¤¹ä¸‹çš„`MSG_CALL_BACK.py`æ–‡ä»¶ä¸­\n\n![å·¥ç¨‹ç»“æ„](image-20211121172833072.png)\n\n```python\nfrom pydantic import BaseModel\n\nclass MSG_CALL_BACK(BaseModel):   \n    MQ_robot: str\n    MQ_type: int\n    MQ_type_sub: int\n    MQ_fromID: str\n    MQ_fromQQ: str\n    MQ_passiveQQ: str\n    MQ_msg: str\n    MQ_msgSeq: str\n    MQ_msgID: str\n    MQ_msgData: str\n    MQ_timestamp: str\n```\n\npostå¤„ç†\n\né¦–å…ˆå¼•å…¥æ¨¡å‹ç±»\n\n```python\nfrom module.MSG_CALL_BACK import MSG_CALL_BACK\n```\n\n\n\n```python\n@app.post('/')\ndef read_model(item:MSG_CALL_BACK = Body(...)):   \n    print(item)\n    return {\"status\":1}\n```\n\næˆ‘ä»¬æŠŠfun1çš„åå­—æ”¹æˆäº†read_modelï¼Œå‚æ•°å‘½åä¸ºitemï¼Œå¹¶æŒ‡å®šæ˜¯MSG_CALL_BACKç±»å‹ä»¥ä¾¿äºä»£ç ç¼–å†™æ—¶çš„å¤„ç†ï¼Œåœ¨å‡½æ•°ä¸­æ‰“å°å‡ºitemï¼Œæœ€åè¿”å›çŠ¶æ€ä¸º1\n\nå³ä½¿ä¸æŒ‡å®šitemçš„ç±»å‹åœ¨pythonä¸­ä¹Ÿæ˜¯å®Œå…¨å¯è¡Œçš„ï¼Œåªä¸è¿‡æŒ‡å®šç±»å‹ååœ¨ç¼–å†™æ—¶ä¼šæœ‰ä»£ç æç¤ºï¼Œä¹Ÿä¾¿äºä»£ç çš„ç†è§£\n\n### æŒ‡å®šæœ¬æœºåœ°å€å’Œç«¯å£å·\n\n```python\nif __name__ == \"__main__\":   \n    uvicorn.run(app = app, host = \"0.0.0.0\", port = \"8000\")\n```\n\nåœ¨MyQQçš„HTTP APIè®¾ç½®ä¸­ä¹Ÿåšå¥½ç›¸åŒçš„è®¾ç½®\n\n![è®¾ç½®å›è°ƒ](image-20211121110052207.png)\n\n### è¯•éªŒç»“æœ\n\nåˆ°è¿™é‡Œæˆ‘ä»¬å·²ç»å¯ä»¥åšåˆ°æ¥æ”¶ä¸€ä¸ªæ¶ˆæ¯äº†ï¼Œæ¥è¯•éªŒä¸€ä¸‹æ˜¯å¦å‘é€æˆåŠŸå§\n\n1. é¦–å…ˆç™»é™†æœºå™¨äººqq\n   - ![ç™»é™†æœºå™¨äººqq](image-20211121110314782.png)\n\n2. å¯åŠ¨æœåŠ¡å™¨\n\n   - æ§åˆ¶å°ä¸­è¾“å…¥ï¼š\n\n    ```bash\n     uvicorn main:app --reload\n    ```\n\n   {% note warning %}\n\n   æ³¨æ„è¿™é‡Œçš„`main`è¡¨ç¤ºæˆ‘çš„ä»£ç åœ¨`main.py`æ–‡ä»¶ä¸­ï¼Œè€Œä¸”fastapiå®ä¾‹åä¸º`app`ï¼Œå¦‚æœä½ çš„è®¾ç½®ä¸æ˜¯è¿™æ ·çš„ï¼Œé‚£ä¹ˆåº”å½“ä¿®æ”¹å¯¹åº”çš„å‚æ•°\n\n   {% endnote %}  \n\n3. ç„¶åå‘è¿™ä¸ªæœºå™¨äººqqå‘é€ä¸€æ¡æ¶ˆæ¯\n\n   - ![å‘é€æ¶ˆæ¯](image-20211121110608827.png)\n   - ![æ¥æ”¶å›è°ƒ](image-20211121110956505.png)\n\næˆ‘ä»¬ç¡®å®æˆåŠŸæ¥æ”¶åˆ°æ¶ˆæ¯äº†ï¼Œè€Œä¸”æ¶ˆæ¯å†…å®¹åœ¨MQ_msgä¸­\n\n### è¿›ä¸€æ­¥å¤„ç†æ¶ˆæ¯\n\næœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæ¶ˆæ¯å†…å®¹æ˜¯ä¸­æ–‡ï¼Œé‚£ä¹ˆæ¶ˆæ¯åœ¨ä¼ é€æ—¶ä¼šè½¬ç \n\n![å‘é€æ¶ˆæ¯](image-20211121111343405.png)\n\n![æ¥æ”¶æ¶ˆæ¯](image-20211121111451527.png)\n\nå› æ­¤æˆ‘ä»¬éœ€è¦å°†æ¶ˆæ¯å†…å®¹è¿›ä¸€æ­¥è§£ç \n\nè§£ç éœ€è¦å¼•å…¥æ–°çš„åŒ…\n\n```python\nfrom urllib.parse import unquote\n```\n\nä½¿ç”¨unquoteè¿›è¡Œè§£ç \n\n```python\n@app.post('/')\ndef read_model(item:MSG_CALL_BACK = Body(...)):   \n    received_msg = unquote(item.MQ_msg)\n    print(received_msg)\n    return {\"status\":1}\n```\n\n![å›è°ƒæ¥æ”¶](image-20211121112304982.png)\n\nè¿™æ ·å°±èƒ½è·å–åˆ°æ­£å¸¸çš„æ¶ˆæ¯å•¦\n\n### å®ç°æ¶ˆæ¯æ¥æ”¶çš„å®Œæ•´ä»£ç \næ­¤æ—¶çš„ç›®å½•ç»“æ„ï¼š\n\n```\nâ”‚  main.py\nâ”‚\nâ””â”€module\n|      MSG_CALL_BACK.py\n```\n\n![ç›®å½•ç»“æ„](image-20211121160707142.png)\n\n`main.py`:\n\n```python\nfrom fastapi import FastAPI, Body\nfrom fastapi.middleware.cors import CORSMiddleware\nimport uvicorn\nfrom module.MSG_CALL_BACK import MSG_CALL_BACK # å¼•å…¥æ¨¡å‹ç±»\nfrom urllib.parse import unquote\n\n\napp = FastAPI()\n# è§£å†³è·¨åŸŸ\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"*\"],\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"]\n)\n\n@app.post('/')\ndef read_model(item:MSG_CALL_BACK = Body(...)):   \n    received_msg = unquote(item.MQ_msg)\n    print(received_msg)\n    return {\"status\":1}\n\nif __name__ == \"__main__\":   \n    uvicorn.run(app = app, host = \"0.0.0.0\", port = \"8000\")\n```\n\n`MSG_CALL_BACK.py`:\n\n```python\nfrom pydantic import BaseModel\n\n\nclass MSG_CALL_BACK(BaseModel):   \n    MQ_robot: str\n    MQ_type: int\n    MQ_type_sub: int\n    MQ_fromID: str\n    MQ_fromQQ: str\n    MQ_passiveQQ: str\n    MQ_msg: str\n    MQ_msgSeq: str\n    MQ_msgID: str\n    MQ_msgData: str\n    MQ_timestamp: str\n```\n\n\n\n## å‘é€ä¸€ä¸ªæ¶ˆæ¯\n\nå‘é€æ¶ˆæ¯å¯ä»¥ä½¿ç”¨postä¹Ÿå¯ä»¥ä½¿ç”¨getï¼Œ**ç¬”è€…ä½¿ç”¨getè¯·æ±‚**\n\n### postæ–¹å¼\n\nå®˜ç½‘æ–‡æ¡£ä¸­çš„è¯´æ³•æ˜¯ï¼š\n\n> ä»¥ä¸‹ç”¨`http://localhost:10002/MyQQHTTPAPI`ä½œä¸ºæ¼”ç¤º\n>\n> æˆ‘ä»¬å¼ºçƒˆæ¨èä½¿ç”¨**POST**è¯·æ±‚æ–¹å¼\n\n> æäº¤åœ°å€ï¼š\n>\n> ```\n> http://localhost:10002/MyQQHTTPAPI\n> ```\n>\n> æäº¤æ•°æ®ï¼š\n>\n> ```json\n> {\n>     \"function\": \"Api_SendMsg\",  //è¦è°ƒç”¨çš„å‡½æ•°è‹±æ–‡å(æŸ¥çœ‹å³ä¾§APIåˆ—è¡¨)\n>     \"token\": \"666\",            //åå°è®¾ç½®çš„token\n>     \"params\": {\n>         \"c1\": \"363751070\",            //å‚æ•°1ï¼Œè¦ä½¿ç”¨çš„æœºå™¨äººQQ\n>         \"c2\": \"2\",                    //å‚æ•°2ï¼Œæ¶ˆæ¯ç±»å‹ï¼Œ2ä¸ºç¾¤ï¼Œä»¥æ­¤ç±»æ¨...\n>         \"c3\": \"320562077\",            //å‚æ•°3ï¼Œè¦å‘é€çš„ç¾¤å·ï¼Œä»¥æ­¤ç±»æ¨...\n>         \"c4\": \"\",                     //å‚æ•°4ï¼Œè¦å‘é€çš„QQï¼Œæ­¤å¤„å‘çš„æ˜¯ç¾¤ï¼Œæ‰€ä»¥è¿™ä¸ªè¦ç•™ç©ºï¼Œä»¥æ­¤ç±»æ¨...\n>         \"c5\": \"ä½ å¥½ï¼Œæµ‹è¯•ä¸€ä¸‹\"        //å‚æ•°5ï¼Œè¦å‘é€çš„æ¶ˆæ¯å†…å®¹ï¼Œä»¥æ­¤ç±»æ¨...\n>     }\n> }\n> ```\n\nä½¿ç”¨postçš„å¥½å¤„æ˜¯æ¯”getæ›´åŠ å®‰å…¨ï¼Œå› ä¸ºgetæ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼Œç„¶è€Œæˆ‘è¯•äº†å¥½ä¹…éƒ½åªèƒ½è®©postçš„æ¶ˆæ¯ä»¥`Form`çš„å½¢å¼æäº¤ï¼Œè€ŒMyQQè²Œä¼¼å¹¶ä¸èƒ½æ¥æ”¶è¿™æ ·çš„postè¯·æ±‚ï¼Œæ‰€ä»¥**ç¬”è€…å°†ä½¿ç”¨getè¯·æ±‚**ï¼Œå¦‚æœä½ çŸ¥é“å¦‚ä½•ä½¿ç”¨postå®ç°å‘é€æ¶ˆæ¯ï¼Œæ•¬è¯·ç•™è¨€äº¤æµ\n\n### getæ–¹å¼\n\nä½¿ç”¨getè¯·æ±‚ä¼ å‚ï¼š\n\n> | åç§°        | å‚æ•°                               |                 å€¼                  |\n> | :---------- | :--------------------------------- | :---------------------------------: |\n> | è¯·æ±‚åœ°å€    | `http://localhost:10002/MyQQHTTPAPI` | `http://localhost:10002/MyQQHTTPAPI`  |\n> | è°ƒç”¨å‡½æ•°    | function                           | è¦è°ƒç”¨çš„å‡½æ•°è‹±æ–‡å(æŸ¥çœ‹å³ä¾§APIåˆ—è¡¨) |\n> | token       | token                              |           åå°è®¾ç½®çš„token           |\n> | å‚æ•°ä¸€      | c1                                 |   å¦‚æœ‰ä¸­æ–‡å¯èƒ½æœ‰éœ€è¦URL UTF8ç¼–ç     |\n> | å‚æ•°äºŒ      | c2                                 |   å¦‚æœ‰ä¸­æ–‡å¯èƒ½æœ‰éœ€è¦URL UTF8ç¼–ç     |\n> | å‚æ•°ä¸‰      | c3                                 |   å¦‚æœ‰ä¸­æ–‡å¯èƒ½æœ‰éœ€è¦URL UTF8ç¼–ç     |\n> | å‚æ•°å››      | c4                                 |   å¦‚æœ‰ä¸­æ–‡å¯èƒ½æœ‰éœ€è¦URL UTF8ç¼–ç     |\n> | ä»¥æ­¤ç±»æ¨... | ä»¥æ­¤ç±»æ¨...                        |   å¦‚æœ‰ä¸­æ–‡å¯èƒ½æœ‰éœ€è¦URL UTF8ç¼–ç     |\n>\n> \n\nä»å‚æ•°ç»“æ„å¯ä»¥çœ‹å‡ºï¼Œè°ƒç”¨å‡½æ•°å’Œtokenæ˜¯å›ºå®šçš„å¿…å¡«é¡¹å‰©ä¸‹çš„å‚æ•°æ ¹æ®apiåˆ—è¡¨ç›´æ¥c1ï¼Œc2è¿™æ ·å‘½åä¸‹å»å°±å¥½äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥å†™ä¸€ä¸ªå‘é€æ¶ˆæ¯çš„å‡½æ•°\n\n- æ–°å»ºç±»\n\n   ä¸ºäº†åç»­çš„æ‰©å±•å¼€å‘ï¼Œæˆ‘ä»¬ä¸å¦¨æ–°å»ºä¸€ä¸ªæ–‡ä»¶æ¥ä¸“é—¨å¤„ç†æ¶ˆæ¯çš„å‘é€\n\n   ```\n   â”‚  main.py\n   â”‚\n   â””â”€business\n   â”‚      msg_sender.py\n   â”‚      router.py\n   â””â”€module\n   |      MSG_CALL_BACK.py\n   ```\n   \n   ![ç›®å½•ç»“æ„](image-20211121160739347.png)\n   \n   æˆ‘ä»¬æ„å»ºè¿™æ ·ä¸€ä¸ªç›®å½•ç»“æ„ï¼Œåˆšæ‰å†™å¥½çš„ä»£ç éƒ½åœ¨`main.py`ä¸­ï¼Œæ¨¡å‹ç±»åœ¨MSG_CALL_BACK.pyä¸­\n   \n   ç°åœ¨æ–°å»ºä¸€ä¸ª`business`æ–‡ä»¶å¤¹ï¼Œåœ¨å…¶ä¸­æ–°å»º`msg_sender.py`å’Œ`router.py`\n   \n   `Router.py`å°†ç”¨äºæ¶ˆæ¯çš„è¿›ä¸€æ­¥è½¬å‘å¤„ç†ï¼Œå› ä¸ºä¸Šæ–‡æåˆ°ï¼ŒMyQQæœºå™¨äººæ¡†æ¶æ¥æ”¶åˆ°çš„æ¶ˆæ¯è¿œä¸æ­¢èŠå¤©æ¶ˆæ¯ï¼Œå¥½å‹ä¸Šä¸‹çº¿ã€é‚€è¯·å…¥ç¾¤ã€ç¾¤èŠè§£æ•£ç­‰ç­‰æ¶ˆæ¯å®ƒéƒ½èƒ½æ¥æ”¶ï¼Œå“ªæ€•æ˜¯èŠå¤©æ¶ˆæ¯ï¼Œä¹Ÿåˆ†å¥½å‹èŠå¤©ã€ç¾¤èŠã€ä¸´æ—¶ä¼šè¯ï¼Œ**ä¸åŒçš„æ¶ˆæ¯å¯èƒ½éœ€è¦ä¸åŒçš„å¤„ç†æ–¹å¼**ï¼Œè¿™å°±æ˜¯Routerè´Ÿè´£çš„å†…å®¹ï¼Œå®ƒè´Ÿè´£åˆ†è¾¨ä¸åŒç§ç±»çš„æ¶ˆæ¯ï¼Œå¹¶å°†æ¶ˆæ¯å‘é€ç»™å¯¹åº”æ¨¡å—å¤„ç†\n   \n   `msg_sender.py`ä¾¿æ˜¯æˆ‘ä»¬çš„æ¶ˆæ¯å‘é€æ¨¡å—äº†ï¼Œå®ƒè´Ÿè´£å°†æ¶ˆæ¯é€šè¿‡getè¯·æ±‚å‘é€ç»™MyQQï¼ŒMyQQå†å°†æ¶ˆæ¯å‘é€åˆ°qq     \n\n#### msg_sender\n\n##### åŸºæœ¬ç»“æ„\n\n ```python\n class MsgSender:\n     def __init__(self) -> None:\n         pass\n     \n     @staticmethod\n     def send_pure_text_msg_2_person(self, target_qq:str, msg:str, robot_qq:str):\n         pass\n ```\n\n##### æŸ¥é˜…å‘é€æ¶ˆæ¯çš„api\n\n[APIåˆ—è¡¨](https://www.myqqx.cn/5.%E6%89%A9%E5%B1%95%E5%BC%80%E5%8F%91/1.%E5%BC%80%E5%8F%91%E7%9B%B8%E5%85%B3/2.API%E5%88%97%E8%A1%A8.html#api%E5%88%97%E8%A1%A8)\n\n> | Api_SendMsg | æ— è¿”å›å€¼ | å‘å¯¹è±¡ã€ç›®æ ‡å‘é€æ¶ˆæ¯ æ”¯æŒå¥½å‹ ç¾¤ è®¨è®ºç»„ ç¾¤ä¸´æ—¶ä¼šè¯ è®¨è®ºç»„ä¸´æ—¶ä¼šè¯ |\n> | ----------- | -------- | ------------------------------------------- --------------- |\n> | å“åº”QQ | æ–‡æœ¬å‹ | æœºå™¨äººQQ |\n> | æ¶ˆæ¯ç±»å‹ |          | 1å¥½å‹ 2ç¾¤ 3è®¨è®ºç»„ 4ç¾¤ä¸´æ—¶ä¼šè¯ 5è®¨è®ºç»„ä¸´æ—¶ä¼šè¯ 6åœ¨çº¿ä¸´æ—¶ä¼šè¯ |\n> | æ”¶ä¿¡ç¾¤_è®¨è®ºç»„ | æ–‡æœ¬å‹ | å‘é€ç¾¤ä¿¡æ¯ã€è®¨è®ºç»„ä¿¡æ¯ã€ç¾¤ä¸´æ—¶ä¼šè¯ä¿¡æ¯ã€è®¨è®ºç»„ä¸´æ—¶ä¼šè¯ä¿¡æ¯æ—¶å¡«å†™ |\n> | æ”¶ä¿¡å¯¹è±¡ | æ–‡æœ¬å‹ | æœ€ç»ˆæ¥æ”¶è¿™æ¡ä¿¡æ¯çš„å¯¹è±¡QQ |\n> | å†…å®¹ | æ–‡æœ¬å‹ | ä¿¡æ¯å†…å®¹ |\n\n##### æ ¹æ®apiä¿¡æ¯æ„å»ºå‘é€å‚æ•°\n\nä¸å¦¨ä½¿ç”¨å¦‚ä¸‹å›¾çš„é…ç½®ä¿¡æ¯\n\n![é…ç½®ä¿¡æ¯](image-20211121164714948.png)\n\n```python\nclass MsgSender:\n    def __init__(self) -> None:\n        self.httpapi_token = \"114514\"\n        self.httpapi_url = \"http://localhost:10087/MyQQHTTPAPI\"\n    \n    def send_pure_text_msg_2_person(self, target_qq:str, msg:str, robot_qq:str):\n        Values = {\n            \"function\" : \"Api_SendMsg\",\n            \"token\" : self.httpapi_token,\n            \"c1\" : robot_qq,\n            \"c2\" : \"1\",\n            \"c3\" : \"\",\n            \"c4\" : target_qq,\n            \"c5\" : msg\n        }\n```\n\n##### è½¬ç æ¶ˆæ¯\n\næ¥æ”¶æ¶ˆæ¯çš„æ—¶å€™å¯ä»¥çœ‹åˆ°éè‹±æ–‡å­—ç¬¦éƒ½ç»è¿‡äº†ä¸€æ¬¡è½¬ç å†å‘é€ï¼Œå› æ­¤æˆ‘ä»¬åœ¨å‘é€æ¶ˆæ¯çš„æ—¶å€™ä¹Ÿéœ€è¦å¯¹ä¸­æ–‡å­—ç¬¦è¿›è¡Œè½¬ç \n\nå¼•å…¥åŒ…ï¼š\n\n```python\nimport urllib.parse\n```\n\nè½¬ç ï¼š\n\n```python\ndata = urllib.parse.urlencode(Values).encode(\"utf-8\") # MyQQè¦æ±‚UTFç¼–ç \n```\n\n##### æ¶ˆæ¯å‘é€\n\nå¼•å…¥åŒ…ï¼š\n\n```python\nimport requests\n```\n\nå‘é€æ¶ˆæ¯ï¼š\n\n```python\nrq = requests\nrq = requests.get(self.httpapi_url, params=Values)\n```\n\n##### æ‰“å°è¿”å›å€¼\n\nè¿”å›å€¼è¡¨ç¤ºå¯¹æ–¹æœåŠ¡å™¨çš„å“åº”ï¼Œæ‰“å°è¿”å›å€¼å¯ä»¥äº†è§£è‡ªå·±çš„è¯·æ±‚æ˜¯å¦è¢«å¯¹æ–¹æ¥æ”¶ï¼Œå¯¹æ–¹æ˜¯å¦æ­£å¸¸å“åº”ã€å¤„ç†äº†æˆ‘ä»¬çš„è¯·æ±‚\n\n```python\nprint(rq.content.decode(\"utf-8\"))\n```\n\n##### msg_senderå®Œæ•´ä»£ç \n\n```python\nimport urllib.parse\nimport urllib.request\nimport requests\n\n\nclass MsgSender:\n    def __init__(self) -> None:\n        # åˆ†åˆ«æ˜¯MyQQä¸­è®¾ç½®çš„ä¸¤ä¸ªå‚æ•°\n        self.httpapi_token = \"114514\"\n        self.httpapi_url = \"http://localhost:10087/MyQQHTTPAPI\"\n    \n    def send_pure_text_msg_2_person(self, target_qq:str, msg:str, robot_qq:str):\n        Values = {\n            \"function\" : \"Api_SendMsg\",\n            \"token\" : self.httpapi_token,\n            \"c1\" : robot_qq,\n            \"c2\" : \"1\",\n            \"c3\" : \"\",\n            \"c4\" : target_qq,\n            \"c5\" : msg\n        }\n        data = urllib.parse.urlencode(Values).encode(\"utf-8\") # è½¬ç \n        rq = requests\n        rq = requests.get(self.httpapi_url, params=Values) # å‘é€è¯·æ±‚\n        print(rq.content.decode(\"utf-8\")) # æ‰“å°æœåŠ¡å™¨è¿”å›å€¼\n```\n#### router\n\n##### åŸºæœ¬ç»“æ„ï¼š\n\n```python\nfrom module.MSG_CALL_BACK import MSG_CALL_BACK\nfrom urllib.parse import unquote\n\n\nclass Router:\n    def __init__(self):\n        pass\n\n    @staticmethod\n    def handle_post(item:MSG_CALL_BACK):\n        pass\n```\n\nç”¨staticmethodä¿®é¥°è¡¨ç¤ºå…¶ä¸ä¾èµ–å…¶ä»–çš„å˜é‡\n\n##### æ¶ˆæ¯è½¬ç \n\nå…ˆå°†è·å–åˆ°çš„æ¶ˆæ¯è¿›è¡Œè½¬ç \n\n```python\n    @staticmethod\n    def handle_post(item:MSG_CALL_BACK):\n        received_msg = unquote(item.MQ_msg)\n        print(\"æ”¶åˆ°æ¶ˆæ¯ï¼š\", received_msg)\n```\n\n\n\n##### åˆ¤æ–­æ¶ˆæ¯ç±»å‹\n\nç”±apiåˆ—è¡¨å¯çŸ¥ï¼Œå½“MQ_typeä¸º1æ—¶è¡¨ç¤ºæ¶ˆæ¯æ¥è‡ªå¥½å‹èŠå¤©ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œè®¾ç½®åªå›åº”ç§èŠæ¶ˆæ¯\n\n```python\n\t@staticmethod\n    def handle_post(item:MSG_CALL_BACK):\n        print(\"å‘é€æ¶ˆæ¯çš„qqå·ï¼š\", item.MQ_fromQQ)\n        received_msg = unquote(item.MQ_msg)\n        print(\"æ¶ˆæ¯ä¸ºï¼š\", received_msg) # æ‰“å°æ”¶åˆ°çš„å…·ä½“æ¶ˆæ¯\n        print(\"MQ_typeï¼š\", item.MQ_type) # æ‰“å°æ¶ˆæ¯ç±»å‹\n        if(item.MQ_type == 1):\n            # å¦‚æœä¸ä¸º1è¯´æ˜ä¸æ˜¯å¥½å‹ç§èŠï¼Œä¸åšä»»ä½•å¤„ç†\n        \tpass     \t\n```\n\nå¢åŠ äº†å‡ æ¡printä¿¡æ¯ï¼Œä¾¿äºæˆ‘ä»¬åœ¨æ§åˆ¶å°ä¸­æŸ¥çœ‹\n\n\n\n##### å‘é€æ¶ˆæ¯\n\nå¼•å…¥åˆšåˆšå†™å¥½çš„msg_sender\n\n```python\nfrom business.msg_sender import MsgSender\n```\n\nå¯¹æ¶ˆæ¯å‘é€è€…åšå‡ºå›å¤\n\n```python\n    @staticmethod\n    def handle_post(item:MSG_CALL_BACK):\n        print(\"å‘é€æ¶ˆæ¯çš„qqå·ï¼š\", item.MQ_fromQQ)\n        received_msg = unquote(item.MQ_msg)\n        print(\"æ¶ˆæ¯ä¸ºï¼š\", received_msg) # æ‰“å°æ”¶åˆ°çš„å…·ä½“æ¶ˆæ¯\n        print(\"MQ_typeï¼š\", item.MQ_type) # æ‰“å°æ¶ˆæ¯ç±»å‹\n        if(item.MQ_type == 1):\n       \t\t# å¦‚æœä¸ä¸º1è¯´æ˜ä¸æ˜¯å¥½å‹ç§èŠï¼Œä¸åšä»»ä½•å¤„ç†\n            response_msg = \"æ”¶åˆ°äº†ä½ å‘çš„æ¶ˆæ¯ï¼Œä½ å‘çš„æ¶ˆæ¯æ˜¯ï¼š\" + received_msg\n            current_robot_qq = \"\" # å¡«å…¥ä½ çš„æœºå™¨äººqqå·ï¼Œç›®å‰å…ˆå°†å…¶å†™æ­»åœ¨ç¨‹åºä¸­\n            MsgSender().send_pure_text_msg_2_person(item.MQ_fromQQ, response_msg , current_robot_qq)\n\n```\n\n##### routerå®Œæ•´ä»£ç \n\n```python\nfrom module.MSG_CALL_BACK import MSG_CALL_BACK\nfrom urllib.parse import unquote\nfrom business.msg_sender import MsgSender\n\n\nclass Router:\n    def __init__(self):\n        pass\n\n    @staticmethod\n    def handle_post(item:MSG_CALL_BACK):\n        print(\"å‘é€æ¶ˆæ¯çš„qqå·ï¼š\", item.MQ_fromQQ)\n        received_msg = unquote(item.MQ_msg)\n        print(\"æ¶ˆæ¯ä¸ºï¼š\", received_msg) # æ‰“å°æ”¶åˆ°çš„å…·ä½“æ¶ˆæ¯\n        print(\"MQ_typeï¼š\", item.MQ_type) # æ‰“å°æ¶ˆæ¯ç±»å‹\n        if(item.MQ_type == 1):\n            # å¦‚æœä¸ä¸º1è¯´æ˜ä¸æ˜¯å¥½å‹ç§èŠï¼Œä¸åšä»»ä½•å¤„ç†\n            response_msg = \"æ”¶åˆ°äº†ä½ å‘çš„æ¶ˆæ¯ï¼Œä½ å‘çš„æ¶ˆæ¯æ˜¯ï¼š\" + received_msg\n            current_robot_qq = \"\" # å¡«å…¥ä½ çš„æœºå™¨äººqqå·ï¼Œç›®å‰å…ˆå°†å…¶å†™æ­»åœ¨ç¨‹åºä¸­\n            MsgSender().send_pure_text_msg_2_person(item.MQ_fromQQ, response_msg , current_robot_qq)\n```\n\n\n\n#### æ”¹å†™main\n\næ­¤æ—¶å¯ä»¥åœ¨`main.py`ä¸­å¼•å…¥routerå¹¶å°†postä¸­çš„æ•°æ®ä¼ å…¥\n\n```python\nfrom business.router import Router # å¼•å…¥è·¯ç”±\n```\n\n```python\nfrom fastapi import FastAPI, Body\nfrom fastapi.middleware.cors import CORSMiddleware\nimport uvicorn\nfrom module.MSG_CALL_BACK import MSG_CALL_BACK # å¼•å…¥æ¨¡å‹ç±»\nfrom business.router import Router # å¼•å…¥è·¯ç”±\n\n\napp = FastAPI()\n# è§£å†³è·¨åŸŸ\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"*\"],\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"]\n)\n\n@app.post('/')\ndef read_model(item:MSG_CALL_BACK = Body(...)):   \n    Router.handle_post(item) # å°†æ¥æ”¶åˆ°çš„æ¶ˆæ¯è½¬äº¤ç»™è·¯ç”±å¤„ç†\n    return {\"status\":1}\n\nif __name__ == \"__main__\":   \n    uvicorn.run(app = app, host = \"0.0.0.0\", port = \"8000\")\n```\n\n## è¯•éªŒæ¶ˆæ¯æ”¶å‘åŠŸèƒ½\n\nåœ¨æ§åˆ¶å°ä¸­è¾“å…¥\n\n```bash\nuvicorn main:app --reload\n```\n\nå¯åŠ¨æœåŠ¡å™¨\n\nåŒæ—¶ç¡®ä¿MyQQæœºå™¨äººå·²ç»åœ¨çº¿ï¼Œå¹¶å¼€å¯äº†HTTP APIæ’ä»¶çš„æœåŠ¡\n\n![æœåŠ¡å™¨å¯åŠ¨](image-20211121173003878.png)\n\næ­¤æ—¶æˆ‘ä»¬å†™å¥½çš„æœåŠ¡å™¨å·²ç»å¼€å§‹å·¥ä½œäº†ï¼Œæˆ‘ä»¬å‘é€ä¸€æ¡æ¶ˆæ¯è¯•è¯•\n\n![å‘é€æ¶ˆæ¯](image-20211121174258211.png)\n\næˆåŠŸæ”¶åˆ°äº†æœºå™¨äººçš„å›å¤ï¼Œæ­¤æ—¶çš„æ§åˆ¶å°è¾“å‡ºä¸º\n\n![image-20211121174952539](image-20211121174952539.png)\n\nå…¶ä¸­ï¼Œå‰ä¸‰è¡Œæ˜¯æˆ‘ä»¬æ‰“å°çš„è¾“å‡ºï¼Œç¬¬å››è¡Œæ˜¯MyQQæœåŠ¡å™¨çš„è¿”å›ä¿¡æ¯ï¼Œå‘Šè¯‰æˆ‘ä»¬å‘é€çš„æ¶ˆæ¯å·²ç»è¢«æˆåŠŸå¤„ç†ï¼Œç¬¬äº”è¡Œæ˜¯æœ¬åœ°æœåŠ¡å™¨æ‰“å°çš„ä¿¡æ¯ï¼Œè¡¨ç¤ºæœåŠ¡å™¨è¢«è®¿é—®äº†\n\n## ç»“æŸ\n\nä¸€ä¸ªç®€å•çš„èƒ½å¤„ç†è¾“å…¥è¾“å‡ºçš„qqæœºå™¨äººå°±æ­å»ºå®Œæˆäº†ï¼Œåç»­è¿˜å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šå¢åŠ å„ç§åŠŸèƒ½ï¼Œæ¯”å¦‚å‘é€å›¾ç‰‡ï¼Œè‡ªåŠ¨ç‚¹èµï¼Œè‡ªåŠ¨å‘é€å¤©æ°”é¢„æŠ¥ï¼ŒåŸºäºäººå·¥æ™ºèƒ½çš„è‡ªåŠ¨èŠå¤©ç­‰ç­‰\n\n## é™„ä»¶\n\n[æœ¬æ–‡çš„ç›¸å…³ä»£ç ](code.zip)\n\n","tags":["ç¼–ç¨‹","æŠ€æœ¯"],"categories":["qqæœºå™¨äºº"]},{"title":"2021.4åŠ¨ç”»æ¨è","url":"/åˆé›†/åŠ¨ç”»æ¨è/2021.4 åŠ¨ç”»æ¨è/","content":"\n# 2021.4 åŠ¨ç”»æ¨è\n\n{% note warning %} \n\n**ä¸»è§‚åˆ¤æ–­è­¦å‘Šï¼**\n\næœ¬æ–‡çº¯ç²¹å‡ºäºç¬”è€…ä¸ªäººä¸»è§‚ç»éªŒä¸æ„Ÿå—è€Œæˆï¼Œå¦‚æœ‰ä»»ä½•ä¸åŒæ„è§æ¬¢è¿å‹å–„äº¤æµè®¨è®º\n\næ²¡æœ‰æåˆ°çš„ä½œå“ç¬”è€…æ²¡çœ‹ï¼Œæˆ–ä¸ç¬¦åˆç¬”è€…ä¸ªäººå…´è¶£ï¼Œæˆ–è§‚çœ‹ä»·å€¼è¾ƒä½\n\n{% endnote %}\n\n## Vivy -Fluorite Eyeâ€™s Song-ï¼ˆè–‡è–‡ -è¤çŸ³çœ¼ä¹‹æ­Œ-ï¼‰\næ¨èåº¦ï¼š90åˆ†\nä¼˜ç§€çš„ä½œç”»ï¼Œæµç•…ç²¾å½©çš„æ‰“æ–—ï¼Œå•å…ƒå‰§å½¢å¼ã€‚ä¸»çº¿ç±»ä¼¼äºäº¬ç´«ï¼Œä¸è¿‡æ¢æˆäº†æ­Œå§¬aiæ‹¯æ•‘äººç±»çš„è¿‡ç¨‹ä¸­å¯»æ‰¾çœŸå¿ƒçœŸæƒ…çš„æ•…äº‹ã€‚\nå…³é”®è¯ï¼š`éŸ³ä¹`ï¼Œ`ai`ï¼Œ`æ²»æ„ˆ`ï¼Œ`æˆ˜æ–—`\n\n## ã‚¤ã‚¸ã‚‰ãªã„ã§ã€é•·ç€ã•ã‚“ï¼ˆåˆ«æ¬ºè´Ÿæˆ‘é•¿ç€åŒå­¦ï¼‰\næ¨èåº¦ï¼š75åˆ†\nç”»é¢ä¼˜ç§€çš„æç¬‘æ‹çˆ±å–œå‰§ï¼Œå’Œé«˜æœ¨åŒå­¦ç±»ä¼¼çš„å‘å±•ï¼Œä½†æ¯”é«˜æœ¨åŒå­¦å‰§æƒ…æ›´åŠ æ´»è·ƒã€‚æ˜¯æ´»æ³¼é»‘çš®å°‘å¥³ä¸é—·éªšç”·çš„æ•…äº‹ã€‚\nå…³é”®è¯ï¼š`æ—¥å¸¸`ï¼Œ`å–œå‰§`ï¼Œ`æ ¡å›­`ï¼Œ`æ‹çˆ±`\n\n## ã‚·ãƒ£ãƒ‰ãƒ¼ãƒã‚¦ã‚¹ï¼ˆå½±å®…ï¼‰\næ¨èåº¦ï¼š70\nç”»é¢ä¼˜ç§€ï¼Œopedå…·æœ‰ç‰¹è‰²ï¼ŒåˆæœŸè®¾å®šæœ‰è¶£ï¼Œåç»­å‰§æƒ…æ¯”è¾ƒå¹³æ·¡ï¼ŒåŠæ—¥å¸¸åŠé—¯å…³ã€‚\nå…³é”®è¯ï¼š`ç„å¹»`ï¼Œ`è½»ç™¾åˆ`\n\n## 86â€•ã‚¨ã‚¤ãƒ†ã‚£ã‚·ãƒƒã‚¯ã‚¹â€•ï¼ˆ86-ä¸å­˜åœ¨çš„æˆ˜åŒº-ï¼‰\næ¨èåº¦ï¼š60\nè®¾å®šä¸€èˆ¬ï¼Œå‰§æƒ…ç»ä¸èµ·æ¨æ•²ï¼Œå¥³ä¸»ç™½é•¿ç›´ã€‚ç™½æ¯›æ§ä¸é¾™å‚²å¤©çˆ±å¥½è€…å¯ä¸å¸¦è„‘å­å°è¯•ã€‚æ€»ä½“æ°´å“å±äºä¸€èˆ¬ã€‚\nå…³é”®è¯ï¼š`ç™½æ¯›`ï¼Œ`æœºç”²`ï¼Œ`æˆ˜äº‰`\n\n","tags":["äºŒæ¬¡å…ƒ","åŠ¨ç”»"],"categories":["åŠ¨ç”»æ¨è"]},{"title":"æˆ‘ä¸ºä»€ä¹ˆå–œæ¬¢ç ‚ç³–","url":"/æˆ‘ä¸ºä»€ä¹ˆå–œæ¬¢ç ‚ç³–/","content":"\n# [Genshin] [åŸç¥] æˆ‘ä¸ºä»€ä¹ˆå–œæ¬¢ç ‚ç³–\n\n## ç®€ä»‹\n\n`æ— å®³ç”œåº¦` `è¥¿é£éª‘å£«å›¢ç‚¼é‡‘æœ¯å¸ˆ` `ç”Ÿæ—¥ï¼š11æœˆ26æ—¥` `å‘½ä¹‹åº§ï¼šçƒ§ç“¶åº§` `ç¥ä¹‹çœ¼ï¼šé£`\n\n> ç‚¼é‡‘æœ¯å£«ç ‚ç³–åœ¨ã€Œç”Ÿç‰©ç‚¼é‡‘ã€è¿™ä¸€é¢†åŸŸæˆå°±æ–ç„¶ã€‚\n>\n> åœ¨å…¶ç ”ç©¶è¿‡ç¨‹â€¦æˆ–è€…ï¼Œå€Ÿç”¨å¥¹çš„è¯ï¼šã€Œåœ¨è¿½æ±‚çœŸç†çš„é“è·¯ä¸Šã€ï¼Œæœ‰æ—¶ä¹Ÿä¼šè¯ç”Ÿå‡ºå„ç±»ç¥ç§˜äº§ç‰©ã€‚\n>\n> èƒ½é•¿å‡ºå…­å€ç§å­ã€èµ·é£æ—¶è®©æ»¡åŸäººä¸å¾—ä¸å…³çª—é—­é—¨çš„è¶…çº§è’²å…¬è‹±ï¼Œè¿çŸ³ç –éƒ½èƒ½åˆ’ç ´çš„é’©é’©æœï¼Œè¿˜æœ‰â€¦è·Ÿå—ç“œé•¿å¾—å·®ä¸å¤šå¤§çš„æ—¥è½æœã€‚\n>\n> ä»¥ä¸Šè¿™äº›æˆæœç»™ç ‚ç³–å¸¦æ¥äº†å·¨å¤§ç–‘é—®ï¼Œå€’ä¹Ÿè®©å¥¹çš„ç ”ç©¶å¤§æ­¥è¿ˆè¿›ã€‚\n>\n> ç„¶è€Œï¼Œä¸ºå®ƒä»¬èµ·åå­—å´æ˜¯æ›´ä¸ºå›°éš¾çš„äº‹ã€‚å¯¹ç ‚ç³–è€Œè¨€ï¼Œæ¯”çœ‹è§å®éªŒæ¤æ ªè¢«äººæ‘˜èµ°æˆ–æ˜¯ç ”ç©¶ç”¨å“è¢«æ±¡æŸ“è¿˜è¦ç—›è‹¦ã€‚\n>\n> ä¸ºä¸€æ ªèŠ±èœœæµ“ç¨ å¦‚èƒ¶æ°´çš„ç”œç”œèŠ±å‘½åæ—¶ï¼Œæ—¶é—´å°±åƒæ²³æ°´ä¸€æ ·ç–¯ç‹‚åœ°æµèµ°äº†ã€‚ç ‚ç³–ç”¨å°½å¿ƒæ€ï¼ŒèŠ±è´¹æ¯”ä¸ºæ•´ç‰‡è¯•éªŒç”°äººå·¥æˆç²‰è¿˜é•¿çš„æ—¶é—´åï¼Œæ€»ç®—å–å‡ºäº†ä¸€ä¸ªå‹‰å¼ºç®—æ˜¯åå­—çš„ä¸œè¥¿ï¼š\n>\n> ã€Œè¿™æ˜¯ç¬¬äºŒåå…«æ ªâ€¦æ€§çŠ¶â€¦æœ¬æ¥å­¦åâ€¦ã€\n>\n> ã€Œå°±ã€å°±å«å®ƒâ€¦ç–å¼ç”œç”œèŠ±æ”¹äºŒåå…«å·é¦™å‘³ç‰¹åŒ–ç‰ˆå¥½äº†ï¼ã€\n\nä¼—æ‰€å‘¨çŸ¥ï¼Œæœ¬äººæ˜¯ç ‚ç³–å¨ï¼Œåœ¨åŸç¥ä¼—å¤šè§’è‰²ä¸­ï¼Œå”¯ç‹¬ç ‚ç³–æœ€ä»¤æˆ‘å€¾å¿ƒï¼Œæœ¬æ–‡æ—¨åœ¨è¯´æ˜æœ¬äººä¸ºä½•å–œæ¬¢ç ‚ç³–ï¼Œè¡¨ç°ç ‚ç³–çš„å¯çˆ±ä¸çŸ¥æ€§ï¼Œè®©æ›´å¤šäººè®¤è¯†åˆ°ç ‚ç³–çš„é­…åŠ›\n\n## å¤–è²Œ\n\n![ç ‚ç³–](ç ‚ç³–.jpg)\n\n### æ•´ä½“\n\nç ‚ç³–çš„ä¸»ä½“è‰²è°ƒæ˜¯ç»¿ã€è“ã€ç™½ï¼Œå‘è‰²æ˜¯æ·¡æ·¡çš„é’ç»¿è‰²ã€‚ç ‚ç³–æœ‰ç€ç¥ç€è‰²çš„çœ¼é•œå’Œç™½çš™çš„çš®è‚¤ï¼ŒæŠ«ç€ç™½è‰²çš„æŠ«é£ï¼Œèº«ç€æ·±è“è‰²è£™å­ï¼Œè£™æ‘†æ˜¯è·å¶çš„æ ·å¼ï¼Œä¿çš®å¯çˆ±ï¼Œä¸‹åŠèº«ç€åŠå¸¦é»‘ä¸ï¼Œåˆæ˜¾å¾—æˆç†Ÿæ€§æ„Ÿï¼Œè„šè¸©ç™½è‰²é•¿é´å¹²ç»ƒè¸å®\n\n### ç»†èŠ‚\n\n- ç ‚ç³–çš„è€³æœµæ˜¯å…½è€³ï¼Œä¸è¿‡ä¸åƒè¿ªå¥¥å¨œé‚£æ ·ç«–èµ·ï¼Œè€Œæ˜¯å‘ä¸‹è€·æ‹‰ç€çš„ï¼Œè¡¨ç°äº†ç ‚ç³–çš„ç¨³é‡ä¹–å·§ï¼Œè¿™å¯¹æ¯›èŒ¸èŒ¸çš„å…½è€³åœ¨ç ‚ç³–èµ°åŠ¨æ—¶ä¼šä¸Šä¸‹è·³åŠ¨ï¼Œååˆ†å¯çˆ±\n- ç ‚ç³–æˆ´ç€çœ¼é•œï¼Œç»“åˆå¥¹ç‚¼é‡‘æœ¯å¸ˆçš„èº«ä»½ï¼Œç»™äººä¸€ç§çŸ¥æ€§ã€å…¸é›…çš„ç¾æ„Ÿ\n- ç ‚ç³–çš„å¤´å‘å¾ˆé•¿ï¼Œåªä¸è¿‡æ¢³æˆäº†ä¸€è‚¡ç»†ç»†çš„é•¿è¾«ï¼Œç²—ç•¥ä¸€çœ‹ä¸å¤ªå®¹æ˜“æ³¨æ„ï¼Œå¦‚æœå°†å¤´å‘è§£å¼€ï¼Œå®šæ˜¯æŸ”é¡ºæ¼‚äº®çš„é•¿å‘\n\n## æ€§æ ¼\n\nç ‚ç³–æ˜¯ç‚¼é‡‘æœ¯å¸ˆï¼Œå¥¹æ·±æ·±çƒ­çˆ±ç€ç ”ç©¶ä¸–ç•Œï¼Œå¥¹å¯¹ç‚¼é‡‘æœ¯çš„ç—´è¿·å·²ç»è¿‘ä¹ç‹‚çƒ­\n\nç ‚ç³–å¯¹çŸ¥è¯†çš„è¿½æ±‚æ³¨å®šäº†å¥¹ä¸ä»…ä»…åªæ˜¯ä¸€ä¸ªå¾’æœ‰å…¶è¡¨çš„èŠ±ç“¶\nç ‚ç³–ä¸åƒå¯è‰é‚£æ ·åˆ»æ„å–èŒï¼Œä¸åƒå®‰æŸé‚£æ ·çƒ­æƒ…å¥½å®¢ã€è‡ªæ¥ç†Ÿï¼Œä¹Ÿä¸åƒç¥é‡Œç»«åé‚£æ ·å¯¹æ—…è¡Œè€…ä¸€è§é’Ÿæƒ…ï¼Œæ— æ¡ä»¶å€’è´´\nå¥¹åªæ˜¯åœ¨è®¤çœŸçš„åšè‡ªå·±å–œæ¬¢çš„ä¸œè¥¿ï¼Œå¥¹åªæ˜¯ä¸æ–­åœ°è¿½æ±‚çŸ¥è¯†çš„é«˜å³°\nä¸è°„åªšï¼Œä¸ä¸–ä¿—ï¼Œä¸å¹³åº¸ï¼Œæ­£å¦‚å¥¹è·å¶èˆ¬çš„è£™æ‘†ä¸€æ ·ï¼Œå¥¹åªæ˜¯é™é™åœ°å¼€æ”¾ï¼Œäººä»¬è‡ªç„¶å°±èƒ½å‘ç°å¥¹çº¯æ´çš„çµé­‚\n\n## æ¯”è¾ƒ\n\n### å¯è‰\n\n- å¯è‰çš„ç²¾çµè€³å…‰ç§ƒç§ƒçš„ï¼Œä¸å¦‚ç ‚ç³–è¿™æ ·æ¯›èŒ¸èŒ¸çš„å¯çˆ±\n- å¯è‰æ€§æ ¼å¤ªè¿‡äºå¹¼ç¨šï¼Œç¼ºä¹ç†æ€§ä¸å†…æ¶µ\n\n### é˜¿è´å¤š\n\n- ä¸è®ºæ€§åˆ«ï¼Œé˜¿è´å¤šçš„æƒ…æ„Ÿæ´»åŠ¨å¤ªè¿‡äºå¹³æ·¡ï¼Œè™½ç„¶ç ‚ç³–ä¹Ÿå–œæ¬¢ç ”ç©¶ï¼Œä½†å¥¹å¹¶ä¸æ˜¯æ— å£æ— å¿ƒä¹‹äºº\n\n### å‡å…‰\n\n- å‡å…‰é«˜è´µä¼˜é›…ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„è§’è‰²ï¼Œä½†æ˜¯å‡å…‰å¤ªè¿‡äºå°Šè´µï¼Œå¯¹å¥¹å§‹ç»ˆæœ‰è·ç¦»æ„Ÿ\n\n### åˆ»æ™´\n\n- åˆ»æ™´å’Œç ‚ç³–ç±»ä¼¼ï¼Œä¹Ÿæœ‰ã€Œè®¤çœŸã€çš„æ ‡ç­¾ï¼Œä½†æ˜¯åˆ»æ™´å¤ªè¿‡äºä¸€æœ¬æ­£ç»ï¼Œæˆ–è€…è¯´å¤ªè¿‡äºåˆ»æ¿ï¼Œè€Œä¸”å¥¹ç›¸æ¯”ç ‚ç³–æ›´åŠ çš„ä¸–ä¿—ï¼Œè€Œç ‚ç³–åˆ™æ˜¾å¾—æ›´åŠ è¶…ç„¶ä¸€äº›\n\n### ç¥é‡Œç»«å\n\n- ç¥é‡Œç»«åè¿™ä¸ªå‘å‹æˆ‘ä¸å–œæ¬¢ï¼Œè¿™ä¸ªå‘å‹å…¶ä»–è§’åº¦çœ‹è¿˜å¥½ï¼Œä»æ­£é¢çœ‹å®åœ¨ä»¤æˆ‘ä¸å¤ªèƒ½æ¥å—\n- ç¥é‡Œç»«åä½œä¸ºç¥é‡Œå®¶ç¤¾äº¤æ–¹é¢çš„æ ¸å¿ƒäººç‰©ï¼Œæ•´æ—¥ä¸é’±ã€æƒæ‰“äº¤é“ï¼Œè€Œä¸”å¥¹è¿˜æ˜¯è¾¾å®˜æ˜¾è´µçš„å¤§å°å§ï¼Œè¿™æ ·çš„ç¯å¢ƒä¸‹æˆé•¿å‡ºæ¥çš„ç¥é‡Œç»«åï¼Œç»ˆç©¶ä¸ä¸€èˆ¬äººæœ‰ä¸€å®šçš„éš”é˜‚\n\n## æ€»ç»“\n\n- ç ‚ç³–å¤–è²Œå¯çˆ±è€Œåˆä¸å¼ æ‰¬ï¼ŒçŸœæŒé«˜é›…\n- ç ‚ç³–è¡£ç€å¾—ä½“ï¼Œæ­é…åˆç†ï¼Œä¸åªšä¿—ï¼Œä¸è€åœŸ\n- ç ‚ç³–çƒ­çˆ±ç ”ç©¶ï¼Œä½†åˆä¸å‘†æ¿ï¼Œåè€Œæ›´æ˜¾å¥¹å†…åœ¨çš„å……å®ï¼Œçµé­‚çš„ä¸°æ»¡\n- ç ‚ç³–å¯¹ä¸–ç•Œå……æ»¡å¥½å¥‡ï¼Œå¯Œæœ‰æ¢ç´¢ç²¾ç¥ï¼Œæ€ç»´æ´»è·ƒï¼Œå¯è§å¥¹çš„ç²¾ç¥ä¸–ç•Œä¸°å¯Œå¤šå½©\n\n","tags":["äºŒæ¬¡å…ƒ","æ¸¸æˆ","åŸç¥"],"categories":["å…¶ä»–"]},{"title":"åœ°å½¢å˜è§‚æµ‹æ–¹æ³•","url":"/åœ°å½¢å˜è§‚æµ‹æ–¹æ³•/","content":"\n# åœ°å½¢å˜è§‚æµ‹æŠ€æœ¯\n\n## å†™åœ¨å‰é¢\n\n\n{% note warning %}\n### éä¸“ä¸šé¢„è­¦\n\nä½œè€…å¹¶éç›¸å…³ä¸“ä¸šäººå£«ï¼Œä»…ä»…æ˜¯æŠŠè‡ªå·±æŸ¥åˆ°çš„èµ„æ–™åšäº†ä¸€ä¸ªæ€»ç»“è®°å½•ï¼Œå…¶ä¸­éš¾å…æœ‰é”™è¯¯æˆ–æ˜¯ä¸å…¨é¢çš„éƒ¨åˆ†ï¼Œå¦‚æœåœ¨æ–‡ä¸­å‘ç°ä»»ä½•é”™è¯¯ï¼Œçƒ¦è¯·åœ¨è¯„è®ºåŒºä¸­æ–§æ­£\n\n{% endnote %}  \n\n\n## ä»€ä¹ˆæ˜¯åœ°å½¢å˜\n\n> åœ°å½¢å˜ï¼ˆground deformationï¼‰åˆç§°åœ°éœ‡å½¢å˜ï¼Œåœ¨åœ°éœ‡å‘ç”Ÿæ—¶æˆ–åœ°éœ‡å‰åï¼Œç”±äºæ„é€ è¿åŠ¨æˆ–åœ°éœ‡æ„é€ åŠ›ä»¥åŠåœ°éœ‡æ³¢æŒ¯åŠ¨ä½œç”¨ï¼Œåœ°è¡¨äº§ç”Ÿå˜å½¢çš„ç°è±¡\n\n## åœ°å½¢å˜è§‚æµ‹\n\n1. åœ°éœ‡ä¼šå¼•èµ·å¦‚å¡Œæ–¹ã€æ²³æµæ”¹é“ç­‰è¾ƒä¸ºæ˜æ˜¾çš„åœ°å½¢å˜ï¼Œè¿™äº›å¯ä»¥é€šè¿‡é¥æ„Ÿå«æ˜Ÿæˆ–æ˜¯èˆªæ‹çš„æ–¹å¼ï¼Œç”¨è‚‰çœ¼ç›´æ¥è§‚æµ‹åˆ°ã€‚\n\n2. åœ°éœ‡ä¼šåœ¨åœ°çƒè¡¨é¢å½¢æˆæ–­å±‚ï¼Œè¿™äº›æ–­å±‚åœ¨åœ°éœ‡å‘ç”Ÿä¹‹åå¾ˆé•¿ä¸€æ®µæ—¶é—´ä¼šè®©åœ°è¡¨ç¼“æ…¢åœ°æ»‘è½æˆ–æ˜¯ç¼“æ…¢åœ°ç§»åŠ¨ï¼Œè¿™ç§å½¢å˜èŒƒå›´å¹¿ã€å˜åŒ–å°ã€è€—æ—¶é•¿ï¼Œéœ€è¦ç”¨æ›´åŠ ç²¾ç¡®çš„GNSSæŠ€æœ¯æ¥ç›‘æµ‹åœ°éœ‡åçš„åœ°å½¢å˜åŒ–ã€‚\n\n**åœ¨è¿™é‡Œä¸»è¦è®¨è®ºç¬¬äºŒç§**\n\n## åœ°å½¢å˜è§‚æµ‹æŠ€æœ¯-GNSSæŠ€æœ¯\n\näººä»¬é€šè¿‡åœ¨åœ°è¡¨å»ºç«‹å¤§é‡çš„è§‚æµ‹ç«™ç»„æˆè§‚æµ‹ç½‘ï¼Œæ¥è®°å½•ä¸åŒæ—¶é—´çš„åœ°è¡¨ä½ç§»ï¼Œä»è€Œå¯ä»¥è·å–ä¸€æ•´å—åœ°åŒºçš„åœ°å½¢å˜ã€‚\n\n### DGPS\n\n> DGPS(Differential Global Positioning System)ï¼šå·®åˆ†å…¨çƒå®šä½ç³»ç»Ÿã€‚åœ¨ä½ç½®å·²ç²¾ç¡®æµ‹å®šçš„å·²çŸ¥ç‚¹ä¸Šé…å¤‡ä¸€å° GPS æ¥æ”¶æœºä½œä¸ºåŸºå‡†ç«™å¹¶å’Œç”¨æˆ·åŒæ—¶è¿›è¡Œ GPS è§‚æµ‹ï¼Œå°†å¾—åˆ°çš„å•ç‚¹å®šä½çš„ç»“æœä¸åŸºå‡†ç«™åæ ‡æ¯”è¾ƒï¼Œæ±‚è§£å‡ºå®æ—¶å·®åˆ†ä¿®æ­£å€¼ï¼Œä»¥å¹¿æ’­æˆ–æ•°æ®é“¾ä¼ è¾“æ–¹å¼ï¼Œå°†å·®åˆ†ä¿®æ­£å€¼ä¼ é€è‡³é™„è¿‘ GPSç”¨æˆ·ï¼Œä»¥ä¿®æ­£å…¶GPSå®šä½è§£ï¼Œæé«˜å…¶å±€éƒ¨èŒƒå›´å†…ç”¨æˆ·çš„å®šä½ç²¾åº¦ã€‚\n\n**ç®€å•æ¥è¯´å°±æ˜¯é€šè¿‡å·²çŸ¥çš„ç²¾ç¡®åæ ‡æ¥ä¿®æ­£GPSåæ ‡ï¼Œä»è€Œè·å¾—æ›´é«˜çš„ç²¾åº¦ã€‚**\n\n### PPP\n\n> PPP(Precise Point Positioning)ï¼šç²¾å¯†å•ç‚¹å®šä½æŠ€æœ¯ã€‚é€šè¿‡ç²¾ç¡®çš„å«æ˜Ÿè½¨é“å’Œæ—¶é—´æ¥è·å–é«˜ç²¾åº¦åæ ‡ã€‚\n\n### äºŒè€…æ¯”è¾ƒ\n\n- è¦ä½¿ç”¨DGPS**è¦æ±‚æœ‰ä¸€ä¸ªå®šä½ç²¾ç¡®çš„åŸºå‡†ç«™**ä¸”èƒ½å¤Ÿæ”¶åˆ°å®ƒçš„ä¿¡å·ï¼Œè€Œä¸”è·ç¦»åŸºå‡†ç«™è¶Š**è¿œæ•ˆæœè¶Šå·®**ã€‚\n- PPPå®šä½åªéœ€è¦å•å°GPSæ¥æ”¶æœºå°±å¯ä»¥è¿›è¡Œï¼Œç”±äºåªæœ‰å•å°æ¥æ”¶æœºï¼Œæ‰€ä»¥**å¿…é¡»è¦æŒç»­æ¥æ”¶ä¸€æ®µæ—¶é—´çš„æ•°æ®**æ‰èƒ½è·å¾—ç²¾ç¡®å€¼ï¼Œé€šå¸¸å¤§çº¦è¦ç­‰å¾…20åˆ†é’Ÿå·¦å³ã€‚\n- å¯è§ï¼Œä¸¤è€…å„æœ‰åˆ©å¼Šã€‚\n- æ— è®ºæ˜¯DGPSè¿˜æ˜¯PPPï¼Œå®ƒä»¬çš„è®¡ç®—éƒ½éå¸¸ç¹çï¼Œå› æ­¤ä¸€èˆ¬ä¼šç”±ä¸“é—¨çš„æœºæ„è®¡ç®—è¿™äº›ä»å„ä¸ªè§‚æµ‹ç«™æ”¶é›†åˆ°çš„å«æ˜Ÿæ•°æ®ï¼Œå¹¶æŠŠè®¡ç®—ç»“æœå‘å¸ƒå‡ºæ¥ã€‚\n\n## è§‚æµ‹ç«™â€”â€”è§‚æµ‹ç«™å®ä¾‹\n\n- å›¾ç¤ºæ˜¯ç¾å›½çš„ä¸€ä¸ªåä¸º`BayArea`çš„è§‚æµ‹ç«™ç½‘ç»œï¼Œç°åœ¨é€‰ä¸­å…¶ä¸­ä¸€ä¸ªåä¸º`BRI2`çš„è§‚æµ‹ç«™ã€‚\n\n![è§‚æµ‹ç½‘](image-20211031181228931.png)\n\n![æ•°æ®1](image-20211031181301883.png)\n\n<center>â†‘å•ç‹¬çš„è§‚æµ‹æ•°æ®â†‘</center>\n\n![æ•°æ®2](image-20211031181317889.png)\n\n<center>â†‘å¹´å¹³å‡æ•°æ®â†‘</center>\n\n- å…ˆçœ‹å•ç‹¬çš„è§‚æµ‹æ•°æ®ï¼Œç¬¬ä¸€è¡Œè®°å½•å—åŒ—çš„ä½ç§»ï¼Œç¬¬äºŒè¡Œè®°å½•ä¸œè¥¿çš„ä½ç§»ï¼Œç¬¬ä¸‰è¡Œè®°å½•ä¸Šä¸‹çš„ä½ç§»ã€‚å…¶ä¸­ï¼Œè“è‰²çš„ç‚¹è¡¨ç¤ºæ­£å¸¸è®°å½•ï¼Œçº¢è‰²çš„ç‚¹è¡¨ç¤ºå‘ç”Ÿåœ°éœ‡åçš„è®°å½•\n- å†çœ‹å¹´å¹³å‡æ•°æ®ï¼Œå®ƒå°±æ˜¯æŠŠå•ç‹¬çš„æ•°æ®æ±‚äº†ä¸ªå¹³å‡å€¼ï¼Œå¾—åˆ°äº†è¯¥è§‚æµ‹ç«™çš„å¹´å¹³å‡ä½ç§»\n\n##  è§‚æµ‹ç ”ç©¶å®ä¾‹â€”â€”311æ—¥æœ¬åœ°éœ‡\n\n2011å¹´3æœˆ11æ—¥ï¼Œåœ¨æ—¥æœ¬ä¸œåŒ—éƒ¨å¤ªå¹³æ´‹æµ·åŸŸå‘ç”Ÿ9.0çº§åœ°éœ‡ï¼Œå¯¹æ—¥æœ¬é€ æˆäº†ä¸¥é‡çš„ç¾éš¾ï¼Œä»¥ä¸‹æ˜¯æ—¥æœ¬è§‚æµ‹ç½‘å¯¹å½“æ—¶åœ°éœ‡çš„è®°å½•\n\n![æ—¥æœ¬åœ°éœ‡å®ä¾‹](image-20211031182057433.png)\n\nå³æ–¹çš„ç»¿è‰²å°æ˜Ÿæ˜Ÿæ˜¯éœ‡æºï¼Œå·¦å›¾è¡¨ç¤ºæ¨ªå‘ä½ç§»ï¼Œå³å›¾è¡¨ç¤ºçºµå‘ä½ç§»ï¼Œå¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°ï¼Œæ—¥æœ¬é™†åœ°æ•´ä½“å‘ä¸œä½ç§»ï¼Œå¹¶ä¸”ä¸œéƒ¨ä¸‹æ²‰ï¼Œè¥¿éƒ¨ä¸Šå‡\n\næ±‡æ€»è§‚æµ‹ç½‘ä¸­å„ä¸ªè§‚æµ‹ç«™çš„æ•°æ®å¯ä»¥å¾ˆå®¹æ˜“æ„ŸçŸ¥åˆ°åœ°éœ‡å¯¹é™†åœ°çš„å½±å“\n\n## è§‚æµ‹åœ°å½¢å˜çš„ä½œç”¨\n\n### åå¸¸åœ°å½¢å˜å¯èƒ½æ˜¯åœ°éœ‡å‘ç”Ÿçš„å‰å…†ï¼Ÿ\n\n![æŸè§‚æµ‹ç«™è®°å½•çš„æ•°æ®](image-20211031182954393.png)\n\nä¸Šå›¾æ˜¯æŸè§‚æµ‹ç«™åœ¨3æœˆ11æ—¥å‰10å¤©è®°å½•çš„ä¸€ç»„æ•°æ®ï¼Œå¯ä»¥çœ‹åˆ°è§‚æµ‹ç«™æœ‰æ˜æ˜¾å‘ä¸œåçš„è¶‹åŠ¿ï¼Œè¿™ä¸åœ°éœ‡å‘ç”Ÿåçš„å˜åŒ–ä¸€è‡´\n\n![å¤šä¸ªè§‚æµ‹ç«™è®°å½•çš„æ•°æ®](image-20211031183147226.png)\n\nè¿™å¼ å›¾æ˜¯å¤šä¸ªè§‚æµ‹ç«™è®°å½•çš„æ•°æ®ï¼Œå¯ä»¥çœ‹åˆ°åœ¨3æœˆ9æ—¥å…¶å®è¿˜å‘ç”Ÿäº†ä¸€åœº7çº§çš„åœ°éœ‡ï¼Œè®¸å¤šè§‚æµ‹ç«™å¼€å§‹ä¸œåçš„åŸå› æ˜¯è¿™åœºåœ°éœ‡ï¼Œæ›´æœ‰ä¸€äº›è§‚æµ‹ç«™ï¼Œå³ä½¿åœ¨3æœˆ9æ—¥ä¹‹åä»ç„¶æ²¡æœ‰æ˜æ˜¾åç§»ï¼Œè¿™æ ·æ¥çœ‹ï¼Œæˆ–è®¸åœ°éœ‡å‰çš„åœ°å½¢å˜åˆæ— æ³•è¯´æ˜åœ°éœ‡å³å°†åˆ°æ¥\n\n{% note warning %} \n\n<h5>ç»“è®º</h5>\n\né€šè¿‡åœ°å½¢å˜æ˜¯å¦èƒ½å¤Ÿé¢„æµ‹åœ°éœ‡åˆ°ç›®å‰ä¸ºæ­¢ä»ç„¶**æ²¡æœ‰å®šè®º**ï¼Œæˆ–è®¸è¿˜éœ€è¦æ›´å¤šè§‚æµ‹æ•°æ®å’Œç»Ÿè®¡æ‰èƒ½ç ”ç©¶å‡ºç»“æœå§ {% endnote %}  \n\n\n### **åœ°éœ‡åçš„åœ°å½¢å˜å¯èƒ½å¯¹æ¬¡ç”Ÿç¾å®³é€ æˆå½±å“ï¼Ÿ**\n\næ—¥æœ¬ä½œä¸ºä¸€ä¸ªæ²¿æµ·å›½å®¶ï¼Œæœ€å¤§çš„æ¬¡ç”Ÿç¾å®³ä¾¿æ˜¯æµ·å•¸ï¼Œé™†åœ°çš„å¹³ç§»ç¿»åŠ¨æ˜¯å¦ä¼šå½±å“æµ·å•¸çš„å½±å“èŒƒå›´å’Œçƒˆåº¦ï¼Ÿè¿˜æœ‰å¦‚æ±¶å·åœ°éœ‡ï¼Œåœ°éœ‡åçš„åœ°é¢è¿åŠ¨æ˜¯å¦ä¼šå¯¼è‡´å±±ä½“æ»‘å¡ç­‰ç¾å®³çš„å‘ç”Ÿæ¦‚ç‡æé«˜ï¼Ÿè¿™äº›ä¹Ÿæ˜¯ä¸€ä¸ªåœ°å½¢å˜å¯ä»¥ç ”ç©¶çš„æ–¹å‘\n\n## å‚è€ƒæ–‡çŒ®\n\n- [1] [Makoto KAMIYAMA, Hideo KOIDE, Yasuji SAWADA, et al. Monitoring of Crustal Deformation and Its Application to Mitigation of Earthquake Disasters[j]. Journal of JSCE, 2017(5):206-225](https://www.jstage.jst.go.jp/article/journalofjsce/5/1/5_206/_pdf)\n\n","tags":["ç§‘æ™®","åœ°çƒç§‘å­¦","åœ°éœ‡"],"categories":["ç§‘æ™®"]},{"title":"Pythonå®ç°Web API","url":"/pythonå®ç°webapi/","content":"\n{% note info %} \n\n## åŸºäºFastAPIå’Œuvicornå¼€å‘\n\n- FastAPIæ˜¯ä¸€ä¸ªé«˜æ•ˆçš„å¼‚æ­¥Webæ¡†æ¶\n- uvicornæ˜¯å¿«é€Ÿçš„httpæœåŠ¡å™¨æ¡†æ¶\n\n- è¯¦æƒ…ï¼š[FastAPI](https://fastapi.tiangolo.com/zh/)  \n\n{% endnote %}\n\n\n\n## ä»£ç ç¤ºä¾‹\n\n``` python\nfrom fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\nimport uvicorn\n\n\napp = FastAPI()\n\n# å¤„ç†è·¨åŸŸ\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"*\"],\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"]\n)\n\n@app.get('/')\ndef read_root():\n    return {\"hello\" : \"world\"}\n\n@app.get(\"/items\")\ndef read_item(item_id:int, q:str = null):\n    return{\"item_id\" : item_id, \"msg\":q}\n\nif __name__ == '__main__':\n    uvicorn.run(app = app, host = \"0.0.0.0\", port = 8000)\n```\n\n`@app.post`ä¸‹çš„å‡½æ•°å¤„ç†postè¯·æ±‚ï¼Œ`@app.post('/')`è¡¨ç¤ºè·¯ç”±ï¼Œæœ¬ä¾‹ä¸­postçš„urlä¸º`localhost:8000`ï¼Œå¦‚æœæ”¹ä¸º`@app.post('/p')`ï¼Œé‚£ä¹ˆpostæ—¶çš„urlåº”ä¸º`localhost:8000/p`\n\nå…¶ä»–çš„è¯·æ±‚åŒç†\n\n## è¿è¡ŒæœåŠ¡å™¨\n\n```bash\nuvicorn <å¡«å…¥æ–‡ä»¶å>:<å¡«å…¥FastAPIå®ä¾‹å> --reload\n```\n\næˆ‘çš„ç¨‹åºæ–‡ä»¶åä¸ºwebtest.pyï¼Œå®ä¾‹åä¸ºappï¼Œæ‰€ä»¥æˆ‘çš„æŒ‡ä»¤ä¸ºï¼š\n\n```bash\nuvicorn webtest:app --reload\n```\n\nå®Œæ•´æŒ‡ä»¤æ˜¯ï¼š\n\n```bash\nuvicorn <æ–‡ä»¶å>:<å®ä¾‹å> --reload --host 192.XXX.XXX --port xxxx\n```\n\nå…¶ä¸­ï¼Œreloadæ˜¯è‡ªåŠ¨é‡å¯ï¼Œä¿®æ”¹æºæ–‡ä»¶åæœåŠ¡å™¨è‡ªåŠ¨é‡å¯ï¼Œåé¢çš„æ˜¯æŒ‡å®šä¸»æœºåœ°å€å’Œç«¯å£å·ï¼Œåœ¨å®ä¾‹ç¨‹åºä¸­å•ç‹¬è®¾ç½®äº†ï¼Œæ‰€ä»¥ä¸éœ€è¦å†åœ¨å‘½ä»¤è¡Œä¸­è®¾ç½®\n\nç›¸å…³æ–‡æ¡£ï¼š[Uvicorn](https://www.uvicorn.org/settings/)\n\n## HTMLè°ƒç”¨\n\nHTMLè°ƒç”¨ä¸è°ƒç”¨ä¸€èˆ¬çš„REST APIå½¢å¼ç›¸åŒï¼Œè¿™é‡Œä½¿ç”¨jQueryå‘å‡ºè¯·æ±‚\n\n```js\n$.get(\"http://127.0.0.1:8000/items\",\n{\n    \"item_id\" : 1\n},\nfunction(data){\n    console.log(data);\n})\n```\n\n![htmlå‘å‡ºgetè¯·æ±‚](image-20211026215907823.png)\n\n## å…³äºPOST\n\n### POSTåŸºç¡€å®ç°\n\nå¦‚æœä½ åƒç½‘ä¸Šå¾ˆå¤šç¤ºä¾‹ä¸€æ ·å†™POSTï¼Œå¹¶ç”¨jQueryè°ƒç”¨\n\nåç«¯ï¼š\n\n```python\n@app.post('/')\ndef read_model(msg:str):   \n    return {\"message\":msg}\n```\n\nå‰ç«¯ï¼š\n\n```javascript\n$.post(\"http://127.0.0.1:8000\",\n{\n    \"msg\" : \"æµ‹è¯•æ•°æ®\"\n},\nfunction(data){\n    console.log(data);\n},\n\"json\")\n```\n\né‚£ä¹ˆä½ ä¼šå‘ç°æœåŠ¡å™¨è¿”å›422é”™è¯¯ç ï¼Œè¯´ä½ çš„æ•°æ®æ ¼å¼ä¸æ­£ç¡®\n\n![postå‘ç”Ÿ422é”™è¯¯](image-20211027075547192.png)\n\nè¿™ä¸ªé—®é¢˜ä¹‹å‰åœ¨ç”¨.net coreå¼€å‘web apiæ—¶å°±å‘ç°è¿‡ï¼Œå½“æ—¶çš„è§£å†³æ–¹æ³•æ˜¯åœ¨å‚æ•°å‰åŠ ä¸Š`[FromForm]`\n\nåƒè¿™æ ·ï¼š\n\n```c#\n// è¿™é‡Œæ˜¯c#ä»£ç \n[HttpPost]\npublic void fun([FromForm] Item item)\n```\n\nè¿™æ˜¯å› ä¸ºçœ‹ä¼¼jQueryä¼ å‚æ˜¯ä¸€ä¸ªjsonï¼Œä½†å®é™…ä¸Šè¿˜æ˜¯ä»¥Formå½¢å¼ä¼ é€’çš„ï¼Œåœ¨pythonè¿™é‡Œä¹Ÿè¦è¿™æ ·æ“ä½œï¼Œåœ¨å‚æ•°åé¢åŠ ä¸Š`= Form(<å‚æ•°>)`\n\nä¿®æ”¹åçš„åç«¯ä»£ç ï¼š\n\n```python\nfrom fastapi import FastAPI, Form\n\n@app.post('/')\ndef read_model(msg:str = Form(...)):   \n    return {\"message\":msg}\n```\n\nå‰ç«¯ä¸ç”¨ä¿®æ”¹ï¼Œè¿™æ¬¡å¯ä»¥æ­£å¸¸POSTäº†\n\n![æˆåŠŸpost](image-20211027080336478.png)\n\nå…³äº`Form(<para>)`ä¸­çš„å‚æ•°\n\n- å¦‚æœå†™`Form(...)`è¡¨ç¤ºè¿™ä¸ªå‚æ•°ä¸å¯çœç•¥\n- å¦‚æœå†™`Form(\"è¿™æ˜¯é»˜è®¤æ•°æ®\")`è¡¨ç¤ºè¿™ä¸ªå‚æ•°ç¼ºçœæ—¶çš„é»˜è®¤å‚æ•°ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼š\"è¿™æ˜¯é»˜è®¤æ•°æ®\"\n- å¦‚æœå†™`Form(None)`è¡¨ç¤ºè¿™ä¸ªå‚æ•°ç¼ºçœæ—¶çš„é»˜è®¤å€¼ä¸ºç©º\n\n{% note danger %} æ³¨æ„ï¼š\n\nå…¶ä»–äººå’Œå®˜æ–¹æ–‡æ¡£çš„åŸºç¡€ç¤ºä¾‹ä¸­éƒ½æ²¡æœ‰æŒ‡å®šHeaderã€Bodyæˆ–æ˜¯Formï¼Œæœ¬äººå­¦è‰ºä¸ç²¾ï¼Œå¹¶ä¸æ¸…æ¥šæ€ä¹ˆå‘åç«¯ä¼ é€’jsonæ ¼å¼çš„æ•°æ®ï¼Œåªä¼šç”¨jQuery.ajaxæ–¹æ³•ä¼ å‚ï¼Œæ‰€ä»¥å¿…é¡»ç”¨åˆ°`= Form(<para>)`çš„å½¢å¼\n\nå¦‚æœå¤§ä½¬äº†è§£å…¶ä»–ä¼ å‚æ–¹å¼ï¼Œè¯·åŠ¡å¿…åœ¨è¯„è®ºåŒºä¸­ç•™è¨€ï¼Œæ„Ÿè°¢æ‚¨çš„æŒ‡å¯¼\n\n {% endnote %}\n\n### ä½¿ç”¨æ¨¡å‹ç±»\n\n{% note info %} \næ¨¡å‹ä½¿ç”¨`pydantic`  \nè¯¦æƒ…ï¼š[pydantic](https://pydantic-docs.helpmanual.io/)\n\n{% endnote %}\n\nè¿™é‡Œæˆ‘å°è¯•äº†å¥½ä¹…ä¹Ÿæ— æ³•åœ¨ä½¿ç”¨æ¨¡å‹ç±»çš„æƒ…å†µä¸‹ç”¨jQueryå®ç°postï¼Œç”¨ajaxæŒ‡å®šå„ç§æ•°æ®ç±»å‹ä¹Ÿæ²¡ç”¨ï¼Œç›´æ¥æ•²urlæœåŠ¡å™¨æ‹’ç»è®¿é—®ï¼Œå¦‚æœæœ‰å¤§ä½¬çŸ¥é“æ€ä¹ˆæ“ä½œçš„ï¼Œè¯·åœ¨åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œä¸èƒœæ„Ÿæ¿€\n\n\næˆ‘æƒ³å¼€å‘web apiä¸»è¦æ˜¯å› ä¸ºæƒ³è¦æ¥æ”¶`MyQQ`æœºå™¨äºº`HTMLAPI`çš„å›è°ƒè¯·æ±‚ï¼Œè™½ç„¶æ— æ³•æ¥æ”¶æ¥è‡ªFormçš„postè¯·æ±‚ï¼Œä½†æ¥è‡ªbodyçš„postè¯·æ±‚è¿˜æ˜¯å¯ä»¥æ¥æ”¶åˆ°çš„\n\nåˆ›å»ºæ¨¡å‹ç±»ï¼š\n\n```python\nfrom pydantic import BaseModel\n\nclass MSG_CALL_BACK(BaseModel):   \n    MQ_robot: str\n    MQ_type: int\n    MQ_type_sub: int\n    MQ_fromID: str\n    MQ_fromQQ: str\n    MQ_passiveQQ: str\n    MQ_msg: str\n    MQ_msgSeq: str\n    MQ_msgID: str\n    MQ_msgData: str\n    MQ_timestamp: str\n```\n\nç¼–å†™postå¤„ç†ï¼š\n\n```python\n@app.post('/')\ndef read_model(    \n    item:MSG_CALL_BACK):   \n    return {\"status\":1}\n```\n\nå³ä½¿ä¸æŒ‡å®šitemçš„ç±»å‹åœ¨pythonä¸­ä¹Ÿæ˜¯å®Œå…¨å¯è¡Œçš„ï¼Œåªä¸è¿‡æŒ‡å®šç±»å‹ååœ¨å–itemä¸­çš„å€¼æ—¶ä¼šæœ‰ä»£ç æç¤ºï¼Œä¹Ÿä¾¿äºä»£ç çš„ç†è§£\n\n","tags":["ç¼–ç¨‹","æŠ€æœ¯","ç½‘ç»œ"],"categories":["REST API"]}]